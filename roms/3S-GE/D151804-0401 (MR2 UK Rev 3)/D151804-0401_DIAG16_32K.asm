

;
; ษอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
; บ	This file is generated by The Interactive Disassembler (IDA)	    บ
; บ	Copyright (c) 2006 by DataRescue sa/nv,	<ida@datarescue.com>	    บ
; บ			 Licensed to: Freeware version			    บ
; ศอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ
;

; ; Processor:	      D8X
; ; Target assembler: Table Driven Assembler (TASM) by Speech Technology Inc.

; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ

				.locallabelchar "."

; Segment type:	Pure data
			      ;.segment	FSR
DDRA:			      .block 1			    ; DATA XREF: __RESET+33w
							    ; __RESET+117w
							    ; Port A i/o config
DDRB:			      .block 1			    ; Port B i/o config
WDC:			      .block 1			    ; watch dog	timer
TIMER3:			      .block 1			    ; DATA XREF: __RESET+10r
							    ; __RESET+136r
							    ; Timer LSB	(bit0~bit2)
TIMER:			      .block 1			    ; DATA XREF: __RESET+22Cr
							    ; drive_dout1+Ar ...
							    ; Timer MSB	(bit11~bit18)
TIMERL:			      .block 1			    ; Timer LSB	(bit3~bit10)
SIDR_SODR:		      .block 1			    ; DATA XREF: __RESET+4Dr
							    ; __RESET+53r ...
							    ; Serial Input/Output Data Register
SMRC_SIR:		      .block 1			    ; DATA XREF: __RESET+20r
							    ; __RESET+11Er ...
							    ; Serial Master Register Control
CPR0:			      .block 1			    ; DATA XREF: __RESET+22Ew
							    ; ignition_timing_calc+7Br	...
							    ; Timer comparison #0 MSB
CPR0L:			      .block 1			    ; Timer comparison #0 LSB
CPR1:			      .block 1			    ; DATA XREF: drive_dout1+Cw
							    ; Timer comparison #1 MSB
CPR1L:			      .block 1			    ; Timer comparison #1 LSB
CPR2:			      .block 1			    ; Timer comparison #2 MSB
CPR2L:			      .block 1			    ; Timer comparison #2 LSB
CPR3:			      .block 1			    ; Timer comparison #3 MSB
CPR3L:			      .block 1			    ; Timer comparison #3 LSB
ASR0P:			      .block 1			    ; DATA XREF: __RESET+4r
							    ; __RESET+13Cr
							    ; ASR0 pos edge counter value MSB
ASR0PL:			      .block 1			    ; DATA XREF: __RESET+35r
							    ; __RESET:loc_CA0Fr
							    ; ASR0 pos edge counter value LSB
ASR0N:			      .block 1			    ; DATA XREF: __RESET+Dr
							    ; __RESET+133r
							    ; ASR0 neg edge counter value MSB
ASR0NL:			      .block 1			    ; DATA XREF: __RESET+Ar
							    ; __RESET+142r
							    ; ASR0 neg edge counter value LSB
ASR1P:			      .block 1			    ; DATA XREF: __RESET+1Dr
							    ; __RESET+13Fr
							    ; ASR1 pos edge counter value MSB
ASR1PL:			      .block 1			    ; ASR1 pos edge counter value LSB
ASR1N:			      .block 1			    ; DATA XREF: sub_E050+44w
							    ; sub_E050+55w ...
							    ; ASR1 neg edge counter value MSB
ASR1NL:			      .block 1			    ; ASR1 neg edge counter value LSB
ASR2:			      .block 1			    ; DATA XREF: __RESET+16w
							    ; __RESET+14Bw ...
							    ; ASR2 edge	counter	value MSB
ASR2L:			      .block 1			    ; ASR2 edge	counter	value LSB
ASR3:			      .block 1			    ; DATA XREF: __RESET+1Bw
							    ; __RESET+150w ...
							    ; ASR3 edge	counter	value MSB
ASR3L:			      .block 1			    ; ASR3 edge	counter	value LSB
			      .block 1
unk_1D:			      .block 1			    ; DATA XREF: __RESET+7r
							    ; __RESET+145r
			      .block 1
OMODE:			      .block 1			    ; DATA XREF: __RESETr
							    ; Mode control Register
PORTA:			      .block 1			    ; DATA XREF: __RESET+23r
							    ; __RESET+15Fr ...
							    ; PORTA.0 -
							    ; PORTA.1 -
							    ; PORTA.2 -	ACIS activation	(active	low?)
							    ; PORTA.3 -
							    ; PORTA.4 -
							    ; PORTA.5 -
							    ; PORTA.6 -
							    ; PORTA.7 -
PORTAL:			      .block 1			    ; DATA XREF: __RESET+26w
							    ; __RESET:loc_CA32r ...
							    ; Port A Latch
PORTB:			      .block 1			    ; DATA XREF: __RESET+28r
							    ; sub_DBDF+247r ...
							    ; PORTB.0 -
							    ; PORTB.1 -
							    ; PORTB.2 -	Cylinder 1 signal to knock MCU
							    ; PORTB.3 -
							    ; PORTB.4 -
							    ; PORTB.5 -
							    ; PORTB.6 -
							    ; PORTB.7 -
							    ;
PBCS:			      .block 1			    ; DATA XREF: __RESET+2Bw
							    ; __RESET+112w ...
							    ; Port B Control Register
TAIT:			      .block 1			    ; DATA XREF: __RESET+38r
							    ; __RESET+41r ...
							    ; Timer ASR	Control
LDOUT:			      .block 1			    ; DATA XREF: injector_drive+Br
							    ; int_vector_9_ignition+4r
							    ; Latch DOUT
DOUT:			      .block 1			    ; DATA XREF: __RESET+45r
							    ; sub_E050+72r ...
							    ; DOUT Data	Register
DOM:			      .block 1			    ; DATA XREF: __RESET+48r
							    ; __RESET+121r ...
							    ; DOUT Control Register
PORTC:			      .block 1			    ; DATA XREF: sub_E050+33r
							    ; sub_E050+89r ...
							    ; Port C Data Register
PORTD_ASRIN:		      .block 1			    ; DATA XREF: __RESET+2Dr
							    ; __RESET+3Br ...
							    ; Port D Data Register / ASR Input Data
RAMST:			      .block 1			    ; DATA XREF: __RESET+152r
							    ; __RESET:loc_CA41r ...
							    ; Built-in RAM status
SSD:			      .block 1			    ; DATA XREF: __RESET+4Br
							    ; sub_E154:loc_E15Br ...
							    ; Serial Status Data Register
IRQL:			      .block 1			    ; DATA XREF: __RESET+5Aw
							    ; __RESET+E7w ...
							    ; Interrupt	Request	Flag MSB
IRQLL:			      .block 1			    ; DATA XREF: sub_E050+86r
							    ; sub_E050+CFr ...
							    ; Interrupt	Request	Flag LSB
IMASK:			      .block 1			    ; DATA XREF: __RESET+5Cw
							    ; __RESET+ECw ...
							    ; Interrupt	Request	Mask MSB
IMASKL:			      .block 1			    ; Interrupt	Request	Mask LSB
			      .block 1
			      .block 1
			      .block 1
			      .block 1
unk_34:			      .block 1			    ; DATA XREF: int_vector_4_kph:loc_F885r
			      .block 1
			      .block 1
			      .block 1
CPR4:			      .block 1			    ; DATA XREF: ROM:F3A7o
							    ; Timer comparison #0 MSB
CPR4L:			      .block 1			    ; Timer comparison #0 LSB
CPR5:			      .block 1			    ; DATA XREF: ROM:F3A7o
							    ; Timer comparison #1 MSB
CPR5L:			      .block 1			    ; Timer comparison #1 LSB
CPR6:			      .block 1			    ; DATA XREF: ROM:F3A7o
							    ; Timer comparison #2 MSB
CPR6L:			      .block 1			    ; Timer comparison #2 LSB
CPR7:			      .block 1			    ; DATA XREF: ROM:F3A7o
							    ; Timer comparison #3 MSB
CPR7L:			      .block 1			    ; Timer comparison #3 LSB
; end of 'FSR'

; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ

; Segment type:	Pure data
			      ;.segment	RAM
			      .org 40h
unk_40:			      .block 1			    ; DATA XREF: __RESET+65o
							    ; sub_CA81+2Fr ...
unk_41:			      .block 1			    ; DATA XREF: __RESET+8Ar
							    ; __RESET:loc_CAE0r ...
var_flags_42:		      .block 1			    ; DATA XREF: __RESET:loc_C9CDr
							    ; __RESET:loc_CC58r ...
var_limit_flags:	      .block 1			    ; DATA XREF: __RESET+3B0r
							    ; __RESET:loc_CCABr ...
unk_44:			      .block 1			    ; DATA XREF: __RESET:loc_CB5Er
							    ; __RESET+2F9r ...
var_ignition_flags:	      .block 1			    ; DATA XREF: ignition_timing_calc+52r
							    ; ignition_timing_calc+7Fr	...
unk_46:			      .block 1			    ; DATA XREF: sub_CC05+3r
							    ; sub_CC05+38r ...
var_diag_errors_4:	      .block 1			    ; DATA XREF: drive_dout1+13r
							    ; __RESET+CFDr ...
var_diag_errors_5:	      .block 1			    ; DATA XREF: sub_C7BCr
							    ; sub_CB89+12r ...
var_io_input1:		      .block 1			    ; DATA XREF: __RESET+FDr
							    ; __RESET:loc_CA3Cr ...
unk_4A:			      .block 1			    ; DATA XREF: __RESET+100r
							    ; __RESET+30Cr ...
var_error_flags1:	      .block 1			    ; DATA XREF: sub_CA81+Bw
							    ; __RESET+501r ...
unk_4C:			      .block 1			    ; DATA XREF: sub_CA81+Dw
							    ; __RESET+7E9r ...
unk_4D:			      .block 1			    ; DATA XREF: __RESET+828r
							    ; __RESET+12F9r ...
unk_4E:			      .block 1			    ; DATA XREF: __RESET+374w
							    ; __RESET+39Dr ...
unk_4F:			      .block 1			    ; DATA XREF: __RESET+7DEw
							    ; __RESET+82Dr ...
var_pim:		      .block 1			    ; DATA XREF: __RESET+514r
							    ; __RESET:loc_CFCAr ...
			      .block 1
unk_52:			      .block 1			    ; DATA XREF: sub_CC05+9r
							    ; sub_CC05+34r ...
			      .block 1
unk_54:			      .block 1			    ; DATA XREF: sub_E050+1A7r
							    ; ROM:loc_FD82w
var_tha:		      .block 1			    ; DATA XREF: injector_cold_start:loc_CF16r
							    ; __RESET+ACDr ...
var_adc_battery:	      .block 1			    ; DATA XREF: __RESET+610r
							    ; __RESET+9C4r ...
var_ect:		      .block 1			    ; DATA XREF: table_ect_pair_interpolater
							    ; table_ect_fixed_64_interpolater ...
			      .block 1
var_rpm_x_5p12:		      .block 1			    ; DATA XREF: sub_C6C4:loc_C6C6r
							    ; __RESET:loc_CB27w ...
			      .block 1
var_rpm_div_25:		      .block 1			    ; DATA XREF: __RESET+256w
							    ; __RESET:loc_CBACr ...
unk_5C:			      .block 1			    ; DATA XREF: sub_CB89+18w
							    ; __RESET+431r ...
var_speed_kph:		      .block 1			    ; DATA XREF: __RESET+3CBr
							    ; __RESET+3E3r ...
var_tps_delta:		      .block 1			    ; DATA XREF: transient_throttle_injectr
							    ; ROM:E619r ...
unk_5F:			      .block 1			    ; DATA XREF: __RESET+7E0r
							    ; __RESET+838r ...
unk_60:			      .block 1			    ; DATA XREF: __RESET+9B4r
							    ; __RESET+B36r ...
			      .block 1
var_add_fuel:		      .block 1			    ; DATA XREF: __RESET:loc_D0A3w
							    ; __RESET+1C61r
unk_63:			      .block 1			    ; DATA XREF: __RESET+9Fr
							    ; __RESET+28Fr ...
unk_64:			      .block 1			    ; DATA XREF: __RESET+A4Ew
							    ; sub_D330r ...
unk_65:			      .block 1			    ; DATA XREF: __RESET:loc_D1DBr
							    ; __RESET+92Bw ...
			      .block 1
unk_67:			      .block 1			    ; DATA XREF: __RESET+9E1r
							    ; __RESET+9E7r ...
unk_68:			      .block 1			    ; DATA XREF: __RESET+9A0r
							    ; __RESET:loc_D316r
unk_69:			      .block 1			    ; DATA XREF: __RESET+54Bw
							    ; __RESET+554r ...
unk_6A:			      .block 1			    ; DATA XREF: __RESET+9A4w
							    ; __RESET:loc_D2B1r ...
			      .block 1
unk_6C:			      .block 1			    ; DATA XREF: __RESET+9Dw
							    ; __RESET:loc_D3E9r ...
unk_6D:			      .block 1			    ; DATA XREF: __RESET:loc_D43Br
							    ; __RESET+B67w ...
var_ne_0:		      .block 1			    ; DATA XREF: init_ne_counters+3o
							    ; ignition_timing_calc+21o	...
			      .block 1
var_ne_1:		      .block 1			    ; DATA XREF: ignition_timing_calc+3Ar
			      .block 1
var_ne_2:		      .block 1			    ; DATA XREF: ignition_timing_calc+3Cr
							    ; ignition_timing_calc+64r	...
			      .block 1
var_ne_sum3:		      .block 1			    ; DATA XREF: calc_rpmr
							    ; __RESET+1C07r ...
unk_75:			      .block 1			    ; DATA XREF: sub_F29D+5r
unk_76:			      .block 1			    ; DATA XREF: map_interpolate_3d+3w
							    ; map_interpolate_3d+1Ar ...
var_rpm_unk_77:		      .block 1			    ; DATA XREF: __RESET+566r
							    ; __RESET:loc_CE99r ...
var_temp:		      .block 1			    ; DATA XREF: map_interpolate_3d+14w
							    ; map_interpolate_3d+16r ...
unk_79:			      .block 1			    ; DATA XREF: map_interpolate_3d+27w
							    ; __RESET:loc_D17Ew ...
unk_7A:			      .block 1			    ; DATA XREF: sub_E873+178w
							    ; sub_EA2F+473w
			      .block 1
serial_diag_address:          .block 2
serial_diag_mode:             .block 1
unk_7F:			      .block 1			    ; DATA XREF: __RESET+69o
unk_80:			      .block 1			    ; DATA XREF: __RESET+17Ao
							    ; sub_CA81+5o ...
			      .block 1
unk_82:			      .block 1			    ; DATA XREF: sub_DBDF+130r
							    ; ROM:E025o ...
			      .block 1
unk_84:			      .block 1			    ; DATA XREF: sub_DBDF+118r
							    ; sub_DBDF+2DAr ...
unk_85:			      .block 1			    ; DATA XREF: __RESET:loc_D21Ao
unk_86:			      .block 1			    ; DATA XREF: sub_CA81+1Eo
							    ; __RESET+9FDr ...
			      .block 1
unk_88:			      .block 1			    ; DATA XREF: sub_D34A+20o
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
unk_94:			      .block 1			    ; DATA XREF: sub_CA81+22o
							    ; __RESET+A0Co
			      .block 1
unk_96:			      .block 1			    ; DATA XREF: sub_CA81+2Aw
							    ; __RESET+B71r ...
			      .block 1
unk_98:			      .block 1			    ; DATA XREF: sub_CA81:loc_CAB6w
							    ; __RESET+1B5Cr ...
			      .block 1
unk_9A:			      .block 1			    ; DATA XREF: __RESET+D7r
							    ; sub_CA81+3Aw ...
			      .block 1
unk_9C:			      .block 1			    ; DATA XREF: __RESET+175r
							    ; sub_CA81w ...
			      .block 1
unk_9E:			      .block 1			    ; DATA XREF: __RESET:loc_CA53o
							    ; sub_CA81+3Fr ...
unk_9F:			      .block 1			    ; DATA XREF: sub_CA81+46w
							    ; __RESET+1B38r ...
unk_A0:			      .block 1			    ; DATA XREF: __RESET+6Eo
							    ; sub_CA81+Fw ...
var_ne_count:		      .block 1			    ; DATA XREF: sub_EA2F+339r
							    ; ROM:EFDEr ...
var_ne_count_2:		      .block 1			    ; DATA XREF: sub_DBAD:loc_DBB2r
							    ; sub_ED93+8r ...
unk_A3:			      .block 1			    ; DATA XREF: sub_EA2F+4Aw
							    ; sub_EA2F+69r ...
unk_A4:			      .block 1			    ; DATA XREF: ignition_timing_calc+62w
							    ; ignition_timing_calc+69r	...
			      .block 1
unk_A6:			      .block 1			    ; DATA XREF: knock_mcu_update+4Fr
							    ; knock_mcu_update+54w ...
			      .block 1
unk_A8:			      .block 1			    ; DATA XREF: sub_DBDF+35Dr
							    ; sub_DBDF:loc_DF4Fw ...
unk_A9:			      .block 1			    ; DATA XREF: __RESET+C0w
							    ; sub_DBDF:loc_DF31r ...
unk_AA:			      .block 1			    ; DATA XREF: __RESET+A5r
							    ; sub_E873+25r ...
unk_AB:			      .block 1			    ; DATA XREF: __RESET+E2r
							    ; __RESET+C9Dw ...
var_revcnt_sta:		      .block 1			    ; DATA XREF: init_ne_on_start+7r
							    ; init_ne_on_start+19w
unk_AD:			      .block 1			    ; DATA XREF: __RESET+379w
							    ; __RESET+38Ar ...
			      .block 1
unk_AF:			      .block 1			    ; DATA XREF: __RESET+7Er
							    ; __RESET:loc_CBF4r ...
var_revcnt_speed_update:      .block 1			    ; DATA XREF: sub_F7FA+1Dr
							    ; sub_F7FA+22w
unk_B1:			      .block 1			    ; DATA XREF: __RESET+92r
							    ; int_vector_4_kph+Fr ...
			      .block 1
			      .block 1
unk_B4:			      .block 1			    ; DATA XREF: __RESET:loc_C9E6w
							    ; ROM:loc_F8E9r
var_revcnt_starter:	      .block 1			    ; DATA XREF: __RESET+603w
							    ; __RESET+615r ...
unk_B6:			      .block 1			    ; DATA XREF: __RESET+7E4w
							    ; __RESET+7EFr
			      .block 1
			      .block 1
unk_B9:			      .block 1			    ; DATA XREF: sub_EA2F:loc_EC36w
							    ; sub_EC3E+3r
unk_BA:			      .block 1			    ; DATA XREF: sub_EA2F+DEw
							    ; sub_EA2F+EBr
			      .block 1
			      .block 1
unk_BD:			      .block 1			    ; DATA XREF: __RESET+164w
							    ; sub_DBDF+297r ...
unk_BE:			      .block 1			    ; DATA XREF: __RESET+156w
							    ; sub_DBDF+287r
unk_BF:			      .block 1			    ; DATA XREF: __RESET+169w
							    ; sub_DBDF+29Fr ...
unk_C0:			      .block 1			    ; DATA XREF: int_vector_9_ignition+4Bw
							    ; int_vector_9_ignition+55r
unk_C1:			      .block 1			    ; DATA XREF: ROM:EFE2r
							    ; int_vector_9_ignition:loc_F756r ...
var_cnt_C2:		      .block 1			    ; DATA XREF: sub_F7FA+Fw
							    ; sub_F7FA+13r
var_cnt_C3:		      .block 1			    ; DATA XREF: __RESET+85r
							    ; __RESET+214r ...
unk_C4:			      .block 1			    ; DATA XREF: __RESET:loc_D3ABr
							    ; __RESET+ADAw
unk_C5:			      .block 1			    ; DATA XREF: ROM:F663r
							    ; ROM:loc_F66Bw
unk_C6:			      .block 1			    ; DATA XREF: sub_F6E4:loc_F714w
							    ; sub_F6E4:loc_F716r
			      .block 1
unk_C8:			      .block 1			    ; DATA XREF: __RESET+570w
							    ; __RESET+59Fr ...
unk_C9:			      .block 1			    ; DATA XREF: __RESET+43Cw
unk_CA:			      .block 1			    ; DATA XREF: __RESET:loc_CDEEw
							    ; __RESET:loc_CDF2r
var_cnt_startup:	      .block 1			    ; DATA XREF: __RESET:loc_CBD6w
							    ; __RESET:loc_CC53r ...
unk_CC:			      .block 1			    ; DATA XREF: __RESET+2F3w
							    ; sub_E312r
			      .block 1
unk_CE:			      .block 1			    ; DATA XREF: __RESET+801w
							    ; sub_EA2F+23Er
unk_CF:			      .block 1			    ; DATA XREF: __RESET:loc_D0DAw
							    ; __RESET+80Cr ...
unk_D0:			      .block 1			    ; DATA XREF: __RESET:loc_D3E7w
							    ; __RESET+B51r
unk_D1:			      .block 1			    ; DATA XREF: __RESET+A2r
							    ; __RESET+48Ew ...
unk_D2:			      .block 1			    ; DATA XREF: sub_EA2F:loc_ECD1w
							    ; sub_EA2F:loc_ED36r ...
unk_D3:			      .block 1			    ; DATA XREF: sub_EA2F+C2w
							    ; sub_EA2F+FFr ...
unk_D4:			      .block 1			    ; DATA XREF: sub_EA2F+122w
							    ; sub_EB5E+5Bw ...
unk_D5:			      .block 1			    ; DATA XREF: __RESET:loc_D50Cw
							    ; sub_D640+F8r ...
unk_D6:			      .block 1			    ; DATA XREF: __RESET+C00w
							    ; sub_D640:loc_DA16r ...
unk_D7:			      .block 1			    ; DATA XREF: __RESET+C3Bw
							    ; sub_D640+119w ...
unk_D8:			      .block 1			    ; DATA XREF: sub_D640+CFw
							    ; sub_D640:loc_D757w ...
unk_D9:			      .block 1			    ; DATA XREF: __RESET+A8r
unk_DA:			      .block 1			    ; DATA XREF: __RESET+ABr
unk_DB:			      .block 1			    ; DATA XREF: __RESET+1207w
							    ; __RESET:loc_DAE1r
var_cnt_sensor_error:	      .block 1			    ; DATA XREF: ROM:FA6Cw
							    ; ROM:loc_FA70r ...
			      .block 1
unk_DE:			      .block 1			    ; DATA XREF: __RESET+6F8w
							    ; __RESET+701r ...
unk_DF:			      .block 1			    ; DATA XREF: sub_D640:loc_D89Dw
							    ; sub_D640:loc_D8AAr
unk_E0:			      .block 1			    ; DATA XREF: ROM:loc_F596w
unk_E1:			      .block 1			    ; DATA XREF: __RESET:loc_E294w
							    ; __RESET:loc_E29Fr ...
			      .block 1
unk_E3:			      .block 1			    ; DATA XREF: __RESET+12C9w
							    ; __RESET:loc_DBA1r ...
unk_E4:			      .block 1			    ; DATA XREF: sub_DBDF:loc_DDCDw
							    ; sub_DBDF:loc_DDCFr
unk_E5:			      .block 1			    ; DATA XREF: sub_DBDF+24Dr
							    ; sub_DBDF:loc_DE38w
var_igt_time:		      .block 1			    ; DATA XREF: check_IGF_error+3w
							    ; check_IGF_error+7r
unk_E7:			      .block 1			    ; DATA XREF: __RESET:loc_D56Cw
							    ; __RESET+CBDr ...
unk_E8:			      .block 1			    ; DATA XREF: __RESET+BB8r
							    ; __RESET+BBBw
unk_E9:			      .block 1			    ; DATA XREF: __RESET+733r
							    ; sub_D021+4r ...
unk_EA:			      .block 1			    ; DATA XREF: __RESET+302w
							    ; __RESET+1246r ...
unk_EB:			      .block 1			    ; DATA XREF: __RESET:loc_CD80w
							    ; __RESET:loc_CD9Ew ...
unk_EC:			      .block 1			    ; DATA XREF: __RESET+129Bw
							    ; __RESET+1AD5r
unk_ED:			      .block 1			    ; DATA XREF: sub_DBDF:loc_DD2Bw
							    ; sub_DBDF:loc_DD2Dr
unk_EE:			      .block 1			    ; DATA XREF: sub_DBDF+166r
							    ; sub_DBDF+19Aw
unk_EF:			      .block 1			    ; DATA XREF: sub_DBDF:loc_DDFFw
							    ; sub_DBDF:loc_DE01r
unk_F0:			      .block 1			    ; DATA XREF: __RESET+AE2w
							    ; ROM:FBEFw ...
			      .block 1
			      .block 1
			      .block 1
var_kph_table:		      .block 1			    ; DATA XREF: int_vector_4_kph+20r
							    ; int_vector_4_kph+25w ...
			      .block 1
unk_F6:			      .block 1			    ; DATA XREF: int_vector_4_kph+14r
							    ; int_vector_4_kph+1Br ...
			      .block 1
var_speed_kph_2:	      .block 1			    ; DATA XREF: calc_speed_kph+15w
unk_F9:			      .block 1			    ; DATA XREF: __RESET+21Bw
							    ; __RESET+29Br ...
			      .block 1
unk_FB:			      .block 1			    ; DATA XREF: __RESET+21Dw
							    ; __RESET+1C0Er ...
			      .block 1
var_rpm_avg_x_5p12:	      .block 1			    ; DATA XREF: __RESET+21Fw
							    ; sub_CB89+2r ...
			      .block 1
unk_FF:			      .block 1			    ; DATA XREF: ROM:FA9Cw
							    ; ROM:FAB2r ...
var_gearing:		      .block 1			    ; DATA XREF: sub_E050:loc_E108o
							    ; sub_EA2F+94r ...
unk_101:		      .block 1			    ; DATA XREF: ROM:E6ABw
var_dac_command:	      .block 1			    ; DATA XREF: __RESET+F0w
							    ; int_watchdog+13w	...
var_adc_index:		      .block 1			    ; DATA XREF: int_watchdog+4r
							    ; int_watchdog:loc_F7E3w ...
unk_104:		      .block 1			    ; DATA XREF: ROM:loc_FC8Ar
							    ; ROM:FCE8w
			      .block 1
unk_106:		      .block 1			    ; DATA XREF: __RESET+8Fw
							    ; sub_CC05+Fr ...
unk_107:		      .block 1			    ; DATA XREF: sub_E050+1D3r
							    ; sub_EA2F+3EBr ...
unk_108:		      .block 1			    ; DATA XREF: sub_E050+1A0r
							    ; ROM:loc_FD8Bw
unk_109:		      .block 1			    ; DATA XREF: sub_D640+B4r
							    ; sub_E050+1CCr ...
unk_10A:		      .block 1			    ; DATA XREF: sub_E050+1E0r
							    ; ROM:loc_FDA0w
unk_10B:		      .block 1			    ; DATA XREF: ROM:FB74r
							    ; ROM:FD96w
unk_10C:		      .block 1			    ; DATA XREF: sub_F9E5+29o
unk_10D:		      .block 1			    ; DATA XREF: sub_F9E5+5Do
			      .block 1
var_asr2_time:		      .block 1			    ; DATA XREF: ignition_timing_calc+8w
							    ; ignition_timing_calc+18Br ...
			      .block 1
var_prev_asr2_time:	      .block 1			    ; DATA XREF: ignition_timing_calc+2Ar
							    ; ignition_timing_calc:loc_F0C4w ...
			      .block 1
unk_113:		      .block 1			    ; DATA XREF: ROM:E5E0r
							    ; sub_F3AB+26w
var_inj_pw:		      .block 1			    ; DATA XREF: __RESET+486r
							    ; __RESET+4A2r ...
			      .block 1
var_inj_battery_adjust:	      .block 1			    ; DATA XREF: sub_DBDF+72r
							    ; injector_drive+13r ...
			      .block 1
var_map_ve:		      .block 1			    ; DATA XREF: __RESET+1BB3w
							    ; __RESET+1BC7r
unk_119:		      .block 1			    ; DATA XREF: __RESET+9BFr
							    ; sub_DBDF:loc_DC13r ...
unk_11A:		      .block 1			    ; DATA XREF: __RESET+9B6r
							    ; sub_DBDF+2Dr ...
			      .block 1
unk_11C:		      .block 1			    ; DATA XREF: __RESET+9B9r
							    ; sub_DBDF+28r ...
			      .block 1
unk_11E:		      .block 1			    ; DATA XREF: __RESET+9BCr
							    ; __RESET+B38r ...
			      .block 1
unk_120:		      .block 1			    ; DATA XREF: __RESET+AD2w
							    ; __RESET:loc_E55Er
unk_121:		      .block 1			    ; DATA XREF: __RESET+1A15w
							    ; sub_E2F0+4r
unk_122:		      .block 1			    ; DATA XREF: __RESET:loc_D01Bw
							    ; __RESET+7B7r
unk_123:		      .block 1			    ; DATA XREF: __RESET:loc_D055w
unk_124:		      .block 1			    ; DATA XREF: __RESET:loc_D07Aw
							    ; __RESET:loc_D094r
unk_125:		      .block 1			    ; DATA XREF: __RESET:loc_CFB1w
							    ; __RESET:loc_D014r
unk_126:		      .block 1			    ; DATA XREF: __RESET:loc_D09Br
							    ; __RESET+7CAr ...
unk_127:		      .block 1			    ; DATA XREF: __RESET+862o
							    ; __RESET+868w ...
			      .block 1
unk_129:		      .block 1			    ; DATA XREF: __RESET+888w
							    ; __RESET:loc_D172o ...
unk_12A:		      .block 1			    ; DATA XREF: __RESET+894w
var_pim_avg:		      .block 1			    ; DATA XREF: __RESET+1B9Fr
							    ; ROM:loc_E665w ...
			      .block 1
unk_12D:		      .block 1			    ; DATA XREF: sub_EA2F:loc_EDF6w
							    ; sub_EA2F+3E4r ...
			      .block 1
unk_12F:		      .block 1			    ; DATA XREF: __RESET+B02r
							    ; ROM:E6D6r ...
			      .block 1
unk_131:		      .block 1			    ; DATA XREF: __RESET+1F05r
							    ; sub_E873+1Fw ...
			      .block 1
unk_133:		      .block 1			    ; DATA XREF: sub_E873+14w
							    ; sub_E873+3Fr ...
			      .block 1
unk_135:		      .block 1			    ; DATA XREF: sub_E873+17w
							    ; sub_E873+85r ...
			      .block 1
unk_137:		      .block 1			    ; DATA XREF: sub_E873+1Aw
							    ; sub_E873+2Cr ...
			      .block 1
unk_139:		      .block 1			    ; DATA XREF: ROM:E5BFw
							    ; ROM:E668r ...
			      .block 1
unk_13B:		      .block 1			    ; DATA XREF: ROM:E63Er
							    ; ROM:E67Dr ...
			      .block 1
unk_13D:		      .block 1			    ; DATA XREF: ROM:E651r
							    ; ROM:E66Br ...
			      .block 1
unk_13F:		      .block 1			    ; DATA XREF: ROM:E5B2w
							    ; knock_unk_E73D+Cr
unk_140:		      .block 1			    ; DATA XREF: __RESET+1C9Ew
							    ; ROM:E6C8r
			      .block 1
var_scaled_ve:		      .block 1			    ; DATA XREF: __RESET+1BC1w
							    ; __RESET:loc_E54Fr
			      .block 1
unk_144:		      .block 1			    ; DATA XREF: __RESET:loc_E501w
							    ; __RESET:loc_E544r
unk_145:		      .block 1			    ; DATA XREF: __RESET+1EB3w
							    ; sub_E873+BDr
unk_146:		      .block 1			    ; DATA XREF: __RESET+1EBEw
							    ; sub_E873+C3r
unk_147:		      .block 1			    ; DATA XREF: __RESET+1EE4w
							    ; sub_E873+5Cr ...
unk_148:		      .block 1			    ; DATA XREF: __RESET+1EFFw
							    ; sub_E873+56r ...
unk_149:		      .block 1			    ; DATA XREF: __RESET+1F12w
							    ; sub_E873+115r
unk_14A:		      .block 1			    ; DATA XREF: __RESET:loc_E805w
							    ; __RESET+1F45r ...
			      .block 1
unk_14C:		      .block 1			    ; DATA XREF: __RESET+1F4Fw
							    ; sub_E873+175r ...
			      .block 1
unk_14E:		      .block 1			    ; DATA XREF: __RESET+1F64w
							    ; sub_E873+170r ...
			      .block 1
unk_150:		      .block 1			    ; DATA XREF: __RESET+1EC9w
							    ; sub_E85D+8r
unk_151:		      .block 1			    ; DATA XREF: __RESET:loc_E5A9w
							    ; sub_E76C+8r
unk_152:		      .block 1			    ; DATA XREF: ROM:E5B9r
							    ; ROM:E635r ...
unk_153:		      .block 1			    ; DATA XREF: ROM:E5B6w
							    ; sub_FAE4+20r
unk_154:		      .block 1			    ; DATA XREF: __RESET:loc_D3F6r
							    ; __RESET+B45r ...
unk_155:		      .block 1			    ; DATA XREF: ROM:loc_E68Fw
							    ; sub_EA2F+5Br ...
unk_156:		      .block 1			    ; DATA XREF: __RESET+97w
							    ; __RESET:loc_CCB3r ...
unk_157:		      .block 1			    ; DATA XREF: __RESET:loc_CE4Cr
							    ; __RESET:loc_CE5Bw ...
unk_158:		      .block 1			    ; DATA XREF: __RESET+58Br
unk_159:		      .block 1			    ; DATA XREF: __RESET+723r
							    ; sub_D031+7r ...
var_inj_active:		      .block 1			    ; DATA XREF: ignition_timing_calc+273w
							    ; ignition_timing_calc+28Fr ...
unk_15B:		      .block 1			    ; DATA XREF: ignition_timing_calc+2A7r
							    ; sub_F3AB+36w
unk_15C:		      .block 1			    ; DATA XREF: ignition_timing_calc+278w
							    ; ignition_timing_calc+2CAw ...
unk_15D:		      .block 1			    ; DATA XREF: ignition_timing_calc:loc_F30Cr
							    ; ignition_timing_calc+2E9w ...
unk_15E:		      .block 1			    ; DATA XREF: sub_E050+Er
							    ; ROM:loc_FB97w
unk_15F:		      .block 1			    ; DATA XREF: sub_EA2F:loc_EE2Cw
							    ; sub_EA2F+400r
unk_160:		      .block 1			    ; DATA XREF: sub_EA2F:loc_EE6Cw
							    ; sub_EA2F+560r
unk_161:		      .block 1			    ; DATA XREF: sub_EA2F:loc_EED6w
							    ; sub_EA2F+563r
unk_162:		      .block 1			    ; DATA XREF: sub_EB5E+3r
							    ; sub_EB5E+7Ar ...
var_knock_ign_retard:	      .block 1			    ; DATA XREF: __RESET+6D2r
							    ; sub_EA2F:loc_EF22w ...
unk_164:		      .block 1			    ; DATA XREF: sub_EA2F+35Fw
							    ; sub_EA2F+40Cr ...
unk_165:		      .block 1			    ; DATA XREF: sub_EA2F:loc_EFBEr
							    ; sub_EA2F:loc_EFD6w ...
unk_166:		      .block 1			    ; DATA XREF: __RESET+B2w
							    ; sub_EA2F:loc_EF42r ...
			      .block 1
var_min_ign_timing:	      .block 1			    ; DATA XREF: __RESET+B7w
							    ; sub_EB5E:loc_EBF7w ...
unk_169:		      .block 1			    ; DATA XREF: __RESET+BAw
							    ; sub_EA2F+10Cw ...
unk_16A:		      .block 1			    ; DATA XREF: __RESET+BDw
							    ; sub_EB5E+81w
unk_16B:		      .block 1			    ; DATA XREF: sub_EB5E:loc_EBEAr
							    ; sub_EC1E+6w
unk_16C:		      .block 1			    ; DATA XREF: sub_EB5E:loc_EB8Bw
							    ; sub_EB5E:loc_EBBBr
unk_16D:		      .block 1			    ; DATA XREF: sub_EA2F+124w
							    ; sub_EB5E+58w ...
unk_16E:		      .block 1			    ; DATA XREF: sub_EB5E:loc_EB77w
			      .block 1
unk_170:		      .block 1			    ; DATA XREF: sub_EB5E+1Dr
							    ; sub_EB5E+30w
			      .block 1
unk_172:		      .block 1			    ; DATA XREF: sub_EA2F+129w
							    ; sub_EB5E+2Aw ...
unk_173:		      .block 1			    ; DATA XREF: __RESET+249w
							    ; ROM:loc_F613r
var_ign_next_time:	      .block 1			    ; DATA XREF: sub_F263w
							    ; sub_F27Aw ...
			      .block 1
unk_176:		      .block 1			    ; DATA XREF: ignition_timing_calc+16Fw
							    ; ignition_timing_calc:loc_F221r ...
			      .block 1
var_ign_timing_div_2:	      .block 1			    ; DATA XREF: ignition_timing_calc+95w
							    ; ignition_timing_calc:loc_F154r ...
var_ign_on_time_from_CPR0:    .block 1			    ; DATA XREF: ignition_update_off_time+9r
							    ; ignition_update_off_time+1Cr ...
			      .block 1
unk_17B:		      .block 1			    ; DATA XREF: sub_EA2F+2Aw
							    ; ignition_update_off_time+12r ...
unk_17C:		      .block 1			    ; DATA XREF: sub_EA2F+21w
							    ; ignition_timing_calc+76r	...
			      .block 1
unk_17E:		      .block 1			    ; DATA XREF: sub_EA2F:loc_EF10w
							    ; ignition_timing_calc+127r
unk_17F:		      .block 1			    ; DATA XREF: ignition_timing_calc+12Fr
unk_180:		      .block 1			    ; DATA XREF: sub_EA2F+20Aw
							    ; sub_EC3Er ...
unk_181:		      .block 1			    ; DATA XREF: ignition_timing_calc+5Er
							    ; ignition_timing_calc:loc_F1DBw ...
			      .block 1
			      .block 1
unk_184:		      .block 1			    ; DATA XREF: sub_ECDA+2w
							    ; sub_EA2F:loc_ECEBr ...
unk_185:		      .block 1			    ; DATA XREF: sub_ED93+18r
							    ; sub_ED93+47w
			      .block 1
unk_187:		      .block 1			    ; DATA XREF: sub_ECE1+3w
							    ; sub_EA2F+2C5o ...
			      .block 1
unk_189:		      .block 1			    ; DATA XREF: sub_ECE1+6w
			      .block 1
unk_18B:		      .block 1			    ; DATA XREF: sub_EA2F+29Cw
							    ; sub_EA2F+2CBo ...
			      .block 1
unk_18D:		      .block 1			    ; DATA XREF: sub_EA2F+29Fw
			      .block 1
unk_18F:		      .block 1			    ; DATA XREF: sub_DBDF+357r
							    ; sub_DBDF+391w ...
unk_190:		      .block 1			    ; DATA XREF: sub_DBDF+32Dw
							    ; sub_DF11+9r
unk_191:		      .block 1			    ; DATA XREF: __RESET:loc_D328w
							    ; sub_DBDF+307r
unk_192:		      .block 1			    ; DATA XREF: ROM:FBC1w
							    ; ROM:FBDCr ...
unk_193:		      .block 1			    ; DATA XREF: sub_DBDF+163r
							    ; sub_DBDF:loc_DD5Ew ...
unk_194:		      .block 1			    ; DATA XREF: sub_DBDF+141r
							    ; sub_DBDF+16Br ...
unk_195:		      .block 1			    ; DATA XREF: __RESET+C9w
							    ; sub_DBDF+139r ...
			      .block 1
unk_197:		      .block 1			    ; DATA XREF: ROM:EFE7r
							    ; ROM:loc_F005w
var_igf_counter:	      .block 1			    ; DATA XREF: int_vector_9_ignition+28r
							    ; int_vector_9_ignition:loc_F78Bw
			      .block 1
var_flags_19A:		      .block 1			    ; DATA XREF: ROM:FA57r
							    ; ROM:loc_FA84w ...
unk_19B:		      .block 1			    ; DATA XREF: sub_D640+1D7r
							    ; sub_D640+1DBw ...
unk_19C:		      .block 1			    ; DATA XREF: __RESET+C49w
							    ; sub_D640+10Br ...
			      .block 1
unk_19E:		      .block 1			    ; DATA XREF: __RESET+CEFr
							    ; __RESET+D00r ...
			      .block 1
unk_1A0:		      .block 1			    ; DATA XREF: __RESET+CEw
							    ; sub_D613+Ar ...
var_iscv_unk_1A1:	      .block 1			    ; DATA XREF: drive_dout1+3r
							    ; __RESET:loc_D5F5w ...
			      .block 1
unk_1A3:		      .block 1			    ; DATA XREF: sub_D640+54w
							    ; sub_D640+5Er ...
			      .block 1
unk_1A5:		      .block 1			    ; DATA XREF: __RESET+D9w
							    ; sub_CA81+3Cw ...
unk_1A6:		      .block 1			    ; DATA XREF: sub_D640:loc_D661r
							    ; sub_D640:loc_D66Bw ...
			      .block 1
unk_1A8:		      .block 1			    ; DATA XREF: sub_D537+6w
							    ; sub_D640+3B2r
unk_1A9:		      .block 1			    ; DATA XREF: sub_D640+3FEw
							    ; sub_D640+444r ...
			      .block 1
unk_1AB:		      .block 1			    ; DATA XREF: __RESET+DFw
							    ; sub_D640+404w ...
			      .block 1
unk_1AD:		      .block 1			    ; DATA XREF: __RESET+D4w
							    ; __RESET:loc_D532w ...
			      .block 1
unk_1AF:		      .block 1			    ; DATA XREF: sub_D640:loc_D7C4w
							    ; sub_D640+1B1r ...
unk_1B0:		      .block 1			    ; DATA XREF: sub_D640:loc_D9AAw
							    ; sub_D640+3C1r
unk_1B1:		      .block 1			    ; DATA XREF: sub_D640+32Cr
							    ; sub_D640:loc_D97Cw
			      .block 1
			      .block 1
unk_1B4:		      .block 1			    ; DATA XREF: sub_D640+E0w
							    ; sub_D640+100r ...
unk_1B5:		      .block 1			    ; DATA XREF: __RESET+221w
							    ; sub_D640+2F0r ...
			      .block 1
unk_1B7:		      .block 1			    ; DATA XREF: sub_D640+CAr
							    ; sub_D640:loc_D711w ...
			      .block 1
unk_1B9:		      .block 1			    ; DATA XREF: sub_D640+75r
							    ; sub_D640:loc_D6BFw ...
			      .block 1
			      .block 1
			      .block 1
unk_1BD:		      .block 1			    ; DATA XREF: sub_D640:loc_D6E5w
							    ; sub_D640+171r
			      .block 1
unk_1BF:		      .block 1			    ; DATA XREF: sub_DBDF:loc_DC1Fr
							    ; sub_EA2F+4ECr ...
unk_1C0:		      .block 1			    ; DATA XREF: ROM:F58Cr
							    ; ROM:loc_F5BCr ...
			      .block 1
unk_1C2:		      .block 1			    ; DATA XREF: ROM:F58Fw
							    ; ROM:F648r
			      .block 1
var_knock_info:		      .block 1			    ; DATA XREF: knock_mcu_update+2r
							    ; knock_mcu_update:loc_F545w ...
unk_1C5:		      .block 1			    ; DATA XREF: ROM:loc_F55Dr
							    ; ROM:F563w ...
unk_1C6:		      .block 1			    ; DATA XREF: ROM:F584r
							    ; ROM:loc_F5DCr ...
unk_1C7:		      .block 1			    ; DATA XREF: ROM:F5CAr
							    ; ROM:F5D2r ...
unk_1C8:		      .block 1			    ; DATA XREF: ROM:F5E0r
							    ; ROM:F62Aw
unk_1C9:		      .block 1			    ; DATA XREF: ROM:F573r
							    ; ROM:F5FCr ...
unk_1CA:		      .block 1			    ; DATA XREF: ROM:F699r
							    ; ROM:F6BCr ...
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
unk_1DB:		      .block 1			    ; DATA XREF: __RESET:loc_E4C2w
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
			      .block 1
var_obd_inj:		      .block 1			    ; DATA XREF: sub_DBDF+78w
var_obd_ign:		      .block 1			    ; DATA XREF: ignition_timing_calc+9Aw
							    ; ignition_timing_calc+141w
unk_1E7:		      .block 1			    ; DATA XREF: sub_DBDF+81w
			      .block 1
			      .block 1
unk_1EA:		      .block 1			    ; DATA XREF: sub_DBDF:loc_DC26w
unk_1EB:		      .block 1			    ; DATA XREF: sub_DBDF:loc_DC4Bw
unk_1EC:		      .block 1			    ; DATA XREF: ROM:DC6Cr
							    ; ROM:loc_DC9Cw ...
			      .block 1
unk_1EE:		      .block 1			    ; DATA XREF: __RESET+C4w
							    ; ROM:loc_DC66r ...
unk_1EF:		      .block 1			    ; DATA XREF: __RESET:loc_DB8Er
							    ; __RESET+12E7w ...
unk_1F0:		      .block 1			    ; DATA XREF: __RESET:loc_CF98r
							    ; __RESET+AA9w ...
unk_1F1:		      .block 1			    ; DATA XREF: __RESET+11E7r
							    ; __RESET+1226w
			      .block 1
unk_1F3:		      .block 1			    ; DATA XREF: sub_EA2F+2Dr
							    ; sub_EA2F+87w
unk_1F4:		      .block 1			    ; DATA XREF: sub_EA2F+8Ar
							    ; sub_EA2F+1FBw
unk_1F5:		      .block 1			    ; DATA XREF: sub_EA2F+22Fr
							    ; sub_EA2F+3B8w
unk_1F6:		      .block 1			    ; DATA XREF: __RESET+3ABr
							    ; __RESET+5FDw ...
			      .block 1
unk_1F8:		      .block 1			    ; DATA XREF: sub_EA2F+440r
							    ; sub_EA2F+4E6w
unk_1F9:		      .block 1			    ; DATA XREF: __RESET:loc_CC47r
							    ; __RESET+39Fw ...
unk_1FA:		      .block 1			    ; DATA XREF: __RESET+129Dr
							    ; __RESET+12A2w ...
unk_1FB:		      .block 1			    ; DATA XREF: __RESET+8B8r
							    ; __RESET+8BDw ...
unk_1FC:		      .block 1			    ; DATA XREF: __RESET:loc_D0B1r
							    ; __RESET+AAEw ...
unk_1FD:		      .block 1			    ; DATA XREF: __RESET+1262r
							    ; __RESET+12A7w
unk_1FE:		      .block 1			    ; DATA XREF: __RESET+23Fr
							    ; __RESET+244w ...
byte_1FF:		      .block 0Ch
byte_20B:		      .block 0F4h		    ; DATA XREF: __RESET+72o
unk_2FF:		      .block 1			    ; DATA XREF: __RESET+5Eo
							    ; __RESET+119o ...
unk_300:		      .block 1			    ; DATA XREF: __RESET:loc_CA5Fo
							    ; __RESET:loc_CA6Er ...
			      .block 1
unk_302:		      .block 1			    ; DATA XREF: __RESET:loc_CA62o
							    ; sub_CA81+51w ...
			      .block 1
byte_304:		      .block 0FCh		    ; DATA XREF: sub_CA81+54w
							    ; ROM:F64Br ...
; end of 'RAM'


				.org 08000h
; *************************************************
; Extended serial diagnostics
; *************************************************
serial_diag_extended:                
                        
; Flush any stale data in UART receive buffer
.diag_flush:
				ld      a, SIDR_SODR
				tbbs    bit7, SSD, .diag_flush          ; Loop back if SSD.7 set (data in receive buffer)
                        
; Send sync byte                        
				clrb    bit1, SSD                       ; Clear SSD.1 which sets parity bit to space (DIAG)
				ld      a, serial_diag_mode             ; Copy mode value...
				clrb    bit1, PORTD_ASRIN
				st      a, SIDR_SODR                    ; ...to serial Tx buffer

				ld      y, #.diag_mode_table            ; Load table base for diag mode table
				sub     a, #0DAh                        ; Convert mode into index and...
				shl     a                               ; ...multiply by 2
				add     y, a                            ; Compute address in table
				ld      y, y + 00h                      ; Load jump address into y for selected mode

				ld      b, #10h                         ; Initialise loop counter (16 iterations)
				setb    bit1, PORTD_ASRIN

; Wait for MSB of command/address to be received
.diag_msb_wait:
				tbbs    bit7, SSD, .diag_msb_found      ; Exit loop if SSD.7 set (data in receive buffer)
				dec     b                               ; Repeat for 14 iterations...
				bne     .diag_msb_wait                  ; ...loop back if more iterations
				ret					; Timed out waiting for data

; MSB of command/address received
.diag_msb_found:                                              
				tbbs    bit6, SSD, .diag_drop           ; Jump if SSD.6 (buffer overflow) set
				ld      a, SIDR_SODR                    ; Store MSB in A

; Wait for LSB of command/address to be received                        
.diag_lsb_wait:
				tbbs    bit7, SSD, .diag_lsb_found      ; Exit loop if SSD.7 set (data in receive buffer)
				dec     b                               ; Repeat for 14 iterations...
				bne     .diag_lsb_wait                  ; ...loop back if more iterations
				ret		                      	; Timed out waiting for data

; LSB of command/address received
.diag_lsb_found:        	tbbs    bit6, SSD, .diag_drop           ; Jump if SSD.6 (buffer overflow) set
				ld      b, SIDR_SODR                    ; Store LSB in B, 16 bit value now in D

				tbbs    bit0, SSD, .diag_command        ; Read Serial Status Register, jump if parity bit is set (command selection bit)
				jmp     y + 00h                         ; Not command, so jump to mode handler routine

; Handler for read 16 mode
.diag_data_read16_mode:
				mov     d, y                            ; Move address to Y
				ld      d, [y]                          ; Read 2 bytes and increment address                        

; Transmit word in D
.diag_tx_word:
				clrb    bit1, SSD                       ; Clear SSD.1 which sets parity bit to space (DIAG)
				st      a, SIDR_SODR                    ; Write 1st byte to serial Tx buffer
				div     d, #00h                         ; Wait for a bit...                        
				clrb    bit1, SSD                       ; Clear SSD.1 which sets parity bit to space (DIAG)
				st      b, SIDR_SODR                    ; Write 2nd byte to serial Tx buffer
				ret
				
; Handler for write 16 bits mode, address phase
.diag_addr_write16_mode:
				st      d, serial_diag_address          ; Store write address
				ld      #0DCh, serial_diag_mode         ; Move to data_write16 mode
				bra     .diag_tx_word                   ; Echo back address
                        
; Handler for write 16 bits mode, data phase
.diag_data_write16_mode:
				ld      y, serial_diag_address          ; Retrieve write address
				st      d, [y]                          ; Write 16 bit value in D, increment write address
				st      y, serial_diag_address          ; Store write address
				bra     .diag_tx_word                   ; Echo back address
                        
; Handler for write 8 bits mode, address phase
.diag_addr_write8_mode:
				st      d, serial_diag_address          ; Store write address
				ld      #0DEh, serial_diag_mode         ; Move to data_write8 mode    
				bra     .diag_tx_word                   ; Echo back address
                        
; Handler for write 16 bits mode, data phase
.diag_data_write8_mode:
				ld      y, serial_diag_address          ; Retrieve write address
				st      a, [y]                          ; Write 8 bit value in A, increment write address
				st      y, serial_diag_address          ; Store write address
				bra     .diag_tx_word                   ; Echo back address

; Command received, store and echo back              
.diag_command:
				cmp     b, #0DAh                        ; Check if command < 0DAh...
				bcs     .diag_drop                      ; Jump if it is, command is invalid
				cmp     b, #0DEh                        ; Check if command > 0DEh
				bgt     .diag_drop                      ; Jump if it is, command is invalid                                
				st      b, serial_diag_mode             ; Store new diagnostic mode                        
				bra     .diag_tx_word                   ; Echo back command  
                        
; Drop any data in buffer                        
.diag_drop:
				ld      a, SIDR_SODR
				tbbs    bit7, SSD, .diag_drop            ; Loop back if SSD.7 set (data in receive buffer)
				ret

.diag_mode_table:
				.dw     .diag_data_read16_mode          ; 0DAh
				.dw     .diag_addr_write16_mode         ; 0DBh
				.dw     .diag_data_write16_mode         ; 0DCh
				.dw     .diag_addr_write8_mode          ; 0DDh
				.dw     .diag_data_write8_mode          ; 0DEh

serial_diag_init:		ld	a, #0DAh
				st	a, serial_diag_mode
				jmp	init_ne_counters



; File Name   :	C:\Documents and Settings\js01\My Documents\toyotune-rom\trunk\3S-GE\D151804-0401 (MR2 UK Rev 3)\D151804-0401.bin
; Format      :	Binary file
; Base Address:	0000h Range: C000h - 10000h Loaded length: 4000h
; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ

; Segment type:	Pure code
			      ;.segment	ROM
			      .org 0C000h
unk_C000:		      .db  5Fh ; _		    ; DATA XREF: sub_E050+B3o
			      .db  5Fh ; _
			      .db  5Fh ; _

;  S U B	R O U T	I N E 


			      ;	public IVf
IVf:							    ; CODE XREF: IVfj
							    ; DATA XREF: ROM:FFDEo ...
			      bra IVf			    ; IV0
							    ; IV2
							    ; IV3
							    ; IV5
							    ; IV7
							    ; IV8
							    ; IVa
							    ; IVb
							    ; IVd

; End of function IVf

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
map_ve:			      .dw 0200h			    ; DATA XREF: __RESET:loc_E472o
			      .db 18h
			      .dw 01B8h
			      .db 08h
			      .db 34h, 37h, 3Eh, 45h, 47h, 50h,	4Ah, 4Dh, 55h, 59h, 52h, 2Bh, 29h, 3Fh,	3Fh, 5Fh, 66h, 93h, 88h, 9Eh, 0B3h, 0B6h, 0AAh,	8Eh, 8Eh
			      .db 48h, 55h, 55h, 60h, 64h, 75h,	6Ch, 6Dh, 79h, 7Ch, 71h, 6Dh, 6Eh, 79h,	8Fh, 0A0h, 0A6h, 0ABh, 0A4h, 0B7h, 0BEh, 0C3h, 0B6h, 0A8h, 0A8h
			      .db 4Dh, 5Eh, 60h, 6Bh, 6Dh, 7Ch,	77h, 76h, 7Fh, 84h, 7Bh, 78h, 79h, 88h,	98h, 0A5h, 0ACh, 0B7h, 0B3h, 0BFh, 0CBh, 0CCh, 0C8h, 0C2h, 0C2h
			      .db 50h, 63h, 69h, 6Fh, 71h, 7Dh,	7Ah, 7Ah, 82h, 87h, 81h, 7Eh, 7Fh, 8Eh,	9Fh, 0ABh, 0B2h, 0C0h, 0BFh, 0C3h, 0D0h, 0D6h, 0CFh, 0C8h, 0C8h
			      .db 58h, 69h, 6Fh, 73h, 74h, 80h,	7Ch, 7Eh, 85h, 8Ah, 85h, 84h, 86h, 92h,	0A4h, 0AFh, 0B7h, 0C8h,	0C5h, 0C7h, 0D6h, 0DAh,	0DAh, 0D8h, 0D8h
			      .db 5Eh, 6Ch, 73h, 77h, 79h, 83h,	7Fh, 83h, 8Ah, 8Eh, 89h, 88h, 8Bh, 95h,	0A9h, 0B2h, 0BEh, 0CBh,	0C8h, 0CDh, 0D6h, 0DEh,	0DCh, 0D4h, 0D4h
			      .db 66h, 70h, 77h, 7Ch, 7Eh, 86h,	82h, 88h, 8Bh, 92h, 8Eh, 8Dh, 8Fh, 97h,	0ABh, 0B6h, 0C0h, 0D2h,	0CCh, 0CDh, 0D7h, 0DBh,	0D8h, 0D0h, 0D0h
			      .db 70h, 77h, 7Eh, 83h, 81h, 8Ch,	86h, 8Ch, 8Dh, 94h, 93h, 90h, 82h, 9Bh,	0ADh, 0B6h, 0C8h, 0D0h,	0CAh, 0CAh, 0D2h, 0D8h,	0D8h, 0D4h, 0D4h
			      .db 7Bh, 7Eh, 84h, 8Ah, 87h, 8Ah,	85h, 87h, 93h, 0A6h, 98h, 96h, 94h, 0A5h, 0A8h,	0BAh, 0C0h, 0D0h, 0CCh,	0C8h, 0D0h, 0D9h, 0D9h,	0CEh, 0CEh
map_fuel_adjustment:	      .dw 0A00h			    ; DATA XREF: __RESET+710o
			      .db 09h
			      .dw 05B8h
			      .db 04h
			      .db 04h, 04h, 04h, 04h, 04h, 04h,	04h, 04h, 04h, 04h
			      .db 04h, 04h, 04h, 04h, 04h, 04h,	04h, 04h, 06h, 0Ah
			      .db 04h, 04h, 04h, 04h, 04h, 04h,	04h, 07h, 0Ah, 0Fh
			      .db 04h, 04h, 15h, 0Fh, 0Ah, 12h,	19h, 19h, 1Dh, 24h
			      .db 0Fh, 18h, 22h, 22h, 1Eh, 2Ch,	30h, 30h, 30h, 34h
word_C124:		      .dw 00C0h			    ; DATA XREF: __RESET+782o
			      .db 07h
			      .dw 0100h
			      .db 05h
			      .db 00h, 00h, 00h, 00h, 00h, 00h,	00h, 00h
			      .db 00h, 00h, 00h, 00h, 00h, 00h,	00h, 00h
			      .db 00h, 00h, 00h, 00h, 00h, 00h,	00h, 00h
			      .db 00h, 00h, 00h, 00h, 00h, 00h,	00h, 00h
			      .db 00h, 00h, 00h, 00h, 00h, 00h,	00h, 00h
			      .db 00h, 00h, 00h, 00h, 00h, 00h,	00h, 00h
map_injector_timing_unk:      .dw 0200h			    ; DATA XREF: sub_E70C:loc_E726o
			      .db 0Bh
			      .dw 0000h
			      .db 0Ah
			      .db 4Ah, 4Ah, 39h, 2Eh, 28h, 1Fh,	1Ah, 19h, 18h, 16h, 13h, 0Fh
			      .db 82h, 82h, 72h, 61h, 56h, 40h,	33h, 2Dh, 29h, 23h, 1Dh, 19h
			      .db 93h, 93h, 8Ch, 85h, 7Dh, 6Ch,	5Ah, 50h, 47h, 3Bh, 32h, 2Bh
			      .db 97h, 97h, 94h, 90h, 8Dh, 83h,	77h, 6Dh, 63h, 57h, 4Bh, 42h
			      .db 99h, 99h, 97h, 96h, 94h, 8Fh,	87h, 80h, 79h, 6Dh, 63h, 5Ah
			      .db 9Bh, 99h, 98h, 97h, 96h, 94h,	90h, 8Ch, 86h, 7Eh, 76h, 6Dh
			      .db 9Bh, 9Bh, 9Ah, 9Ah, 99h, 98h,	96h, 94h, 92h, 8Eh, 8Ah, 86h
			      .db 9Bh, 9Bh, 9Bh, 9Ah, 9Ah, 99h,	99h, 98h, 97h, 94h, 93h, 91h
			      .db 9Bh, 9Bh, 9Bh, 9Bh, 9Bh, 9Ah,	9Ah, 99h, 98h, 97h, 97h, 95h
			      .db 9Bh, 9Bh, 9Bh, 9Bh, 9Bh, 9Bh,	9Bh, 9Ah, 99h, 99h, 99h, 98h
			      .db 9Bh, 9Bh, 9Bh, 9Bh, 9Bh, 9Bh,	9Bh, 9Bh, 9Ah, 9Ah, 9Ah, 9Ah
word_C1E4:		      .dw 0080h			    ; DATA XREF: sub_E70C+27o
			      .db 02h
			      .dw 01B8h
			      .db 08h
			      .db 02h, 0Bh, 14h
			      .db 03h, 0Bh, 15h
			      .db 03h, 0Bh, 16h
			      .db 03h, 0Ch, 17h
			      .db 04h, 0Dh, 18h
			      .db 06h, 10h, 23h
			      .db 07h, 15h, 2Fh
			      .db 0Bh, 20h, 50h
			      .db 2Ch, 0A0h, 0B0h
unk_C205:		      .db  10h			    ; DATA XREF: __RESET+1B19o
			      .db 0C0h ; ภ
			      .db  73h ; s
			      .db  6Dh ; m
			      .db  55h ; U
			      .db  47h ; G
			      .db  45h ; E
			      .db  39h ; 9
			      .db  2Bh ; +
			      .db  24h ; $
			      .db  1Ch
			      .db  17h
			      .db  11h
			      .db  0Fh
			      .db  0Fh
unk_C214:		      .db  02h			    ; DATA XREF: __RESET+1B23o
			      .db  80h ; 
			      .db  06h
			      .db 0FFh
			      .db  92h ; 
			      .db  72h ; r
			      .db  5Dh ; ]
			      .db  4Fh ; O
			      .db  44h ; D
			      .db  3Ch ; <
unk_C21E:		      .db  9Ch ; 		    ; DATA XREF: __RESET+1B2Ao
			      .db  40h ; @
			      .db 0FFh
			      .db 0A0h ; 
			      .db  40h ; @
unk_C223:		      .db  46h ; F		    ; DATA XREF: __RESET+1B4Ao
			      .db  20h
			      .db 0A9h ; ฉ
			      .db  94h ; 
			      .db  80h ; 
table_inj_battery_adjust:     .db 53h, 80h		    ; DATA XREF: ROM:FD39o
			      .db 0EFh			    ; 6.48v  =
			      .db 76h			    ; 8.95v  =
			      .db 4Ch			    ; 11.44v =
			      .db 37h			    ; 13.92v =
			      .db 29h			    ; 16.40v =
unk_C22F:		      .db  26h ; &		    ; DATA XREF: sub_CD46o
			      .db 0C0h ; ภ
			      .db  5Ch ; \
			      .db  56h ; V
			      .db  4Ch ; L
			      .db  2Ah ; *
unk_C235:		      .db  60h ; `		    ; DATA XREF: __RESET+4CCo
			      .db  80h ; 
			      .db  12h
			      .db  12h
			      .db  0Fh
			      .db  0Fh
			      .db  0Fh
unk_C23C:		      .db  18h			    ; DATA XREF: __RESET+19FAo
			      .db 0C0h ; ภ
			      .db  7Ch ; |
			      .db  60h ; `
			      .db  43h ; C
			      .db  39h ; 9
			      .db  1Ch
			      .db  0Eh
			      .db  06h
unk_C245:		      .db  08h			    ; DATA XREF: __RESET+1A0Fo
			      .db  51h ; Q
			      .db 0EDh ; ํ
			      .db  7Eh ; ~
			      .db 0EDh ; ํ
			      .db  86h ; 
			      .db 0DDh ; 
			      .db  9Eh ; 
			      .db 0DDh ; 
			      .db 0BCh ; ผ
			      .db 0EDh ; ํ
unk_C250:		      .db  10h			    ; DATA XREF: __RESET+1A2Fo
			      .db 0B0h ; ฐ
			      .db  98h ; 
			      .db  98h ; 
			      .db  50h ; P
			      .db  28h ; (
			      .db  0Bh
			      .db  0Ah
			      .db  08h
			      .db  06h
			      .db  03h
			      .db  02h
			      .db  02h
			      .db  00h
unk_C25E:		      .db  18h			    ; DATA XREF: __RESET+1A75o
			      .db 0A0h ; 
			      .db  0Fh
			      .db  0Fh
			      .db  0Fh
			      .db  0Dh
			      .db  06h
			      .db  03h
unk_C266:		      .db  11h			    ; DATA XREF: sub_E365+5o
			      .db  80h ; 
			      .db  4Bh ; K
			      .db  3Eh ; >
			      .db  35h ; 5
			      .db  2Eh ; .
			      .db  28h ; (
			      .db  1Eh
			      .db  14h
			      .db  0Ah
			      .db  00h
unk_C271:		      .db  99h ; 		    ; DATA XREF: __RESET+1AC8o
			      .db  50h ; P
			      .db  0Dh
			      .db  0Dh
			      .db  0Dh
			      .db  13h
			      .db  26h ; &
			      .db  26h ; &
unk_C279:		      .db  18h			    ; DATA XREF: __RESET+19DBo
			      .db 0C0h ; ภ
			      .db  6Fh ; o
			      .db  48h ; H
			      .db  2Fh ; /
			      .db  21h ; !
			      .db  12h
			      .db  0Ch
			      .db  00h
unk_C282:		      .db  50h ; P		    ; DATA XREF: __RESET+19E4o
			      .db  20h
			      .db  80h ; 
			      .db  40h ; @
unk_C286:		      .db  1Dh			    ; DATA XREF: __RESET+ACAo
			      .db 0A0h ; 
			      .db 0B0h ; ฐ
			      .db  9Dh ; 
			      .db  8Fh ; 
			      .db  81h ; 
			      .db  74h ; t
			      .db  62h ; b
unk_C28E:		      .db  02h			    ; DATA XREF: __RESET+6DEo
			      .db  00h
			      .db  11h
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  82h ; 
			      .db  82h ; 
			      .db  82h ; 
			      .db  82h ; 
			      .db  82h ; 
			      .db  72h ; r
			      .db  62h ; b
			      .db  62h ; b
unk_C2A3:		      .db  02h			    ; DATA XREF: __RESET+6E4o
			      .db  00h
			      .db  11h
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  8Fh ; 
			      .db  85h ; 
			      .db  85h ; 
			      .db  85h ; 
			      .db  85h ; 
			      .db  85h ; 
			      .db  85h ; 
			      .db  6Fh ; o
			      .db  5Fh ; _
			      .db  5Fh ; _
			      .db  5Fh ; _
			      .db  5Fh ; _
			      .db  5Fh ; _
			      .db  5Fh ; _
			      .db  5Fh ; _
			      .db  5Fh ; _
unk_C2B8:		      .db  00h			    ; DATA XREF: __RESET+6D5o
			      .db  80h ; 
			      .db  00h
			      .db  08h
			      .db  0Ah
			      .db  0Ch
			      .db  0Eh
unk_C2BF:		      .db  09h			    ; DATA XREF: __RESET+72Bo
			      .db  00h
			      .db  06h
			      .db  1Fh
			      .db  1Bh
			      .db  17h
			      .db  13h
			      .db  17h
			      .db  1Bh
unk_C2C8:		      .db  1Fh			    ; DATA XREF: sub_D031+Ao
			      .db  27h ; '
			      .db  4Fh ; O
			      .db  77h ; w
			      .db  9Fh ; 
			      .db 0C7h ; ว
			      .db 0FFh
			      .db  04h
			      .db  04h
			      .db  02h
			      .db  01h
			      .db  01h
			      .db  01h
unk_C2D5:		      .db  1Fh			    ; DATA XREF: sub_D0A7o
			      .db 0C0h ; ภ
			      .db  40h ; @
			      .db  40h ; @
			      .db  40h ; @
			      .db  40h ; @
unk_C2DB:		      .db  00h			    ; DATA XREF: sub_E873+Ao
			      .db 0DCh ; 
			      .db  04h
			      .db  00h
			      .db  16h
			      .db  2Ch ; ,
			      .db  42h ; B
			      .db  58h ; X
unk_C2E3:		      .db  01h			    ; DATA XREF: __RESET+1EADo
			      .db  00h
			      .db  08h
			      .db  78h ; x
			      .db  7Ch ; |
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  88h ; 
			      .db  91h ; 
			      .db  91h ; 
			      .db  91h ; 
unk_C2EF:		      .db  01h			    ; DATA XREF: __RESET+1EB8o
			      .db  00h
			      .db  08h
			      .db  60h ; `
			      .db  78h ; x
			      .db 0C0h ; ภ
			      .db 0CDh ; อ
			      .db 0A6h ; ฆ
			      .db  9Ah ; 
			      .db  98h ; 
			      .db  98h ; 
			      .db  98h ; 
unk_C2FB:		      .db  01h			    ; DATA XREF: sub_E873+CBo
			      .db  00h
			      .db  01h
			      .db  1Ah
			      .db  80h ; 
unk_C300:		      .db  00h			    ; DATA XREF: __RESET+1ED4o
			      .db  80h ; 
			      .db  04h
			      .db  30h ; 0
			      .db  30h ; 0
			      .db  40h ; @
			      .db  40h ; @
			      .db  60h ; `
unk_C308:		      .db  00h			    ; DATA XREF: __RESET+1EEFo
			      .db  80h ; 
			      .db  04h
			      .db  50h ; P
			      .db  50h ; P
			      .db  50h ; P
			      .db  50h ; P
			      .db  50h ; P
unk_C310:		      .db  1Fh			    ; DATA XREF: __RESET+1ECCo
			      .db 0C0h ; ภ
			      .db  73h ; s
			      .db  5Ah ; Z
			      .db  40h ; @
			      .db  40h ; @
unk_C316:		      .db  1Fh			    ; DATA XREF: __RESET+1EE7o
			      .db 0C0h ; ภ
			      .db  40h ; @
			      .db  40h ; @
			      .db  40h ; @
			      .db  40h ; @
unk_C31C:		      .db  00h			    ; DATA XREF: __RESET+1F02o
			      .db  80h ; 
			      .db  04h
			      .db  50h ; P
			      .db  41h ; A
			      .db  41h ; A
			      .db  30h ; 0
			      .db  30h ; 0
unk_C324:		      .db  00h			    ; DATA XREF: __RESET+1F0Ao
			      .db  80h ; 
			      .db  04h
			      .db  41h ; A
			      .db  41h ; A
			      .db  41h ; A
			      .db  48h ; H
			      .db  48h ; H
unk_C32C:		      .db  1Fh			    ; DATA XREF: __RESET+1F22o
			      .db 0C0h ; ภ
			      .db  30h ; 0
			      .db  30h ; 0
			      .db  30h ; 0
			      .db  30h ; 0
			      .db  20h
			      .db  18h
			      .db  00h
unk_C335:		      .db  1Fh			    ; DATA XREF: __RESET+1F18o
			      .db 0C0h ; ภ
			      .db  60h ; `
			      .db  60h ; `
			      .db  60h ; `
			      .db  60h ; `
			      .db  60h ; `
			      .db  60h ; `
			      .db  20h
unk_C33E:		      .db  0Eh			    ; DATA XREF: __RESET:loc_E808o
			      .db  1Fh
			      .db  8Ah ; 
			      .db  3Eh ; >
			      .db  6Ah ; j
			      .db  5Dh ; ]
			      .db  6Ah ; j
			      .db  7Ch ; |
			      .db  41h ; A
			      .db  9Ch ; 
			      .db  12h
			      .db 0BCh ; ผ
			      .db  0Bh
			      .db 0DCh ; 
			      .db  00h
			      .db 0E8h ; ่
			      .db  00h
unk_C34F:		      .db  0Eh			    ; DATA XREF: __RESET+1F52o
			      .db  1Fh
			      .db  56h ; V
			      .db  3Eh ; >
			      .db  56h ; V
			      .db  5Dh ; ]
			      .db  41h ; A
			      .db  7Ch ; |
			      .db  20h
			      .db  9Ch ; 
			      .db  12h
			      .db 0BCh ; ผ
			      .db  0Bh
			      .db 0DCh ; 
			      .db  00h
			      .db 0E8h ; ่
			      .db  00h
unk_C360:		      .db  0Eh			    ; DATA XREF: __RESET+1F3Ao
			      .db  1Fh
			      .db  60h ; `
			      .db  3Eh ; >
			      .db  60h ; `
			      .db  5Dh ; ]
			      .db  60h ; `
			      .db  7Ch ; |
			      .db  60h ; `
			      .db  9Ch ; 
			      .db  60h ; `
			      .db 0BCh ; ผ
			      .db  20h
			      .db 0DCh ; 
			      .db  20h
			      .db 0E8h ; ่
			      .db  20h
unk_C371:		      .db  0Eh			    ; DATA XREF: __RESET+1F5Ao
			      .db  1Fh
			      .db  20h
			      .db  3Eh ; >
			      .db  20h
			      .db  5Dh ; ]
			      .db  20h
			      .db  7Ch ; |
			      .db  20h
			      .db  9Ch ; 
			      .db  20h
			      .db 0BCh ; ผ
			      .db  20h
			      .db 0DCh ; 
			      .db  20h
			      .db 0E8h ; ่
			      .db  20h
unk_C382:		      .db  00h			    ; DATA XREF: __RESET+1EC1o
			      .db  80h ; 
			      .db  04h
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  50h ; P
			      .db  20h
unk_C38A:		      .db  38h ; 8		    ; DATA XREF: sub_CF36+Co
			      .db  40h ; @
			      .db  7Dh ; }
			      .db  7Dh ; }
			      .db  7Dh ; }
byte_C38F:		      .db 64h			    ; DATA XREF: sub_CF36:loc_CF4Co
			      .db  80h ; 
			      .db 0BCh ; ผ
			      .db  7Dh ; }
			      .db  00h
unk_C394:		      .db  18h			    ; DATA XREF: __RESET+50Eo
			      .db  60h ; `
			      .db 0A4h ; ค
			      .db  42h ; B
			      .db  3Bh ; ;
			      .db  52h ; R
unk_C39A:		      .db  38h ; 8		    ; DATA XREF: __RESET:loc_CEA6o
			      .db  50h ; P
			      .db  02h
			      .db  02h
			      .db  03h
			      .db  06h
			      .db  06h
			      .db  0Bh
table_ect_inj_trans_throttle: .db 02h			    ; DATA XREF: transient_throttle_inject+1Bo
			      .db 51h, 5Eh
			      .db 0E4h,	1Fh
unk_C3A7:		      .db  0Ah			    ; DATA XREF: __RESET:loc_D12Do
							    ; __RESET+8C5o
			      .db  0Ah
			      .db  0Ah
			      .db  0Ah
unk_C3AB:		      .db  1Ah			    ; DATA XREF: __RESET+846o
			      .db  1Ah
			      .db  1Ah
			      .db  1Ah
unk_C3AF:		      .db  16h			    ; DATA XREF: __RESET+872o
							    ; __RESET+8E1o
			      .db  16h
			      .db  10h
			      .db  40h ; @
			      .db  36h ; 6
			      .db  16h
			      .db  16h
			      .db  10h
			      .db  40h ; @
			      .db  2Bh ; +
			      .db  16h
			      .db  16h
unk_C3BB:		      .db  16h			    ; DATA XREF: __RESET+87Ao
			      .db  16h
			      .db  10h
			      .db  40h ; @
			      .db  36h ; 6
			      .db  56h ; V
			      .db  81h ; 
			      .db  10h
			      .db  40h ; @
			      .db  2Bh ; +
			      .db  41h ; A
			      .db  61h ; a
unk_C3C7:		      .db  07h			    ; DATA XREF: ROM:FB6Do
			      .db  07h
			      .db  05h
			      .db  0Dh
			      .db  09h
			      .db 0FEh ; 
			      .db 0FEh ; 
			      .db 0FEh ; 
			      .db 0FEh ; 
			      .db 0FEh ; 
unk_C3D1:		      .db  40h ; @		    ; DATA XREF: __RESET+318o
			      .db  50h ; P
			      .db  7Ah ; z
			      .db  7Ah ; z
			      .db  7Ah ; z
			      .db  7Ah ; z
			      .db  31h ; 1
			      .db  31h ; 1
table_unk_C3D9:		      .db  0Dh			    ; DATA XREF: sub_F3AB+16o
			      .db  0Dh
			      .db  0Dh
			      .db  0Dh
map_ignition_timing:	      .dw 0200h			    ; DATA XREF: sub_EA2F+3CEo
			      .db  18h
			      .dw 01B8h
			      .db  08h
			      .db 85h, 85h, 85h, 85h, 85h, 85h,	85h, 85h, 85h, 85h, 85h, 85h, 85h, 85h,	85h, 85h, 85h, 85h, 85h, 85h, 85h, 85h,	85h, 85h, 85h
			      .db 85h, 85h, 85h, 89h, 96h, 0A3h, 0B4h, 0BAh, 0C0h, 0C3h, 0C5h, 0C9h, 0C9h, 0C0h, 0C0h, 0C0h, 0B4h, 0B4h, 96h, 91h, 91h,	8Dh, 8Dh, 8Dh, 8Dh
			      .db 85h, 85h, 85h, 89h, 96h, 0A3h, 0B4h, 0BAh, 0C0h, 0C3h, 0C5h, 0C9h, 0C9h, 0C0h, 0C0h, 0C0h, 0B4h, 0B4h, 96h, 91h, 91h,	8Dh, 8Dh, 8Dh, 8Dh
			      .db 7Ch, 7Ch, 7Ch, 80h, 8Dh, 8Dh,	9Ah, 0A5h, 0AFh, 0B1h, 0B4h, 0B8h, 0B8h, 0AFh, 0AFh, 0AFh, 0ABh, 0A7h, 85h, 85h, 85h, 85h, 85h,	85h, 85h
			      .db 6Fh, 6Fh, 6Fh, 7Ch, 85h, 89h,	8Dh, 9Ah, 0A7h,	0A9h, 0ABh, 0ABh, 0ABh,	0A7h, 0A7h, 0A7h, 9Ah, 9Ah, 80h, 80h, 80h, 80h,	80h, 80h, 80h
			      .db 56h, 56h, 5Eh, 6Bh, 80h, 7Ch,	89h, 94h, 9Eh, 0A3h, 0A7h, 0A7h, 9Eh, 9Eh, 9Eh,	9Ah, 89h, 85h, 7Ch, 74h, 67h, 67h, 67h,	67h, 67h
			      .db 38h, 38h, 40h, 56h, 63h, 63h,	78h, 80h, 96h, 96h, 9Ah, 9Ah, 9Ah, 9Ah,	91h, 80h, 74h, 6Fh, 74h, 67h, 5Ah, 51h,	54h, 51h, 51h
			      .db 1Ah, 1Ah, 27h, 40h, 51h, 51h,	63h, 6Fh, 78h, 78h, 89h, 8Dh, 8Dh, 8Dh,	85h, 78h, 71h, 67h, 74h, 67h, 5Ah, 51h,	54h, 51h, 51h
			      .db 11h, 11h, 20h, 2Bh, 45h, 49h,	5Ah, 67h, 63h, 63h, 78h, 80h, 80h, 89h,	78h, 78h, 71h, 67h, 74h, 67h, 5Ah, 51h,	54h, 51h, 51h
unk_C4C4:		      .db  08h			    ; DATA XREF: sub_EA2F:loc_EA3Ao
			      .db  80h ; 
			      .db 0FFh
			      .db  9Ah ; 
			      .db 0D7h ; ื
			      .db 0B3h ; ณ
			      .db 0BBh ; ป
			      .db 0CDh ; อ
			      .db 0AAh ; ช
			      .db 0E6h ; ๆ
			      .db  8Fh ; 
unk_C4CF:		      .db  08h			    ; DATA XREF: sub_EA2F+16o
			      .db  0Ah
			      .db 0FFh
			      .db  20h
			      .db 0CBh ; ห
			      .db  3Ch ; <
			      .db 0A1h ; ก
			      .db  5Ah ; Z
			      .db 0A1h ; ก
			      .db 0A0h ; 
			      .db  7Eh ; ~
unk_C4DA:		      .db  04h			    ; DATA XREF: sub_EA2F+24o
			      .db  28h ; (
			      .db 0FAh ; ๚
			      .db  50h ; P
			      .db  7Dh ; }
			      .db 0A0h ; 
			      .db  5Eh ; ^
unk_C4E1:		      .db  00h			    ; DATA XREF: sub_EA2F+251o
			      .db 0C0h ; ภ
			      .db  3Bh ; ;
			      .db  44h ; D
			      .db  4Ch ; L
			      .db  55h ; U
			      .db  5Eh ; ^
			      .db  66h ; f
			      .db  6Fh ; o
unk_C4EA:		      .db  08h			    ; DATA XREF: sub_EA2F+41Ao
			      .db  60h ; `
			      .db  05h
			      .db  56h ; V
			      .db  56h ; V
			      .db  77h ; w
			      .db  98h ; 
			      .db 0B8h ; ธ
			      .db 0CDh ; อ
unk_C4F3:		      .db  05h			    ; DATA XREF: sub_EA2F+422o
			      .db  11h
			      .db  05h
			      .db  11h
unk_C4F7:		      .db  0Eh			    ; DATA XREF: sub_EA2F+46Co
			      .db  1Fh
			      .db 0C0h ; ภ
			      .db  3Eh ; >
			      .db 0C0h ; ภ
			      .db  5Dh ; ]
			      .db 0C0h ; ภ
			      .db  7Ch ; |
			      .db 0B3h ; ณ
			      .db  86h ; 
			      .db 0A6h ; ฆ
			      .db 0C4h ; ฤ
			      .db  9Ah ; 
			      .db 0E4h ; ไ
			      .db  80h ; 
			      .db 0E8h ; ่
			      .db  80h ; 
unk_C508:		      .db  0Eh			    ; DATA XREF: sub_EA2F+475o
			      .db  1Fh
			      .db 0C0h ; ภ
			      .db  3Eh ; >
			      .db 0C0h ; ภ
			      .db  5Dh ; ]
			      .db 0C0h ; ภ
			      .db  7Ch ; |
			      .db  80h ; 
			      .db  86h ; 
			      .db  62h ; b
			      .db 0C4h ; ฤ
			      .db  62h ; b
			      .db 0E4h ; ไ
			      .db  62h ; b
			      .db 0E8h ; ่
			      .db  80h ; 
unk_C519:		      .db  0Eh			    ; DATA XREF: sub_EA2F:loc_EEC2o
			      .db  1Fh
			      .db 0C0h ; ภ
			      .db  3Eh ; >
			      .db 0C0h ; ภ
			      .db  5Dh ; ]
			      .db  9Ah ; 
			      .db  7Ch ; |
			      .db  80h ; 
			      .db  86h ; 
			      .db  80h ; 
			      .db 0C4h ; ฤ
			      .db  80h ; 
			      .db 0E4h ; ไ
			      .db  80h ; 
			      .db 0E8h ; ่
			      .db  80h ; 
unk_C52A:		      .db  1Ah			    ; DATA XREF: sub_EA2F+97o
			      .db  80h ; 
			      .db 0A0h ; 
			      .db 0A0h ; 
			      .db 0C0h ; ภ
			      .db 0C0h ; ภ
			      .db 0C0h ; ภ
unk_C531:		      .db  56h ; V		    ; DATA XREF: sub_EB5E+6o
			      .db  80h ; 
			      .db  00h
			      .db  15h
			      .db  2Ah ; *
			      .db  40h ; @
			      .db  95h ; 
unk_C538:		      .db  00h			    ; DATA XREF: sub_EB5E:loc_EBC4o
			      .db  80h ; 
			      .db  00h
			      .db  1Eh
			      .db  33h ; 3
			      .db  40h ; @
			      .db  40h ; @
unk_C53F:		      .db  02h			    ; DATA XREF: sub_EC1Eo
			      .db 0D2h ; า
			      .db  40h ; @
			      .db 0E4h ; ไ
			      .db  00h
unk_C544:		      .db  1Ah			    ; DATA XREF: sub_EA2F:loc_EB11o
			      .db  80h ; 
			      .db  07h
			      .db  11h
			      .db  20h
			      .db  20h
			      .db  20h
unk_C54B:		      .db  4Fh ; O		    ; DATA XREF: sub_EB5E+6Do
			      .db  40h ; @
			      .db  80h ; 
			      .db  00h
byte_C54F:		      .db 20h			    ; DATA XREF: sub_EA2F+32o
			      .db  40h ; @
			      .db  42h ; B
			      .db  5Ch ; \
			      .db  7Bh ; {
unk_C554:		      .db  00h			    ; DATA XREF: sub_EA2F+3F4o
			      .db  09h
			      .db  11h
			      .db  1Ah
unk_C558:		      .db  00h			    ; DATA XREF: sub_EA2F+4D7o
			      .db  00h
			      .db  00h
			      .db  1Ah
word_C55C:		      .dw 0600h			    ; DATA XREF: sub_D640:loc_D998o
			      .db  04h
			      .dw 0200h
			      .db  04h
			      .db 0FDh,	0FDh, 0FDh, 0FDh, 0FDh
			      .db 0B6h,	79h, 64h, 79h, 0B6h
			      .db 5Ah, 5Ah, 50h, 50h, 50h
			      .db 50h, 50h, 50h, 50h, 50h
			      .db 50h, 50h, 50h, 50h, 50h
unk_C57B:		      .db  80h ; 		    ; DATA XREF: sub_D640+3F5o
			      .db  70h ; p
			      .db  00h
			      .db  6Ch ; l
			      .db  7Dh ; }
			      .db  8Fh ; 
			      .db 0A1h ; ก
			      .db 0A1h ; ก
			      .db 0A1h ; ก
			      .db 0A1h ; ก
unk_C585:		      .db  09h			    ; DATA XREF: sub_D640+427o
			      .db  52h ; R
			      .db  08h
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
			      .db  80h ; 
unk_C591:		      .db  12h			    ; DATA XREF: sub_D537o
			      .db  18h
			      .db  69h ; i
			      .db  26h ; &
			      .db  60h ; `
			      .db  3Ah ; :
			      .db  56h ; V
			      .db  51h ; Q
			      .db  48h ; H
			      .db  6Bh ; k
			      .db  45h ; E
			      .db  86h ; 
			      .db  43h ; C
			      .db 0B3h ; ณ
			      .db  36h ; 6
			      .db 0D2h ; า
			      .db  14h
			      .db 0E1h ; แ
			      .db  0Dh
			      .db 0E4h ; ไ
			      .db  00h
unk_C5A6:		      .db  0Eh			    ; DATA XREF: sub_D640+5o
			      .db  09h
			      .db  14h
			      .db  29h ; )
			      .db  21h ; !
			      .db  48h ; H
			      .db  1Bh
			      .db  67h ; g
			      .db  16h
			      .db  87h ; 
			      .db  18h
			      .db 0A7h ; ง
			      .db  1Ch
			      .db 0C7h ; ว
			      .db  1Fh
			      .db 0E8h ; ่
			      .db  21h ; !
unk_C5B7:		      .db  02h			    ; DATA XREF: sub_D640+Co
			      .db 0B3h ; ณ
			      .db  0Ah
			      .db 0D2h ; า
			      .db  3Bh ; ;
unk_C5BC:		      .db  1Fh			    ; DATA XREF: sub_D640:loc_D9DAo
			      .db  0Ah
			      .db  1Fh
			      .db  1Ah
			      .db  33h ; 3
			      .db  33h ; 3
unk_C5C2:		      .db  2Bh ; +		    ; DATA XREF: sub_D640+4Bo
			      .db  60h ; `
			      .db  00h
			      .db  00h
			      .db  00h
			      .db  00h
byte_C5C8:		      .db 21h			    ; DATA XREF: sub_D640+167o
			      .db  21h ; !
			      .db  21h ; !
			      .db  21h ; !
unk_C5CC:		      .db  92h ; 		    ; DATA XREF: sub_D640+15Fo
			      .db  40h ; @
			      .db  00h
unk_C5CF:		      .db  00h			    ; DATA XREF: sub_D640+FDo
			      .db  6Ah ; j
			      .db  7Ah ; z
			      .db  85h ; 
			      .db  95h ; 
			      .db 0FFh
			      .db  83h ; 
			      .db  81h ; 
			      .db  80h ; 
			      .db  7Fh ; 
unk_C5D9:		      .db  7Dh ; }		    ; DATA XREF: sub_D640+192o
			      .db  6Ah ; j
			      .db  7Ah ; z
			      .db  85h ; 
			      .db  95h ; 
			      .db 0FFh
			      .db  83h ; 
			      .db  81h ; 
			      .db  80h ; 
			      .db  7Fh ; 
			      .db  7Dh ; }
unk_C5E4:		      .db  70h ; p		    ; DATA XREF: sub_D640+82o
			      .db  90h ; 
			      .db  70h ; p
			      .db  90h ; 
byte_C5E8:		      .db 0A0h			    ; DATA XREF: sub_D640+8Fo
			      .db 0B0h ; ฐ
			      .db 0A0h ; 
			      .db 0B0h ; ฐ
unk_C5EC:		      .db  00h			    ; DATA XREF: sub_D640+B1o
			      .db  00h
			      .db  08h
			      .db  08h
			      .db  10h
unk_C5F1:		      .db  10h			    ; DATA XREF: __RESET+9F0o
			      .db  20h
			      .db  20h
unk_C5F4:		      .db  0Ch			    ; DATA XREF: sub_D62E+5o
			      .db  26h ; &
			      .db 0F3h ; ๓
			      .db  51h ; Q
			      .db 0F3h ; ๓
			      .db  6Bh ; k
			      .db 0F3h ; ๓
			      .db  86h ; 
			      .db 0F3h ; ๓
			      .db 0B3h ; ณ
			      .db 0B3h ; ณ
			      .db 0D2h ; า
			      .db 0ACh ; ฌ
			      .db 0E4h ; ไ
			      .db  9Ah ; 
unk_C603:		      .db  73h ; s		    ; DATA XREF: sub_D5FB+2o
			      .db  60h ; `
			      .db  2Ch ; ,
			      .db  2Eh ; .
			      .db  31h ; 1
			      .db  33h ; 3
unk_C609:		      .db  73h ; s		    ; DATA XREF: sub_D607+2o
			      .db  60h ; `
			      .db  36h ; 6
			      .db  33h ; 3
			      .db  31h ; 1
			      .db  2Ch ; ,
word_C60F:		      .dw 0200h			    ; DATA XREF: sub_F6E4+9o
			      .db  0Fh
			      .dw 05B8h
			      .db  04h
byte_C615:		      .db 04h, 04h, 04h, 04h, 04h, 04h,	04h, 04h, 04h, 04h, 04h, 04h, 04h, 04h,	04h, 04h
			      .db 22h, 2Bh, 2Bh, 2Bh, 1Ah, 1Ah,	1Ah, 1Ah, 1Ah, 33h, 33h, 33h, 1Ah, 1Ah,	2Bh, 2Bh
			      .db 2Bh, 44h, 3Ch, 44h, 1Ah, 1Ah,	1Ah, 2Bh, 33h, 3Ch, 3Ch, 33h, 33h, 3Ch,	44h, 44h
			      .db 3Ch, 3Ch, 33h, 3Ch, 3Ch, 1Ah,	44h, 44h, 3Ch, 4Dh, 5Eh, 44h, 44h, 55h,	55h, 55h
			      .db 3Ch, 3Ch, 3Ch, 33h, 33h, 44h,	44h, 44h, 4Dh, 4Dh, 66h, 55h, 44h, 4Dh,	4Dh, 55h
			      .db  02h
			      .db  04h
			      .db  06h
unk_C668:		      .db  01h			    ; DATA XREF: ROM:F69Co
			      .db  01h
			      .db  02h
byte_C66B:		      .db 70h			    ; DATA XREF: ROM:loc_F6C2o
			      .db 0C0h ; ภ
			      .db  68h ; h
			      .db 0C0h ; ภ
			      .db  68h ; h
			      .db 0B8h ; ธ
unk_C671:		      .db 0E6h ; ๆ		    ; DATA XREF: __RESET:loc_D1FBo
			      .db  00h
			      .db  1Ah
			      .db  00h
unk_C675:		      .db 0E6h ; ๆ		    ; DATA XREF: __RESET+947o
			      .db  1Ah
			      .db 0E6h ; ๆ
			      .db  1Ah
			      .db 0E6h ; ๆ
			      .db  1Ah
			      .db 0E6h ; ๆ
			      .db  1Ah
			      .db 0E6h ; ๆ
			      .db  1Ah
			      .db 0E6h ; ๆ
			      .db  1Ah
			      .db 0E6h ; ๆ
			      .db  1Ah
			      .db 0B3h ; ณ
			      .db  4Dh ; M
			      .db 0AEh ; ฎ
			      .db  52h ; R
unk_C687:		      .db 0A0h ; 		    ; DATA XREF: sub_D471+2o
			      .db  00h
unk_C689:		      .db  02h			    ; DATA XREF: __RESET+1C14o
			      .db  08h
			      .db  01h
			      .db 0F8h ; ๘
unk_C68D:		      .db  02h			    ; DATA XREF: __RESET+1C1Co
			      .db  66h ; f
			      .db  02h
			      .db  00h
unk_C691:		      .db  02h			    ; DATA XREF: __RESET+1C22o
			      .db  66h ; f
			      .db  01h
			      .db  9Ah ; 
unk_C695:		      .db  75h ; u		    ; DATA XREF: ROM:loc_E6F6o
			      .db  30h ; 0
			      .db  00h
			      .db 0AFh ; ฏ
unk_C699:		      .db 0A0h ; 		    ; DATA XREF: ROM:FAD1o
							    ; sub_FAE4+4Bo ...
			      .db  58h ; X
unk_C69B:		      .db  99h ; 		    ; DATA XREF: sub_EA2F:loc_ED89o
			      .db  3Bh ; ;
unk_C69D:		      .db  78h ; x		    ; DATA XREF: __RESET+C04o
							    ; sub_D640+28Co ...
			      .db  31h ; 1
unk_C69F:		      .db 0E6h ; ๆ		    ; DATA XREF: ROM:adc_handler_pimo
			      .db  1Ah
unk_C6A1:		      .db 0FCh ; 		    ; DATA XREF: ROM:adc_handler_thao
			      .db  07h
unk_C6A3:		      .db 0FCh ; 		    ; DATA XREF: ROM:adc_handler_ecto
			      .db  07h
unk_C6A5:		      .db 0FBh ; ๛		    ; DATA XREF: ROM:FB9Ao
			      .db  05h
unk_C6A7:		      .db  31h ; 1		    ; DATA XREF: ROM:FBD5o
			      .db  05h
unk_C6A9:		      .db 0C3h ; ร		    ; DATA XREF: __RESET+19Bo
							    ; ROM:FC4Eo
			      .db  14h

;  S U B	R O U T	I N E 


sub_C6AB:						    ; CODE XREF: __RESET+94Ep
							    ; __RESET+9F5p ...
			      dec y
			      cmp b, y + 01h
			      bgt min_max_clamp

			      ld a, y +	01h
			      bra loc_C6B9

; End of function sub_C6AB


;  S U B	R O U T	I N E 


min_max_check:						    ; CODE XREF: __RESET+928p
							    ; __RESET:loc_E4FBp ...
			      cmp d, y + 00h
			      bgt min_max_clamp

			      inc y

loc_C6B9:						    ; CODE XREF: sub_C6AB+7j
			      inc y
			      cmp d, y + 00h
			      bcc min_max_done


min_max_clamp:						    ; CODE XREF: sub_C6AB+3j
							    ; min_max_check+2j
			      ld d, y +	00h
			      setc

min_max_done:						    ; CODE XREF: min_max_check+8j
			      ret

; End of function min_max_check


;  S U B	R O U T	I N E 


table_ect_pair_interpolate:				    ; CODE XREF: transient_throttle_inject+1Ep
							    ; sub_D537+3p ...
			      ld a, var_ect
; End of function table_ect_pair_interpolate


;  S U B	R O U T	I N E 


sub_C6C4:						    ; CODE XREF: sub_D640+11p
							    ; sub_EA2F+470p ...
			      clr b
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C6C6:						    ; CODE XREF: sub_EA2F+19p
							    ; sub_EA2F+27p
			      ld d, var_rpm_x_5p12
; End of function sub_C6C4


;  S U B	R O U T	I N E 


sub_C6C8:						    ; CODE XREF: sub_E873+186p
							    ; sub_EA2F+11p ...
			      mov d, x
			      ld a, [y]
			      push y
			      add y, a
			      mov x, d
			      cmp a, y + 00h
			      bcs loc_C6D4

			      pull x
			      bra loc_C6D9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C6D4:						    ; CODE XREF: sub_C6C8+7j
			      pull y
			      cmp a, y + 00h
			      bcc loc_C6DF


loc_C6D9:						    ; CODE XREF: sub_C6C8+Aj
							    ; sub_C6C8+2Fj
			      ld a, y +	01h
			      clr b
			      ret

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C6DD:						    ; CODE XREF: sub_C6C8+19j
			      inc y
			      inc y

loc_C6DF:						    ; CODE XREF: sub_C6C8+Fj
			      cmp a, y + 02h
			      bcc loc_C6DD

			      ld a, y +	02h
			      sub a, y + 00h
			      push a
			      mov x, d
			      sub a, y + 00h
			      mov s, x
			      div d, x + 00h
			      inc s
			      ld a, y +	03h
			      sub a, y + 01h
			      bcc loc_C6FB

			      neg a
			      neg b
			      beq loc_C6D9

			      inc y
			      inc y

loc_C6FB:						    ; CODE XREF: sub_C6C8+2Bj
			      push b
			      mov s, x
			      mul a, x + 00h
			      add a, y + 01h
			      inc s
			      ret

; End of function sub_C6C8


;  S U B	R O U T	I N E 


sub_C703:						    ; CODE XREF: sub_E873+Dp
			      shr d
; End of function sub_C703


;  S U B	R O U T	I N E 


sub_C704:						    ; CODE XREF: __RESET+1EC6p
							    ; __RESET+1ED9p ...
			      shr d
; End of function sub_C704


;  S U B	R O U T	I N E 


sub_C705:						    ; CODE XREF: __RESET+6E9p
							    ; __RESET+730p ...
			      shr d
			      shr d
; End of function sub_C705


;  S U B	R O U T	I N E 


sub_C707:						    ; CODE XREF: sub_D640+42Ap
			      shr d
; End of function sub_C707


;  S U B	R O U T	I N E 


sub_C708:						    ; CODE XREF: __RESET+1B26p
			      cmp x, #0606h
; End of function sub_C708


;  S U B	R O U T	I N E 


sub_C70B:						    ; CODE XREF: sub_E873+CEp
			      bsr sub_C749

			      bra sub_C72C

; End of function sub_C70B


;  S U B	R O U T	I N E 


table_ect_fixed_64_interpolate:				    ; CODE XREF: sub_CD46+3p
							    ; sub_CF36+19p ...
			      ld b, var_ect
; End of function table_ect_fixed_64_interpolate


;  S U B	R O U T	I N E 


table_rB_fixed_64_interpolate:				    ; CODE XREF: sub_EB5E+72p
			      ld a, #04h		    ; 64 = (256	/ 4)
			      bra table_rB_fixed_rA_interpolate

; End of function table_rB_fixed_64_interpolate


;  S U B	R O U T	I N E 


table_ect_fixed_32_interpolate:				    ; CODE XREF: __RESET+19DEp
							    ; __RESET+19FDp ...
			      ld b, var_ect
; End of function table_ect_fixed_32_interpolate


table_rB_fixed_32_interpolate:				    ; CODE XREF: __RESET+4CFp
							    ; __RESET+511p ...
			      ld a, #08h		    ; 8	= (256 / 32)
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 

;  S U B	R O U T	I N E 


table_rB_fixed_16_interpolate:				    ; CODE XREF: __RESET+31Bp
							    ; __RESET+5D5p ...

; FUNCTION CHUNK AT C745 SIZE 00000004 BYTES

			      ld a, #10h		    ; 16 = (256	/ 16)
;****************************************************************************************************
;Interpolate value in 2-D lookup table with fixed index	delta
;
;Inputs
;    B - Value to interpolate
;    A - 256/Index delta between entries
;    Y - Pointer to map/table
;	 byte min index	value for lookup table
;	 byte max index	value for loopup table
;
;Outputs
;    A - Interpolated value
;****************************************************************************************************

table_rB_fixed_rA_interpolate:				    ; CODE XREF: table_rB_fixed_64_interpolate+2j
			      sub b, y + 00h
			      bcs loc_C745

			      push a
			      cmp b, y + 01h
			      ble loc_C727

			      ld b, y +	01h

loc_C727:						    ; CODE XREF: table_rB_fixed_16_interpolate+9j
			      mov s, x
			      mov b, a
			      mul a, x + 00h
			      inc s
; End of function table_rB_fixed_16_interpolate


;  S U B	R O U T	I N E 


sub_C72C:						    ; CODE XREF: sub_C70B+2j
							    ; map_interpolate_3d+1Cp ...
			      add a, #02h
			      add y, a
; End of function sub_C72C


;  S U B	R O U T	I N E 


sub_C72F:						    ; CODE XREF: map_interpolate_3d+2Dj
							    ; sub_D34A+2Dp ...
			      mov b, a
			      beq loc_C742

			      push b
			      mov s, x
			      ld a, y +	01h
			      sub a, y + 00h
			      bcc loc_C73F

			      neg a
			      neg b
			      xch b, x + 00h
			      inc y

loc_C73F:						    ; CODE XREF: sub_C72F+9j
			      mul a, x + 00h
			      inc s

loc_C742:						    ; CODE XREF: sub_C72F+1j
			      add a, y + 00h
			      ret

; End of function sub_C72F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR table_rB_fixed_16_interpolate

loc_C745:						    ; CODE XREF: table_rB_fixed_16_interpolate+4j
			      ld a, y +	02h
			      clr b
			      ret

; END OF FUNCTION CHUNK	FOR table_rB_fixed_16_interpolate

;  S U B	R O U T	I N E 


sub_C749:						    ; CODE XREF: sub_C70Bp
							    ; map_interpolate_3dp ...
			      sub d, y + 00h
			      bcc loc_C74F

			      clr a
			      clr b

loc_C74F:						    ; CODE XREF: sub_C749+2j
			      cmp a, y + 02h
			      bcs loc_C756

			      ld a, y +	02h
			      clr b

loc_C756:						    ; CODE XREF: sub_C749+8j
			      inc y
			      ret

; End of function sub_C749


;  S U B	R O U T	I N E 


map_interpolate_3d_div_32:				    ; CODE XREF: sub_E70C+2Ap
			      shr d
; End of function map_interpolate_3d_div_32


;  S U B	R O U T	I N E 


map_interpolate_3d_div_16:				    ; CODE XREF: __RESET+796p
			      shr d
; End of function map_interpolate_3d_div_16


;  S U B	R O U T	I N E 


map_interpolate_3d_div_8:				    ; CODE XREF: __RESET+71Bp
							    ; sub_F6E4+Cp
			      shr d
; End of function map_interpolate_3d_div_8


;  S U B	R O U T	I N E 


map_interpolate_3d_div_4:				    ; CODE XREF: __RESET:loc_E486p
							    ; sub_EA2F:loc_EE10p
			      shr d
			      shr d
; End of function map_interpolate_3d_div_4


;  S U B	R O U T	I N E 


map_interpolate_3d:					    ; CODE XREF: sub_D640+35Bp
							    ; sub_E70C+1Dp
			      bsr sub_C749

			      push x
			      st d, unk_76
			      mov y, d
			      mov d, x
			      inc y
			      inc y
			      pull d
			      bsr sub_C749

			      push b
			      ld b, x +	01h
			      inc b
			      push b
			      mov s, x
			      mul a, x + 00h
			      st y, var_temp
			      add d, var_temp
			      mov d, y
			      push y
			      ld d, unk_76
			      bsr sub_C72C

			      st a, var_temp
			      pull y
			      pull b
			      add y, b
			      ld d, unk_76
			      bsr sub_C72C

			      st a, unk_79
			      ld y, #var_temp
			      pull b
			      bra sub_C72F

; End of function map_interpolate_3d


;  S U B	R O U T	I N E 


increment_counters:					    ; CODE XREF: sub_D330+Dp
							    ; __RESET+AB8p ...
			      ld x, #0000h
			      add x, a

loc_C790:						    ; CODE XREF: increment_counters+Dj
			      ld a, x +	00h
			      inc a
			      beq loc_C797

			      inc x + 00h

loc_C797:						    ; CODE XREF: increment_counters+7j
			      inc x
			      dec b
			      bne loc_C790

			      ret

; End of function increment_counters

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

divide_rD_128:
			      shr d

;  S U B	R O U T	I N E 


divide_rD_64:						    ; CODE XREF: sub_CF36:loc_CF52p
							    ; sub_D5FB+8p ...
			      shr d
; End of function divide_rD_64


;  S U B	R O U T	I N E 


divide_rD_32:						    ; CODE XREF: sub_EA2F+1Ep
			      shr d
; End of function divide_rD_32


;  S U B	R O U T	I N E 


divide_rD_16:						    ; CODE XREF: calc_rpm:loc_CB4Cp
							    ; __RESET+715p ...
			      shr d

divide_rD_8:
			      shr d

divide_rD_4:
			      shr d

divide_rD_2:
			      shr d
			      ret

; End of function divide_rD_16


;  S U B	R O U T	I N E 


divide_rD_16_signed:					    ; CODE XREF: __RESET+2A1p
			      shra a
			      rorc b

divide_rD_8_signed:
			      shra a
			      rorc b
; End of function divide_rD_16_signed


;  S U B	R O U T	I N E 


divide_rD_4_signed:					    ; CODE XREF: sub_D640+2F7p
			      shra a
			      rorc b

divide_rD_2_signed:					    ; CODE XREF: ROM:FAA9p
			      shra a
			      rorc b
			      ret

; End of function divide_rD_4_signed


;  S U B	R O U T	I N E 


divide_rD_128_saturate:					    ; CODE XREF: __RESET+253p
							    ; __RESET+73Ap
			      shr d
; End of function divide_rD_128_saturate


;  S U B	R O U T	I N E 


divide_rD_64_saturate:					    ; CODE XREF: sub_CC05+Bp
							    ; ROM:E6A8p ...
			      shr d
; End of function divide_rD_64_saturate


;  S U B	R O U T	I N E 


divide_rD_32_saturate:					    ; CODE XREF: sub_DBDF+75p
							    ; ROM:E5F0p
			      shr d
; End of function divide_rD_32_saturate


;  S U B	R O U T	I N E 


divide_rD_16_saturate:					    ; CODE XREF: sub_CB89:loc_CB97p
							    ; sub_D640:loc_D71Dp
			      shr d
; End of function divide_rD_16_saturate


;  S U B	R O U T	I N E 


divide_rD_8_saturate:					    ; CODE XREF: sub_ED93:loc_EDB6p
							    ; sub_ED93+40p
			      shr d
; End of function divide_rD_8_saturate


;  S U B	R O U T	I N E 


divide_rD_4_saturate:					    ; CODE XREF: sub_DBDF+7Ep
							    ; sub_EA2F+334p
			      shr d
; End of function divide_rD_4_saturate


;  S U B	R O U T	I N E 


divide_rD_2_saturate:					    ; CODE XREF: sub_EB5E+22p
							    ; sub_EA2F:loc_EC7Dp ...
			      shr d
; End of function divide_rD_2_saturate


;  S U B	R O U T	I N E 


clamp_rD_FF:						    ; CODE XREF: __RESET+A2Cp
			      cmpz a
			      beq locret_C7B9

			      ld b, #0FFh

locret_C7B9:						    ; CODE XREF: clamp_rD_FF+1j
			      ret

; End of function clamp_rD_FF


;  S U B	R O U T	I N E 


sub_C7BA:						    ; CODE XREF: sub_E873+4Dp
							    ; sub_E873+B9p ...
			      setb bit0, var_diag_errors_5
; End of function sub_C7BA


;  S U B	R O U T	I N E 


sub_C7BC:						    ; CODE XREF: sub_D640+9Ep
							    ; __RESET+1CBFp ...
			      tbbc bit0, var_diag_errors_5, locret_C7C3

; End of function sub_C7BC


;  S U B	R O U T	I N E 


sub_C7BF:						    ; CODE XREF: __RESET+A1Dp
							    ; __RESET:loc_D5BBp ...
			      neg a
			      neg b
			      subc a, #00h

locret_C7C3:						    ; CODE XREF: sub_C7BCj
			      ret

; End of function sub_C7BF


;  S U B	R O U T	I N E 


sub_C7C4:						    ; CODE XREF: __RESET+1C75p
							    ; __RESET+1C8Bp
			      clr a
			      add d, #0180h
; End of function sub_C7C4


;  S U B	R O U T	I N E 


mult_rDrX_unk:						    ; CODE XREF: __RESET+1BBEp
							    ; __RESET+1C9Bp
			      bsr mult_rDrX

			      mov y, d
			      push a
			      mov x, d
			      shr d
			      and a, #0FFh
			      pull a
			      beq loc_C7D7

			      ld d, #0FFFFh
			      setc

loc_C7D7:						    ; CODE XREF: mult_rDrX_unk+9j
			      xch a, b
			      rorc b
			      ret

; End of function mult_rDrX_unk


;  S U B	R O U T	I N E 

; Computes (rX * rD), MSW of result stored in rX and LSW in rY.
;
; Also the value in rD is rD*rX/100h.  It is clamped at	FFFFh when the product exceeds FFFFFFh

mult_rDrX:						    ; CODE XREF: mult_rDrX_unkp
							    ; __RESET+1A87p ...
			      push d
			      push x
			      mov s, x
			      mul a, x + 00h
			      mov d, y
			      ld a, x +	00h
			      mul a, x + 03h
			      add y, a
			      st b, x +	00h
			      ld a, x +	01h
			      mul a, x + 03h
			      st b, x +	03h
			      xch a, x + 02h
			      mul a, x + 01h
			      add b, x + 00h
			      addc a, #00h
			      add y, a
			      clr a
			      add b, x + 02h
			      rolc a
			      add y, a
			      st b, x +	02h
			      st y, x +	00h
			      ld a, x +	00h
			      beq loc_C807

			      ld d, #0FFFFh
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C807:						    ; CODE XREF: mult_rDrX+27j
			      ld d, x +	01h
			      pull x
			      pull y
			      ret

; End of function mult_rDrX


;  S U B	R O U T	I N E 


sub_C80C:						    ; CODE XREF: sub_E873+199p
			      mov x, d
			      cmpb a, #0F8h
			      beq loc_C815

			      ld d, #7FFFh
			      ret

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C815:						    ; CODE XREF: sub_C80C+3j
			      shl d
			      shl d
			      shl d
			      shl d
			      shl d
			      mov d, x
			      mov y, d
			      mul a, #20h
			      add x, a
			      mov x, d
			      shr d
			      ret

; End of function sub_C80C


;  S U B	R O U T	I N E 


mult_rBrX2:						    ; CODE XREF: __RESET+19ECp
							    ; __RESET+1B53p ...
			      bsr mult_rBrX

			      rolc b
			      rolc a
			      bcc loc_C82B

			      ld d, #0FFFFh

loc_C82B:						    ; CODE XREF: mult_rBrX2+4j
			      mov d, x
			      ret

; End of function mult_rBrX2


;  S U B	R O U T	I N E 


mult_rBrX:						    ; CODE XREF: mult_rBrX2p
							    ; __RESET+1B6Bp ...
			      mov b, a
; End of function mult_rBrX


;  S U B	R O U T	I N E 

; Compute (rA *	rX)/100h, result in rD and rX
; Used to scale	a variable by some fraction
;  80h = 50%, 40h = 25%, and so	on

mult_rArX:						    ; CODE XREF: ROM:C84Ep
							    ; ROM:C85Ep ...
			      push x
			      mov s, x
			      xch a, x + 01h
			      mul a, x + 01h
			      push b
			      xch a, x + 01h
			      mul a, x + 00h
			      mov d, x
			      pull d
			      pull b
			      add x, b
			      shl a
			      mov x, d
			      ret

; End of function mult_rArX

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C840:						    ; CODE XREF: sub_E506+Cp
							    ; ROM:E649p ...
			      push b
			      mov x, d
			      sub d, y + 00h
			      beq loc_C86B

			      bcc loc_C85C

			      neg a
			      neg b
			      subc a, #00h
			      mov d, x
			      pull a
			      bsr mult_rArX

			      cmp d, #0000h
			      bne loc_C856

			      inc b

loc_C856:						    ; CODE XREF: ROM:C853j
			      neg a
			      neg b
			      subc a, #00h
			      bra loc_C866

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C85C:						    ; CODE XREF: ROM:C846j
			      mov d, x
			      pull a
			      bsr mult_rArX

			      cmp d, #0000h
			      bne loc_C866

			      inc b

loc_C866:						    ; CODE XREF: ROM:C85Aj
							    ; ROM:C863j
			      add d, y + 00h
			      st d, y +	00h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C86B:						    ; CODE XREF: ROM:C844j
			      inc s
			      mov x, d
			      ret

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      ld y, #0FFF8h
			      push d
			      mov x, d
			      cmp d, #0000h
			      bne loc_C87D

			      pull x
			      bra loc_C8D4

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C87B:						    ; CODE XREF: ROM:loc_C87Dj
			      dec y
			      shl d

loc_C87D:						    ; CODE XREF: ROM:C876j
			      bpz loc_C87B

			      inc y
			      shr d
			      mov d, x
			      pull d
			      cmp d, #0000h
			      beq loc_C8CF

			      bmi loc_C88E


loc_C88A:						    ; CODE XREF: ROM:C88Cj
			      inc y
			      shl d
			      bpz loc_C88A


loc_C88E:						    ; CODE XREF: ROM:C888j
			      push y
			      xch x, y
			      inc a
			      push d
			      push y
			      mov s, x
			      beq loc_C8A0

			      mov y, d
			      div d, x + 02h
			      st b, x +	00h
			      clr b
			      div d, x + 02h
			      st b, x +	01h

loc_C8A0:						    ; CODE XREF: ROM:C894j
			      mov y, d
			      dec x + 02h
			      div d, x + 02h
			      push b
			      clr b
			      div d, x + 02h
			      pull a
			      neg x + 03h
			      beq loc_C8BB

			      sub d, x + 00h
			      push b
			      mul a, x + 03h
			      mov d, y
			      pull a
			      mul a, x + 03h
			      add y, a
			      mov y, d
			      add d, x + 00h

loc_C8BB:						    ; CODE XREF: ROM:C8ACj
			      pull x
			      pull x
			      pull y
			      cmp y, #0000h
			      bpz loc_C8C7


loc_C8C3:						    ; CODE XREF: ROM:C8C5j
			      shr d
			      inc y
			      bmi loc_C8C3


loc_C8C7:						    ; CODE XREF: ROM:C8C1j
							    ; ROM:C8CDj
			      beq loc_C8D4

			      shl d
			      bcs loc_C8CF

			      dec y
			      bra loc_C8C7

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C8CF:						    ; CODE XREF: ROM:C886j
							    ; ROM:C8CAj
			      ld d, #0FFFFh
			      setc
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 41h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_C8D4:						    ; CODE XREF: ROM:C879j
							    ; ROM:loc_C8C7j
			      clrc
			      ret


;  S U B	R O U T	I N E 


			      ;	public __RESET
__RESET:						    ; DATA XREF: ROM:FFFEo

; FUNCTION CHUNK AT CAE0 SIZE 00000050 BYTES
; FUNCTION CHUNK AT CB5E SIZE 0000002B BYTES
; FUNCTION CHUNK AT CBAC SIZE 00000059 BYTES
; FUNCTION CHUNK AT CC47 SIZE 000000F4 BYTES
; FUNCTION CHUNK AT CD59 SIZE 0000016B BYTES
; FUNCTION CHUNK AT CECD SIZE 0000002E BYTES
; FUNCTION CHUNK AT CF34 SIZE 00000002 BYTES
; FUNCTION CHUNK AT CF59 SIZE 00000002 BYTES
; FUNCTION CHUNK AT CF85 SIZE 00000002 BYTES
; FUNCTION CHUNK AT CF98 SIZE 00000089 BYTES
; FUNCTION CHUNK AT D04B SIZE 0000005C BYTES
; FUNCTION CHUNK AT D0B1 SIZE 000001B1 BYTES
; FUNCTION CHUNK AT D265 SIZE 000000CB BYTES
; FUNCTION CHUNK AT D37D SIZE 000000F4 BYTES
; FUNCTION CHUNK AT D47E SIZE 000000B9 BYTES
; FUNCTION CHUNK AT D541 SIZE 00000009 BYTES
; FUNCTION CHUNK AT D566 SIZE 00000095 BYTES
; FUNCTION CHUNK AT D63D SIZE 00000003 BYTES
; FUNCTION CHUNK AT DAAF SIZE 000000FE BYTES
; FUNCTION CHUNK AT DBBB SIZE 0000001B BYTES
; FUNCTION CHUNK AT DBDC SIZE 00000003 BYTES
; FUNCTION CHUNK AT E04D SIZE 00000003 BYTES
; FUNCTION CHUNK AT E23D SIZE 000000B3 BYTES
; FUNCTION CHUNK AT E2FD SIZE 00000015 BYTES
; FUNCTION CHUNK AT E339 SIZE 0000002C BYTES
; FUNCTION CHUNK AT E38C SIZE 0000003D BYTES
; FUNCTION CHUNK AT E3E2 SIZE 00000073 BYTES
; FUNCTION CHUNK AT E472 SIZE 00000094 BYTES
; FUNCTION CHUNK AT E516 SIZE 00000099 BYTES
; FUNCTION CHUNK AT E781 SIZE 000000BF BYTES
; FUNCTION CHUNK AT EA24 SIZE 0000000B BYTES

			      ld #02h, OMODE		    ; Mode control Register
			      di
			      ld #00h, ASR0P		    ; ASR0 pos edge counter value MSB
			      ld #00h, unk_1D
			      ld #30h, ASR0NL		    ; ASR0 neg edge counter value LSB
			      ld #30h, ASR0N		    ; ASR0 neg edge counter value MSB
			      ld #0C0h,	TIMER3		    ; Timer LSB	(bit0~bit2)
			      ld d, #01FFh
			      st d, ASR2		    ; ASR2 edge	counter	value MSB
			      ld d, #01FFh
			      st d, ASR3		    ; ASR3 edge	counter	value MSB
			      ld #0FCh,	ASR1P		    ; ASR1 pos edge counter value MSB
			      ld #30h, SMRC_SIR		    ; Serial Master Register Control
			      ld #48h, PORTA		    ; Port A Data Register
			      clr PORTAL		    ; Port A Latch
			      ld #43h, PORTB		    ; Port B Data Register
			      clr PBCS			    ; Port B Control Register
			      ld #0Ch, PORTD_ASRIN	    ; Port D Data Register / ASR Input Data
			      ld d, #0DDFFh
			      st d, DDRA		    ; Port A i/o config
			      ld #0EFh,	ASR0PL		    ; ASR0 pos edge counter value LSB
			      ld #37h, TAIT		    ; Timer ASR	Control
			      ld a, PORTD_ASRIN		    ; Port D Data Register / ASR Input Data
			      and a, #80h
			      shr a
			      shr a
			      xor a, TAIT		    ; Timer ASR	Control
			      st a, TAIT		    ; Timer ASR	Control
			      ld #00h, DOUT		    ; DOUT Data	Register
			      ld #00h, DOM		    ; DOUT Control Register
			      ld a, SSD			    ; Serial Status Data Register
			      ld a, SIDR_SODR		    ; Serial Input/Output Data Register
			      clrb bit3, SSD
			      setb bit1, SSD
			      ld #90h, SIDR_SODR	    ; Serial Input/Output Data Register
			      setb bit3, PORTA
			      clr a
			      clr b
			      st d, IRQL		    ; Interrupt	Request	Flag MSB
			      st d, IMASK		    ; Interrupt	Request	Mask MSB
			      ld s, #unk_2FF
			      setb bit2, DOUT
			      clr a
			      clr b
			      ld y, #unk_40

loc_C93E:						    ; CODE XREF: __RESET+6Cj
			      st a, [y]
			      cmp y, #unk_7F
			      ble loc_C93E

			      ld y, #unk_A0

loc_C947:						    ; CODE XREF: __RESET+75j
			      st d, [y]
			      cmp y, #byte_20B
			      ble loc_C947


loc_C94D:						    ; CODE XREF: sub_E154+57j
			      jsr serial_diag_init

			      setb bit1, unk_40
			      setb bit2, unk_40
			      ld #0FFh,	unk_AF
			      setb bit3, var_flags_42
			      setb bit2, var_flags_42
			      ld #0FFh,	var_cnt_C3
			      setb bit6, var_flags_42
			      ld #00h, unk_41
			      ld a, #10h
			      st a, unk_106
			      ld #0FFh,	unk_B1
			      ld a, #78h
			      st a, unk_156
			      ld d, #0080h
			      st d, unk_6C
			      ld #80h, unk_63
			      ld #0FFh,	unk_D1
			      ld #0FFh,	unk_AA
			      ld #0FFh,	unk_D9
			      ld #0FFh,	unk_DA
			      setb bit2, var_ignition_flags
			      ld a, #0FEh
			      st a, unk_166
			      ld a, #0FFh
			      st a, var_min_ign_timing
			      st a, unk_169
			      st a, unk_16A
			      dec unk_A9
			      ld a, #0DEh
			      st a, unk_1EE		    ; Bad Address
			      ld a, #0FFh
			      st a, unk_195
			      ld a, #0F3h
			      st a, unk_1A0
			      ld d, #0800h
			      st d, unk_1AD
			      ld a, unk_9A
			      st a, unk_1A5
			      ld d, #0400h
			      st d, unk_1AB
			      ld #19h, unk_AB
			      clr a
			      clr b
			      st d, IRQL		    ; Interrupt	Request	Flag MSB
			      ld d, #0008h
			      st d, IMASK		    ; Interrupt	Request	Mask MSB
			      ei
			      clr a
			      st a, var_dac_command
			      setb bit1, SSD
			      st a, SIDR_SODR		    ; Serial Input/Output Data Register

loc_C9CD:						    ; CODE XREF: __RESET:loc_C9CDj
			      tbbc bit1, var_flags_42, loc_C9CD

			      jsr sub_DEC3

			      tbbs bit7, var_io_input1,	loc_C9DF

			      tbbc bit0, unk_4A, loc_C9DF

			      setb bit2, unk_46
			      setb bit3, var_diag_errors_5
			      setb bit5, unk_4D

loc_C9DF:						    ; CODE XREF: __RESET+FDj
							    ; __RESET+100j
			      nop
			      nop
			      nop
			      clr a
			      clr b
			      st d, IRQL		    ; Interrupt	Request	Flag MSB

loc_C9E6:						    ; CODE XREF: __RESET+2156j
			      clr unk_B4
			      clr PBCS			    ; Port B Control Register
			      ld d, #0DDFFh
			      st d, DDRA		    ; Port A i/o config
			      ld s, #unk_2FF
			      clrb bit3, SSD
			      ld #30h, SMRC_SIR		    ; Serial Master Register Control
			      ld #0FBh,	DOM		    ; DOUT Control Register
			      ld d, #11CAh
			      st d, IMASK		    ; Interrupt	Request	Mask MSB
			      di
			      ld a, TAIT		    ; Timer ASR	Control
			      and a, #37h
			      or a, #17h
			      st a, TAIT		    ; Timer ASR	Control

loc_CA08:
			      ei
			      ld #30h, ASR0N		    ; ASR0 neg edge counter value MSB
			      ld #0C0h,	TIMER3		    ; Timer LSB	(bit0~bit2)

loc_CA0F:						    ; ASR0 pos edge counter value LSB
			      ld #0EFh,	ASR0PL
			      ld #00h, ASR0P		    ; ASR0 pos edge counter value MSB
			      ld #0FCh,	ASR1P		    ; ASR1 pos edge counter value MSB
			      ld #30h, ASR0NL		    ; ASR0 neg edge counter value LSB
			      ld #00h, unk_1D
			      ld d, #01FFh
			      st d, ASR2		    ; ASR2 edge	counter	value MSB
			      ld d, #01FFh
			      st d, ASR3		    ; ASR3 edge	counter	value MSB
			      tbs bit5,	RAMST		    ; Built-in RAM status
			      bne loc_CA32

			      clr unk_BE
			      clrb bit0, PORTD_ASRIN
			      clrb bit6, unk_44

loc_CA32:						    ; CODE XREF: __RESET+154j
			      tbbs bit5, PORTAL, loc_CA38   ; Port A Latch

			      tbbc bit5, PORTA,	loc_CA3C    ; Port A Data Register


loc_CA38:						    ; CODE XREF: __RESET:loc_CA32j
			      clrb bit5, PORTAL
			      clr unk_BD

loc_CA3C:						    ; CODE XREF: __RESET+15Fj
			      tbbc bit0, var_io_input1,	loc_CA41

			      clr unk_BF

loc_CA41:						    ; CODE XREF: __RESET:loc_CA3Cj
			      tbbs bit5, RAMST,	loc_CA47    ; Built-in RAM status

			      jmp loc_CAE0

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CA47:						    ; CODE XREF: __RESET:loc_CA41j
			      tbs bit7,	RAMST		    ; Built-in RAM status
			      beq loc_CA78

			      cmp #5Ah,	unk_9C
			      bne loc_CA78

			      ld y, #unk_80

loc_CA53:						    ; CODE XREF: __RESET+185j
			      cmp y, #unk_9E
			      bcc loc_CA5F

			      ld d, [y]
			      add a, b
			      inc a
			      beq loc_CA53

			      bra loc_CA78

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CA5F:						    ; CODE XREF: __RESET+180j
			      ld y, #unk_300

loc_CA62:						    ; CODE XREF: __RESET+194j
			      cmp y, #unk_302
			      bcc loc_CA6E		    ; Bad Address

			      ld d, [y]
			      add a, b
			      inc a
			      beq loc_CA62

			      bra loc_CA78

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CA6E:						    ; CODE XREF: __RESET+18Fj
			      ld b, unk_300		    ; Bad Address
			      ld y, #unk_C6A9
			      jsr y + 02h

			      bcc loc_CA7A


loc_CA78:						    ; CODE XREF: __RESET+173j
							    ; __RESET+178j ...
			      bsr sub_CA81


loc_CA7A:						    ; CODE XREF: __RESET+1A0j
			      tbbc bit5, RAMST,	loc_CA7F    ; Built-in RAM status

			      setb bit0, var_flags_42

loc_CA7F:						    ; CODE XREF: __RESET:loc_CA7Aj
			      bra loc_CAE0

; End of function __RESET


;  S U B	R O U T	I N E 


sub_CA81:						    ; CODE XREF: __RESET:loc_CA78p
							    ; __RESET:loc_D231p ...
			      clr unk_9C
			      ld d, #00FFh
			      ld y, #unk_80
			      st d, [y]
			      st d, [y]
			      st d, [y]
			      clr var_error_flags1
			      clr unk_4C
			      clr unk_A0
			      clrb bit4, unk_4D
			      clrb bit5, var_diag_errors_5
			      clrb bit1, unk_4D
			      clrb bit4, unk_4C
			      clrb bit7, unk_4C
			      ld d, #807Fh
			      ld y, #unk_86

loc_CAA2:						    ; CODE XREF: sub_CA81+25j
			      st d, [y]
			      cmp y, #unk_94
			      ble loc_CAA2

			      ld d, #00FFh
			      st d, unk_96
			      ld d, #9C63h
			      tbbs bit0, unk_40, loc_CAB6

			      ld d, #807Fh

loc_CAB6:						    ; CODE XREF: sub_CA81+2Fj
			      st d, unk_98
			      ld d, #6699h
			      st d, unk_9A
			      st a, unk_1A5
			      ld a, unk_9E
			      or a, #01h
			      st a, unk_9E
			      clr a
			      st a, unk_9F
			      ld d, #0AE51h
			      st d, unk_300		    ; Bad Address
							    ; Bad Address
							    ; Bad Address
			      ld d, #6F6Fh
			      st d, unk_302		    ; Bad Address
							    ; Bad Address
							    ; Bad Address
			      st a, byte_304		    ; Bad Address
							    ; Bad Address
			      ld d, #5AA5h
			      st d, unk_9C
			      clrb bit0, var_flags_42
			      ret

; End of function sub_CA81

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CAE0:						    ; CODE XREF: __RESET+16Ej
							    ; __RESET:loc_CA7Fj
			      tbs bit0,	unk_41
			      bne loc_CAE7

			      setb bit1, unk_44
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CAE7:						    ; CODE XREF: __RESET+20Cj
			      clrb bit1, unk_44
			      di
			      cmp #3Dh,	var_cnt_C3
			      bcs loc_CB24

			      clr a
			      clr b
			      st d, unk_F9
			      st d, unk_FB
			      st d, var_rpm_avg_x_5p12
			      st d, unk_1B5
			      jsr init_ne_counters

			      clrb bit0, DOUT
			      ld d, #0002h
			      add d, TIMER		    ; Timer MSB	(bit11~bit18)
			      st d, CPR0		    ; Timer comparison #0 MSB
			      clrb bit4, DOUT
			      clrb bit5, DOUT
			      clrb bit6, DOUT
			      clrb bit7, DOUT
			      clr PORTAL		    ; Port A Latch
			      clrb bit4, var_limit_flags
			      clrb bit5, unk_44
			      ei
			      ld a, unk_1FE
			      and a, #0FEh
			      st a, unk_1FE
			      clr a
			      clr b
			      st a, unk_173
			      bra loc_CB27

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CB24:						    ; CODE XREF: __RESET+217j
			      ei
			      bsr calc_rpm


loc_CB27:						    ; CODE XREF: __RESET+24Cj
			      st d, var_rpm_x_5p12
			      jsr divide_rD_128_saturate

			      st b, var_rpm_div_25
			      bra loc_CB5E

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


calc_rpm:						    ; CODE XREF: __RESET+24Fp
							    ; sub_EB5E+16p
			      ld d, var_ne_sum3
			      cmp a, #03h
			      bcc loc_CB39

			      ld d, #0300h

loc_CB39:						    ; CODE XREF: calc_rpm+4j
							    ; DATA XREF: calc_rpm+1Fo
			      ld x, #divide_rD_64

loc_CB3C:						    ; CODE XREF: calc_rpm+11j
			      cmpz a
			      bmi loc_CB4C

			      inc x
			      shl d
			      bra loc_CB3C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 0A4h,	84h, 6Ah, 55h, 43h, 34h, 27h, 1Ch, 12h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CB4C:						    ; CODE XREF: calc_rpm+Dj
			      jsr divide_rD_16

			      ld y, #loc_CB39
			      push x
			      jsr sub_C72C

			      shr d
			      add a, #40h
			      pull x
			      jsr x + 00h

			      shl d
			      ret

; End of function calc_rpm

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CB5E:						    ; CODE XREF: __RESET+258j
			      tbbs bit1, unk_44, loc_CB63

			      bra loc_CB87

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CB63:						    ; CODE XREF: __RESET:loc_CB5Ej
			      ld d, var_rpm_x_5p12
			      ld x, unk_63
			      bpz loc_CB82

			      cmp a, #09h
			      bcs loc_CB82

			      cmp a, #1Eh
			      bcc loc_CB82

			      sub d, unk_F9
			      beq loc_CB84

			      rorc a
			      rorc b
			      jsr divide_rD_16_signed

			      cmp d, #0000h
			      bne loc_CB80

			      inc b

loc_CB80:						    ; CODE XREF: __RESET+2A7j
			      add d, unk_F9

loc_CB82:						    ; CODE XREF: __RESET+291j
							    ; __RESET+295j ...
			      st d, unk_F9

loc_CB84:						    ; CODE XREF: __RESET+29Dj
			      jsr sub_E506


loc_CB87:						    ; CODE XREF: __RESET+28Bj
			      bra loc_CBAC

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_CB89:						    ; CODE XREF: __RESET+ABBp
			      clrb bit0, var_diag_errors_5
			      ld d, var_rpm_avg_x_5p12
			      sub d, var_rpm_x_5p12
			      bcc loc_CB97

			      setb bit0, var_diag_errors_5
			      neg a
			      neg b
			      subc a, #00h

loc_CB97:						    ; CODE XREF: sub_CB89+6j
			      jsr divide_rD_16_saturate

			      shr b
			      tbbc bit0, var_diag_errors_5, loc_CB9F

			      neg b

loc_CB9F:						    ; CODE XREF: sub_CB89+12j
			      add b, #80h
			      st b, unk_5C
			      ld d, var_rpm_x_5p12
			      add d, var_rpm_avg_x_5p12
			      rorc a
			      rorc b
			      st d, var_rpm_avg_x_5p12
			      ret

; End of function sub_CB89

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CBAC:						    ; CODE XREF: __RESET:loc_CB87j
			      ld a, var_rpm_div_25
			      cmp a, #08h
			      bcc loc_CBB4

			      setb bit1, unk_40

loc_CBB4:						    ; CODE XREF: __RESET+2DAj
			      cmp a, #10h
			      bcs loc_CBBA

			      clrb bit1, unk_40

loc_CBBA:						    ; CODE XREF: __RESET+2E0j
			      cmp a, #0Ch
			      bcc loc_CBC0

			      setb bit2, unk_40

loc_CBC0:						    ; CODE XREF: __RESET+2E6j
			      cmp a, #14h
			      bcs loc_CBC6

			      clrb bit2, unk_40

loc_CBC6:						    ; CODE XREF: __RESET+2ECj
			      tbbc bit1, unk_40, loc_CBCB

			      clr unk_CC

loc_CBCB:						    ; CODE XREF: __RESET:loc_CBC6j
			      cmp a, #08h
			      bcs loc_CBD6

			      tbbs bit5, unk_44, loc_CBDA

			      cmp a, #10h
			      bcc loc_CBDA


loc_CBD6:						    ; CODE XREF: __RESET+2F7j
			      clr var_cnt_startup
			      clr unk_EA

loc_CBDA:						    ; CODE XREF: __RESET+2F9j
							    ; __RESET+2FEj
			      tbbc bit4, unk_40, loc_CBE0

			      setb bit0, unk_44
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CBE0:						    ; CODE XREF: __RESET:loc_CBDAj
			      clrb bit0, unk_44
			      tbbc bit5, unk_4A, loc_CBFF

			      ld a, #18h
			      cmp #0DCh, var_ect
			      bcs loc_CBF4

			      ld b, var_rpm_div_25
			      ld y, #unk_C3D1
			      jsr table_rB_fixed_16_interpolate


loc_CBF4:						    ; CODE XREF: __RESET+314j
			      cmp a, unk_AF
			      bgt loc_CC01

			      setb bit4, unk_40
			      ld #0FEh,	unk_AF
			      bra loc_CC03

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CBFF:						    ; CODE XREF: __RESET+30Cj
			      clr unk_AF

loc_CC01:						    ; CODE XREF: __RESET+320j
			      clrb bit4, unk_40

loc_CC03:						    ; CODE XREF: __RESET+327j
			      bra loc_CC47		    ; Bad Address

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_CC05:						    ; CODE XREF: ROM:FCEBp
			      tbbc bit5, unk_4A, loc_CC2B

			      tbbs bit0, unk_46, loc_CC2D

			      tbbs bit7, unk_40, loc_CC28

			      ld d, unk_52
			      jsr divide_rD_64_saturate

			      mov b, a
			      ld b, unk_106
			      sub a, b
			      ble loc_CC1C

			      inc b
			      dec a

loc_CC1C:						    ; CODE XREF: sub_CC05+13j
			      rorc a
			      shra a
			      add a, b
			      cmp a, #10h
			      ble loc_CC25

			      ld a, #10h

loc_CC25:						    ; CODE XREF: sub_CC05+1Cj
			      st a, unk_106

loc_CC28:						    ; CODE XREF: sub_CC05+6j
			      setb bit0, unk_46
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CC2B:						    ; CODE XREF: sub_CC05j
			      clrb bit0, unk_46

loc_CC2D:						    ; CODE XREF: sub_CC05+3j
			      ld b, unk_106
			      shr b
			      cmp b, #04h
			      bcc loc_CC37

			      ld b, #04h

loc_CC37:						    ; CODE XREF: sub_CC05+2Ej
			      shr b
			      shr b
			      cmp b, unk_52
			      bgt loc_CC44

			      tbs bit4,	unk_46
			      beq locret_CC46

			      clr unk_AF
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CC44:						    ; CODE XREF: sub_CC05+36j
			      clrb bit4, unk_46

locret_CC46:						    ; CODE XREF: sub_CC05+3Aj
			      ret

; End of function sub_CC05

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CC47:						    ; CODE XREF: __RESET:loc_CC03j
			      ld a, unk_1F9		    ; Bad Address
			      st a, unk_4E
			      tbbs bit1, var_io_input1,	loc_CC53

			      clr unk_AD
			      bra loc_CC58

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CC53:						    ; CODE XREF: __RESET+376j
			      cmp #26h,	var_cnt_startup
			      bcc loc_CC5D


loc_CC58:						    ; CODE XREF: __RESET+37Bj
			      tbbc bit7, var_flags_42, loc_CC6F

			      bra loc_CC65

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CC5D:						    ; CODE XREF: __RESET+380j
			      tbbs bit7, var_flags_42, loc_CC6D

			      cmp #31h,	unk_AD
			      bcs loc_CC6F


loc_CC65:						    ; CODE XREF: __RESET+385j
			      tbs bit7,	var_flags_42
			      beq loc_CC6B

			      clrb bit7, var_flags_42

loc_CC6B:						    ; CODE XREF: __RESET+391j
			      setb bit7, unk_4E

loc_CC6D:						    ; CODE XREF: __RESET:loc_CC5Dj
			      clr unk_AD

loc_CC6F:						    ; CODE XREF: __RESET:loc_CC58j
							    ; __RESET+38Dj
			      clrb bit5, unk_40
			      setb bit6, var_flags_42
			      ld a, unk_4E
			      st a, unk_1F9		    ; Bad Address
			      jsr loc_E5AF

			      jsr sub_FB3D

			      jsr sub_D471

			      ld a, unk_1F6		    ; Bad Address
			      st a, unk_4E
			      tbbc bit0, var_limit_flags, loc_CC8C

			      setb bit6, unk_4E
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CC8C:						    ; CODE XREF: __RESET+3B0j
			      clrb bit6, unk_4E
			      clrb bit5, unk_4E
			      clrb bit7, unk_4E
			      ld b, #0Ch
			      cmp #5Ch,	var_cnt_startup
			      bcc loc_CCAB

			      tbbc bit4, unk_40, loc_CCB3

			      cmp #0E1h, var_ect
			      bcs loc_CCB3

			      cmp #02h,	var_speed_kph
			      bgt loc_CCB3

			      clr b
			      setb bit7, unk_4E
			      bra loc_CCB3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CCAB:						    ; CODE XREF: __RESET+3C1j
			      tbbs bit0, var_limit_flags, loc_CCB1

			      tbbs bit0, unk_44, loc_CCB3


loc_CCB1:						    ; CODE XREF: __RESET:loc_CCABj
			      ld b, #0Ch

loc_CCB3:						    ; CODE XREF: __RESET+3C3j
							    ; __RESET+3C9j ...
			      ld a, unk_156
			      tbbs bit7, unk_4E, loc_CCC1

			      cmp #19h,	var_speed_kph
			      bcc loc_CCC7

			      tbbs bit7, unk_4A, loc_CCC7


loc_CCC1:						    ; CODE XREF: __RESET+3E0j
			      cmp a, #44h
			      bcc loc_CCC7

			      ld a, #44h

loc_CCC7:						    ; CODE XREF: __RESET+3E6j
							    ; __RESET+3E8j ...
			      tbbs bit0, var_limit_flags, loc_CCEF

			      add a, b
			      ld b, #44h
			      tbbs bit7, unk_4E, loc_CCE2

			      ld b, #50h
			      cmp #11h,	var_speed_kph
			      bcs loc_CCE2

			      cmp #1Eh,	var_speed_kph
			      bcc loc_CCE6

			      tbbs bit7, var_flags_42, loc_CCE2

			      tbbs bit7, unk_4A, loc_CCE6


loc_CCE2:						    ; CODE XREF: __RESET+3F7j
							    ; __RESET+3FFj ...
			      cmp a, b
			      bcc loc_CCE6

			      mov b, a

loc_CCE6:						    ; CODE XREF: __RESET+404j
							    ; __RESET+409j ...
			      tbbc bit4, unk_40, loc_CD0F

			      cmp a, var_rpm_div_25
			      bgt loc_CD0F

			      bra loc_CD18

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CCEF:						    ; CODE XREF: __RESET:loc_CCC7j
			      tbbc bit4, unk_40, loc_CD0F

			      cmp a, var_rpm_div_25
			      ble loc_CCFD

			      setb bit5, unk_4E
			      ld #66h, unk_63
			      bra loc_CD0F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CCFD:						    ; CODE XREF: __RESET+41Ej
			      cmp #2Ch,	var_rpm_div_25
			      bcc loc_CD18

			      cmp #23h,	var_speed_kph
			      bcc loc_CD18

			      cmp #90h,	unk_5C
			      bcs loc_CD18

			      jsr sub_CF87


loc_CD0F:						    ; CODE XREF: __RESET:loc_CCE6j
							    ; __RESET+415j ...
			      jsr sub_CF36

			      clr unk_C9
			      clrb bit0, var_limit_flags
			      bra loc_CD1D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CD18:						    ; CODE XREF: __RESET+417j
							    ; __RESET+42Aj ...
			      setb bit0, var_limit_flags
			      ld #80h, unk_63

loc_CD1D:						    ; CODE XREF: __RESET+440j
			      ld a, unk_63
			      bmi loc_CD36

			      tbbc bit4, unk_40, loc_CD36

			      cmp #0DCh, var_ect
			      bcs loc_CD36

			      cmp #05h,	var_speed_kph
			      bcs loc_CD36

			      cmp #87h,	unk_5C
			      ble loc_CD39

			      jsr sub_CF8C


loc_CD36:						    ; CODE XREF: __RESET+449j
							    ; __RESET+44Bj ...
			      ld #80h, unk_63

loc_CD39:						    ; CODE XREF: __RESET+45Bj
			      bra loc_CD59

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_CD3B:						    ; CODE XREF: __RESET+AC1p
			      ld a, unk_63
			      add a, #02h
			      bpz loc_CD43

			      ld a, #80h

loc_CD43:						    ; CODE XREF: sub_CD3B+4j
			      st a, unk_63
			      ret

; End of function sub_CD3B


;  S U B	R O U T	I N E 


sub_CD46:						    ; CODE XREF: __RESET+1977p
			      ld y, #unk_C22F
			      jsr table_ect_fixed_64_interpolate

			      tbbc bit7, var_flags_42, loc_CD55

			      cmp a, #3Ch
			      bcc loc_CD55

			      ld a, #3Ch

loc_CD55:						    ; CODE XREF: sub_CD46+6j
							    ; sub_CD46+Bj
			      st a, unk_156
			      ret

; End of function sub_CD46

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CD59:						    ; CODE XREF: __RESET:loc_CD39j
			      jsr sub_EF70

			      ld d, var_inj_pw
			      cmp d, #00AFh
			      ble loc_CD66

			      clr unk_D1

loc_CD66:						    ; CODE XREF: __RESET+48Cj
			      ld a, #40h
			      tbbc bit1, var_limit_flags, loc_CD6D

			      ld a, #3Ch

loc_CD6D:						    ; CODE XREF: __RESET+492j
			      cmp a, var_rpm_div_25
			      bgt loc_CD80

			      ld a, unk_63
			      bpz loc_CD80

			      tbbs bit0, var_limit_flags, loc_CD80

			      ld x, var_inj_pw
			      cmp x, #0145h
			      bcs loc_CD88


loc_CD80:						    ; CODE XREF: __RESET+499j
							    ; __RESET+49Dj ...
			      clr unk_EB
			      clrb bit1, unk_4E
			      clrb bit1, var_limit_flags
			      bra loc_CDBB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CD88:						    ; CODE XREF: __RESET+4A8j
			      cmp x, #00FAh
			      bcc loc_CD8F

			      setb bit1, unk_4E

loc_CD8F:						    ; CODE XREF: __RESET+4B5j
			      cmp x, #0145h
			      bcs loc_CD96

			      clrb bit1, unk_4E

loc_CD96:						    ; CODE XREF: __RESET+4BCj
			      cmp #0Ah,	var_speed_kph
			      bcs loc_CD9E

			      tbbs bit1, unk_4E, loc_CDA0


loc_CD9E:						    ; CODE XREF: __RESET+4C3j
			      clr unk_EB

loc_CDA0:						    ; CODE XREF: __RESET+4C5j
			      ld b, var_rpm_div_25
			      ld y, #unk_C235
			      jsr table_rB_fixed_32_interpolate

			      cmp a, unk_D1
			      ble loc_CDB9

			      ld a, #05h
			      cmp #78h,	var_rpm_div_25
			      bcc loc_CDB5

			      ld a, #14h

loc_CDB5:						    ; CODE XREF: __RESET+4DBj
			      cmp a, unk_EB
			      bgt loc_CDBB


loc_CDB9:						    ; CODE XREF: __RESET+4D4j
			      setb bit1, var_limit_flags

loc_CDBB:						    ; CODE XREF: __RESET+4B0j
							    ; __RESET+4E1j
			      cmp #0Ah,	var_speed_kph
			      bcc loc_CDC6

			      cmp #3Ch,	var_rpm_div_25
			      bcc loc_CDCA

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CDC6:						    ; CODE XREF: __RESET+4E8j
			      clrb bit3, unk_4E
			      clrb bit4, unk_4E

loc_CDCA:						    ; CODE XREF: __RESET+4EDj
			      tbbs bit6, var_limit_flags, loc_CDEE

			      cmp #0DCh, var_ect
			      bcs loc_CDEE

			      cmp #00h,	var_speed_kph
			      bne loc_CDEE

			      tbbs bit3, var_error_flags1, loc_CDEE

			      ld b, var_rpm_x_5p12
			      cmp b, #28h
			      bcs loc_CDEE

			      cmp b, #8Ch
			      bcc loc_CDEE

			      ld y, #unk_C394
			      jsr table_rB_fixed_32_interpolate

			      cmp a, var_pim
			      ble loc_CDF2


loc_CDEE:						    ; CODE XREF: __RESET:loc_CDCAj
							    ; __RESET+4FAj ...
			      clr unk_CA
			      bra loc_CDFB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CDF2:						    ; CODE XREF: __RESET+516j
			      cmp #3Dh,	unk_CA
			      bcs loc_CDFB

			      setb bit4, unk_4E
			      setb bit3, unk_4E

loc_CDFB:						    ; CODE XREF: __RESET+51Aj
							    ; __RESET+51Fj
			      tbbs bit0, unk_40, loc_CE20

			      ld d, #3C3Ch
			      ld x, var_ect
			      cmp x, #0F300h
			      bcs loc_CE0B

			      ld d, #2832h

loc_CE0B:						    ; CODE XREF: __RESET+530j
			      st d, unk_76
			      cmp #0DCh, var_ect
			      bcs loc_CE20

			      tbbs bit4, unk_40, loc_CE20

			      cmp #0Ah,	var_speed_kph
			      bcc loc_CE20

			      tbbs bit4, unk_4E, loc_CE20

			      tbbs bit6, var_flags_42, loc_CE28


loc_CE20:						    ; CODE XREF: __RESET:loc_CDFBj
							    ; __RESET+53Aj ...
			      clr a
			      st a, unk_69

loc_CE23:						    ; CODE XREF: __RESET+55Fj
			      jsr sub_CEC4

			      bra loc_CE5E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CE28:						    ; CODE XREF: __RESET+547j
			      ld b, var_rpm_x_5p12
			      ld a, unk_69
			      cmp a, #0FFh
			      bcc loc_CE3A

			      ld a, #94h		    ; Rev limit
			      cmp a, b
			      ble loc_CE42

			      tbbc bit6, var_limit_flags, loc_CE23

			      bra loc_CE4C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CE3A:						    ; CODE XREF: __RESET+558j
			      ld a, var_rpm_avg_x_5p12
			      cmp b, var_rpm_unk_77
			      bcs loc_CE42

			      setb bit2, unk_4E

loc_CE42:						    ; CODE XREF: __RESET+55Dj
							    ; __RESET+568j
			      tbs bit6,	var_limit_flags
			      bne loc_CE4C

			      clr unk_C8
			      ld b, #00h
			      bra loc_CE4F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CE4C:						    ; CODE XREF: __RESET+562j
							    ; __RESET+56Ej
			      ld d, unk_157

loc_CE4F:						    ; CODE XREF: __RESET+574j
			      cmp a, unk_76
			      bcc loc_CE55

			      ld a, unk_76

loc_CE55:						    ; CODE XREF: __RESET+57Bj
			      cmp b, #1Eh
			      ble loc_CE5B

			      ld b, #1Eh

loc_CE5B:						    ; CODE XREF: __RESET+581j
			      st d, unk_157

loc_CE5E:						    ; CODE XREF: __RESET+550j
			      tbbc bit2, var_limit_flags, loc_CE6A

			      sub a, unk_158
			      cmp a, #1Eh
			      bcc loc_CE6A

			      ld a, #1Eh

loc_CE6A:						    ; CODE XREF: __RESET:loc_CE5Ej
							    ; __RESET+590j
			      cmp a, var_rpm_x_5p12
			      bgt loc_CE73

			      setb bit2, var_limit_flags
			      setb bit2, unk_4E
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CE73:						    ; CODE XREF: __RESET+596j
			      clrb bit2, var_limit_flags
			      cmp #3Dh,	unk_C8
			      bcs loc_CEC2

			      clr unk_C8
			      tbbc bit2, unk_4E, loc_CE96

			      tbbc bit6, var_limit_flags, loc_CE99

			      ld d, unk_157
			      sub a, #01h
			      bcc loc_CE8B

			      ld a, unk_76

loc_CE8B:						    ; CODE XREF: __RESET+5B1j
			      add b, #01h
			      bcc loc_CE91

			      ld b, #1Eh

loc_CE91:						    ; CODE XREF: __RESET+5B7j
			      st d, unk_157
			      bra loc_CEC0

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CE96:						    ; CODE XREF: __RESET+5A6j
			      jsr sub_CEC4


loc_CE99:						    ; CODE XREF: __RESET+5A9j
			      ld a, var_rpm_unk_77
			      cmp a, var_rpm_x_5p12
			      ble loc_CEA6

			      ld a, unk_69
			      beq loc_CEA4

			      dec a

loc_CEA4:						    ; CODE XREF: __RESET+5CBj
			      bra loc_CEBE

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CEA6:						    ; CODE XREF: __RESET+5C7j
			      ld y, #unk_C39A
			      ld b, var_rpm_x_5p12
			      jsr table_rB_fixed_16_interpolate

			      ld x, var_ect
			      cmp x, #0F5C0h
			      bcs loc_CEB8

			      shl a
			      bcs loc_CEBC


loc_CEB8:						    ; CODE XREF: __RESET+5DDj
			      add a, unk_69
			      bcc loc_CEBE


loc_CEBC:						    ; CODE XREF: __RESET+5E0j
			      ld a, #0FFh

loc_CEBE:						    ; CODE XREF: __RESET:loc_CEA4j
							    ; __RESET+5E4j
			      st a, unk_69

loc_CEC0:						    ; CODE XREF: __RESET+5BEj
			      clrb bit2, unk_4E

loc_CEC2:						    ; CODE XREF: __RESET+5A2j
			      bra loc_CECD

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_CEC4:						    ; CODE XREF: __RESET:loc_CE23p
							    ; __RESET:loc_CE96p
			      clrb bit6, var_limit_flags
			      ld d, #9400h		    ; Rev limit
			      st d, unk_157
			      ret

; End of function sub_CEC4

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CECD:						    ; CODE XREF: __RESET:loc_CEC2j
			      clrb bit3, var_limit_flags
			      clrb bit5, var_limit_flags
			      ld a, unk_4E
			      st a, unk_1F6
			      tbbs bit0, var_io_input1,	loc_CEDB

			      clr var_revcnt_starter

loc_CEDB:						    ; CODE XREF: __RESET+600j
			      tbbc bit1, unk_40, loc_CEF7

			      tbbs bit1, unk_46, loc_CEF7

			      cmp #0C4h, var_ect
			      bcc loc_CEF9

			      cmp #46h,	var_adc_battery
			      bcs loc_CEF9

			      cmp #0Ch,	var_revcnt_starter
			      bcs loc_CEF9

			      ld d, var_inj_pw
			      shr d
			      jsr injectors_batch_update


loc_CEF7:						    ; CODE XREF: __RESET:loc_CEDBj
							    ; __RESET+608j
			      setb bit1, unk_46

loc_CEF9:						    ; CODE XREF: __RESET+60Ej
							    ; __RESET+613j ...
			      bra loc_CF34

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


injector_cold_start:					    ; CODE XREF: ignition_timing_calcp
			      tbs bit4,	var_flags_42
			      bne locret_CF33

			      tbbc bit1, unk_40, loc_CF31

			      tbbs bit1, unk_46, loc_CF31

			      cmp #0B3h, var_ect	    ; 41 deg
			      bcs locret_CF33

			      ld d, var_ect
			      cmp d, #0F5C0h		    ; 120 deg
			      bcs loc_CF16

			      cmp #3Dh,	var_revcnt_starter
			      bcs locret_CF33


loc_CF16:						    ; CODE XREF: injector_cold_start+14j
			      cmp #0E0h, var_tha	    ; 76 deg
			      bcc locret_CF33

			      ld d, #04E2h
			      cmp #0DCh, var_ect	    ; 71 deg
			      bcc loc_CF2E

			      ld d, #09C4h
			      cmp #86h,	var_ect		    ; 20 deg
			      bcc loc_CF2E

			      ld d, #1388h

loc_CF2E:						    ; CODE XREF: injector_cold_start+26j
							    ; injector_cold_start+2Ej
			      jsr injectors_batch_update


loc_CF31:						    ; CODE XREF: injector_cold_start+4j
							    ; injector_cold_start+7j
			      setb bit1, unk_46

locret_CF33:						    ; CODE XREF: injector_cold_start+2j
							    ; injector_cold_start+Dj ...
			      ret

; End of function injector_cold_start

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CF34:						    ; CODE XREF: __RESET:loc_CEF9j
			      bra loc_CF59

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_CF36:						    ; CODE XREF: __RESET:loc_CD0Fp
			      tbbs bit1, unk_40, locret_CF58

			      tbbc bit0, unk_44, locret_CF58

			      tbbs bit4, unk_40, locret_CF58

			      tbbc bit0, var_limit_flags, loc_CF4C

			      ld y, #unk_C38A
			      ld b, var_rpm_div_25
			      jsr table_rB_fixed_32_interpolate

			      bra loc_CF52

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CF4C:						    ; CODE XREF: sub_CF36+9j
			      ld y, #byte_C38F
			      jsr table_ect_fixed_64_interpolate


loc_CF52:						    ; CODE XREF: sub_CF36+14j
			      jsr divide_rD_64

			      jsr injectors_batch_update


locret_CF58:						    ; CODE XREF: sub_CF36j
							    ; sub_CF36+3j ...
			      ret

; End of function sub_CF36

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CF59:						    ; CODE XREF: __RESET:loc_CF34j
			      bra loc_CF85

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


transient_throttle_inject:				    ; CODE XREF: ROM:FCEEp
			      ld a, var_tps_delta
			      bpz loc_CF61

			      clrb bit3, unk_46

loc_CF61:						    ; CODE XREF: transient_throttle_inject+2j
			      cmp a, #0Eh
			      blta locret_CF84

			      cmp #0A0h, var_rpm_div_25
			      bcc locret_CF84

			      cmp #0Eh,	unk_52
			      bcs locret_CF84

			      tbbs bit1, unk_40, locret_CF84

			      tbs bit3,	unk_46
			      bne locret_CF84

			      ld y, #table_ect_inj_trans_throttle
			      jsr table_ect_pair_interpolate

			      shr d
			      shr d
			      shr d
			      shr d
			      shr d
			      jsr injectors_batch_update


locret_CF84:						    ; CODE XREF: transient_throttle_inject+8j
							    ; transient_throttle_inject+Dj ...
			      ret

; End of function transient_throttle_inject

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CF85:						    ; CODE XREF: __RESET:loc_CF59j
			      bra loc_CF98

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_CF87:						    ; CODE XREF: __RESET+436p
			      ld d, #00FAh
			      bra loc_CF94

; End of function sub_CF87


;  S U B	R O U T	I N E 


sub_CF8C:						    ; CODE XREF: __RESET+45Dp
			      cmp #8Bh,	unk_5C
			      bcs locret_CF97

			      ld d, #00FAh

loc_CF94:						    ; CODE XREF: sub_CF87+3j
			      jsr injectors_batch_update


locret_CF97:						    ; CODE XREF: sub_CF8C+3j
			      ret

; End of function sub_CF8C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_CF98:						    ; CODE XREF: __RESET:loc_CF85j
			      ld a, unk_1F0
			      st a, unk_4E
			      clr a
			      cmp #50h,	var_rpm_div_25
			      bcs loc_CFB1

			      cmp #0D2h, var_ect
			      bcs loc_CFB1

			      ld b, var_knock_ign_retard
			      ld y, #unk_C2B8
			      jsr table_rB_fixed_32_interpolate


loc_CFB1:						    ; CODE XREF: __RESET+6CBj
							    ; __RESET+6D0j
			      st a, unk_125
			      ld y, #unk_C28E
			      cmpz a
			      beq loc_CFBD

			      ld y, #unk_C2A3

loc_CFBD:						    ; CODE XREF: __RESET+6E2j
			      ld d, var_rpm_x_5p12
			      jsr sub_C705

			      tbbc bit0, unk_4E, loc_CFCA

			      sub a, #06h
			      bcc loc_CFCA

			      clr a

loc_CFCA:						    ; CODE XREF: __RESET+6ECj
							    ; __RESET+6F1j
			      cmp a, var_pim
			      ble loc_CFD2

			      clr unk_DE
			      bra loc_CFDC

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CFD2:						    ; CODE XREF: __RESET+6F6j
			      cmp #0A0h, var_rpm_div_25
			      bcc loc_CFE1

			      cmp #4Ch,	unk_DE
			      bcc loc_CFE1


loc_CFDC:						    ; CODE XREF: __RESET+6FAj
			      clrb bit0, unk_4E
			      clr a
			      bra loc_D01B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_CFE1:						    ; CODE XREF: __RESET+6FFj
							    ; __RESET+704j
			      ld #0FEh,	unk_DE
			      setb bit0, unk_4E
			      ld y, #map_fuel_adjustment
			      ld d, var_pim
			      jsr divide_rD_16

			      mov d, x
			      ld d, var_rpm_x_5p12
			      jsr map_interpolate_3d_div_8

			      cmp #0F0h, var_rpm_div_25
			      bgt loc_D014

			      ld b, unk_159
			      cmp b, #78h
			      bcs loc_D014

			      push a
			      ld y, #unk_C2BF
			      ld d, var_rpm_x_5p12
			      jsr sub_C705

			      cmp a, unk_E9
			      pull a
			      ble loc_D014

			      mul a, #80h
			      jsr divide_rD_128_saturate

			      mov b, a

loc_D014:						    ; CODE XREF: __RESET+721j
							    ; __RESET+728j ...
			      add a, unk_125
			      bcc loc_D01B

			      ld a, #0FFh

loc_D01B:						    ; CODE XREF: __RESET+709j
							    ; __RESET+741j
			      st a, unk_122
			      jmp loc_D04B

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D021:						    ; CODE XREF: __RESET+BC6p
			      clr a
			      tbbs bit1, unk_40, loc_D02E

			      ld a, unk_E9
			      tbbc bit0, unk_4E, loc_D02E

			      inc a
			      bne loc_D02E

			      dec a

loc_D02E:						    ; CODE XREF: sub_D021+1j
							    ; sub_D021+6j ...
			      st a, unk_E9
			      ret

; End of function sub_D021


;  S U B	R O U T	I N E 


sub_D031:						    ; CODE XREF: __RESET+AEFp
			      ld a, unk_E9
			      beq locret_D04A

			      tbbs bit0, unk_4E, locret_D04A

			      ld b, unk_159
			      ld y, #unk_C2C8

loc_D03E:						    ; CODE XREF: sub_D031+10j
			      inc y
			      cmp b, y + 00h
			      bgt loc_D03E

			      sub a, y + 06h
			      bcc loc_D048

			      clr a

loc_D048:						    ; CODE XREF: sub_D031+14j
			      st a, unk_E9

locret_D04A:						    ; CODE XREF: sub_D031+2j
							    ; sub_D031+4j
			      ret

; End of function sub_D031

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D04B:						    ; CODE XREF: __RESET+748j
			      clrb bit1, unk_4E
			      clr a
			      tbbc bit6, unk_40, loc_D055

			      setb bit1, unk_4E
			      ld a, #0Fh

loc_D055:						    ; CODE XREF: __RESET+778j
			      st a, unk_123
			      ld y, #word_C124
			      ld d, unk_52
			      jsr divide_rD_16

			      mov d, x
			      clr b
			      ld a, var_ect
			      cmp a, #0D8h
			      bcc loc_D06A

			      shr d
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D06A:						    ; CODE XREF: __RESET+790j
			      sub a, #6Ch
			      jsr map_interpolate_3d_div_16

			      cmp a, #00h
			      ble loc_D077

			      setb bit2, unk_4E
			      bra loc_D07A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D077:						    ; CODE XREF: __RESET+79Bj
			      clrb bit2, unk_4E
			      clr a

loc_D07A:						    ; CODE XREF: __RESET+79Fj
			      st a, unk_124
			      tbbs bit0, unk_4E, loc_D08B

			      tbbs bit1, unk_4E, loc_D08B

			      tbbs bit2, unk_4E, loc_D08B

			      clrb bit3, unk_4E
			      clr b
			      bra loc_D0A3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D08B:						    ; CODE XREF: __RESET+7A7j
							    ; __RESET+7AAj ...
			      setb bit3, unk_4E
			      ld d, unk_122
			      cmp a, b
			      ble loc_D094

			      mov a, b

loc_D094:						    ; CODE XREF: __RESET+7BBj
			      ld a, unk_124
			      cmp a, b
			      ble loc_D09B

			      mov a, b

loc_D09B:						    ; CODE XREF: __RESET+7C2j
			      cmp b, unk_126
			      ble loc_D0A3

			      ld b, unk_126

loc_D0A3:						    ; CODE XREF: __RESET+7B3j
							    ; __RESET+7C8j
			      st b, var_add_fuel
			      bra loc_D0B1

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D0A7:						    ; CODE XREF: __RESET+1988p
			      ld y, #unk_C2D5
			      jsr table_ect_fixed_64_interpolate

			      st a, unk_126
			      ret

; End of function sub_D0A7

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D0B1:						    ; CODE XREF: __RESET+7CFj
			      ld a, unk_1FC
			      st a, unk_4F
			      ld a, unk_5F
			      bmi loc_D0BC

			      clr unk_B6

loc_D0BC:						    ; CODE XREF: __RESET+7E2j
			      tbbs bit1, unk_40, loc_D0CD

			      tbbs bit5, unk_4C, loc_D0CD

			      tbbs bit6, unk_4C, loc_D0CD

			      cmp #31h,	unk_B6
			      bcs loc_D0CF

			      setb bit0, unk_4F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D0CD:						    ; CODE XREF: __RESET:loc_D0BCj
							    ; __RESET+7E9j ...
			      clrb bit0, unk_4F

loc_D0CF:						    ; CODE XREF: __RESET+7F2j
			      clrb bit2, unk_4D
			      ld a, var_limit_flags
			      and a, #3Fh
			      beq loc_D0DA

			      clr unk_CE
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D0DA:						    ; CODE XREF: __RESET+7FFj
			      clr unk_CF
			      tbbs bit1, unk_40, loc_D106

			      tbbs bit3, unk_4E, loc_D106

			      cmp #02h,	unk_CF
			      bcc loc_D106

			      cmp #9Eh,	var_ect
			      bcs loc_D106

			      ld d, var_inj_pw
			      cmp d, #00AFh
			      ble loc_D106

			      ld a, unk_63
			      bpz loc_D106

			      tbbs bit6, var_limit_flags, loc_D106

			      tbbs bit2, var_diag_errors_5, loc_D106

			      tbbs bit3, unk_4D, loc_D106

			      setb bit2, unk_4D
			      tbbs bit0, unk_4F, loc_D10B


loc_D106:						    ; CODE XREF: __RESET+806j
							    ; __RESET+809j ...
			      clrb bit3, unk_40
			      jmp loc_D205

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D10B:						    ; CODE XREF: __RESET+82Dj
			      setb bit3, unk_40
			      di
			      ld a, unk_5F
			      ld b, unk_44
			      st d, unk_76
			      clrb bit4, unk_44
			      ei
			      tbbc bit4, PBCS, loc_D12D	    ; Port B Control Register

			      clrb bit7, unk_4F
			      ld y, #unk_C3AB
			      cmp #05h,	var_speed_kph
			      ble loc_D129

			      cmp #2Fh,	var_pim
			      bcs loc_D13D


loc_D129:						    ; CODE XREF: __RESET+84Cj
			      inc y
			      inc y
			      bra loc_D13D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D12D:						    ; CODE XREF: __RESET+841j
			      ld y, #unk_C3A7
			      tbbc bit6, unk_4F, loc_D13B

			      inc y
			      inc y
			      tbbc bit7, unk_4F, loc_D13B

			      ld y, #unk_127

loc_D13B:						    ; CODE XREF: __RESET+85Aj
							    ; __RESET+85Fj
			      setb bit7, unk_4F

loc_D13D:						    ; CODE XREF: __RESET+851j
							    ; __RESET+855j
			      ld d, [y]
			      st d, unk_127
			      ld x, unk_76
			      bpz loc_D146

			      mov b, a

loc_D146:						    ; CODE XREF: __RESET+86Dj
			      st a, var_temp
			      ld y, #unk_C3AF
			      cmp #2Fh,	var_pim
			      bcs loc_D153

			      ld y, #unk_C3BB

loc_D153:						    ; CODE XREF: __RESET+878j
			      tbbs bit7, unk_4F, loc_D16F

			      inc y
			      inc y
			      push y
			      ld b, var_rpm_div_25
			      jsr table_rB_fixed_32_interpolate

			      st a, unk_129
			      ld a, #05h
			      pull y
			      add y, a
			      ld b, var_rpm_div_25
			      jsr table_rB_fixed_32_interpolate

			      st a, unk_12A
			      bra loc_D172

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D16F:						    ; CODE XREF: __RESET:loc_D153j
			      tbbc bit6, unk_4F, loc_D175


loc_D172:						    ; CODE XREF: __RESET+897j
			      ld y, #unk_129

loc_D175:						    ; CODE XREF: __RESET:loc_D16Fj
			      ld d, [y]
			      st d, unk_129
			      ld x, unk_76
			      bpz loc_D17E

			      mov b, a

loc_D17E:						    ; CODE XREF: __RESET+8A5j
			      st a, unk_79
			      setb bit6, unk_4F
			      ld a, #10h
			      cmpb a, var_rpm_unk_77
			      beq loc_D1D5

			      jsr sub_DD7D

			      jsr sub_D330

			      ld a, unk_1FB
			      or a, #80h
			      st a, unk_1FB
			      clr unk_79
			      tbbc bit7, unk_4F, loc_D1DB

			      ld x, #unk_C3A7
			      ld y, #unk_127
			      ld b, #05h
			      ld a, unk_76
			      bpz loc_D1AB

			      ld b, #05h
			      inc x
			      inc y

loc_D1AB:						    ; CODE XREF: __RESET+8CFj
			      ld a, y +	00h
			      sub a, b
			      bcs loc_D1B4

			      cmp a, x + 00h
			      bcc loc_D1B6


loc_D1B4:						    ; CODE XREF: __RESET+8D8j
			      ld a, x +	00h

loc_D1B6:						    ; CODE XREF: __RESET+8DCj
			      st a, [y]
			      ld y, #unk_C3AF
			      ld x, #unk_129
			      ld b, #81h
			      ld a, unk_76
			      bpz loc_D1C7

			      ld b, #81h
			      inc x
			      inc y

loc_D1C7:						    ; CODE XREF: __RESET+8EBj
			      ld a, x +	00h
			      sub a, b
			      bcs loc_D1D0

			      cmp a, y + 00h
			      bgt loc_D1D1


loc_D1D0:						    ; CODE XREF: __RESET+8F4j
			      ld a, [y]

loc_D1D1:						    ; CODE XREF: __RESET+8F8j
			      st a, x +	00h
			      bra loc_D1DB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D1D5:						    ; CODE XREF: __RESET+8B0j
			      clr var_temp
			      tbs bit5,	unk_41
			      bne loc_D203


loc_D1DB:						    ; CODE XREF: __RESET+8C2j
							    ; __RESET+8FDj
			      ld d, unk_65
			      ld x, unk_76
			      bpz loc_D1E9

			      sub d, var_temp
			      bcc loc_D1F0

			      clr a
			      clr b
			      bra loc_D1F0

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D1E9:						    ; CODE XREF: __RESET+909j
			      add d, var_temp
			      bcc loc_D1F0

			      ld d, #0FFFFh

loc_D1F0:						    ; CODE XREF: __RESET+90Dj
							    ; __RESET+911j ...
			      tbbs bit0, var_limit_flags, loc_D1F6

			      tbbc bit1, var_limit_flags, loc_D1FB


loc_D1F6:						    ; CODE XREF: __RESET:loc_D1F0j
			      cmp #00h,	unk_CF
			      bcs loc_D218


loc_D1FB:						    ; CODE XREF: __RESET+91Dj
			      ld y, #unk_C671
			      jsr min_max_check

			      st d, unk_65

loc_D203:						    ; CODE XREF: __RESET+903j
			      bra loc_D21A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D205:						    ; CODE XREF: __RESET+832j
			      ld d, #8000h
			      st d, unk_65
			      clrb bit4, unk_44
			      setb bit5, unk_41
			      ld a, unk_1FB
			      and a, #7Fh
			      st a, unk_1FB
			      clrb bit7, unk_4F

loc_D218:						    ; CODE XREF: __RESET+923j
			      clrb bit6, unk_4F

loc_D21A:						    ; CODE XREF: __RESET:loc_D203j
			      ld y, #unk_85
			      ld x, #unk_C675

loc_D220:						    ; CODE XREF: __RESET+957j
			      ld d, [y]
			      inc x
			      inc x
			      xch x, y
			      jsr sub_C6AB

			      xch x, y
			      bcs loc_D231

			      cmp y, #0095h
			      bcs loc_D220

			      bra loc_D234

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D231:						    ; CODE XREF: __RESET+952j
			      jsr sub_CA81


loc_D234:						    ; CODE XREF: __RESET+959j
			      clrb bit2, unk_4F
			      tbbc bit4, unk_40, loc_D24B

			      cmp #28h,	var_rpm_div_25
			      bcc loc_D25F

			      cmp #18h,	var_rpm_div_25
			      bcs loc_D25F

			      cmp #23h,	var_pim
			      bcs loc_D25F

			      clr a
			      bra loc_D270

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D24B:						    ; CODE XREF: __RESET+960j
			      cmp #80h,	var_rpm_div_25
			      bcc loc_D25F

			      cmp #28h,	var_rpm_div_25
			      bcs loc_D25F

			      ld d, var_pim
			      cmp a, #94h
			      bcc loc_D25F

			      cmp a, #23h
			      bcc loc_D265


loc_D25F:						    ; CODE XREF: __RESET+966j
							    ; __RESET+96Bj ...
			      jmp loc_D316

; END OF FUNCTION CHUNK	FOR __RESET
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
unk_D262:		      .db  02h			    ; DATA XREF: __RESET:loc_D265o
							    ; sub_D34A:loc_D356o
			      .db  38h ; 8
			      .db  06h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D265:						    ; CODE XREF: __RESET+987j
			      ld y, #unk_D262
			      jsr divide_rD_16

			      jsr sub_C749

			      inc a
			      shl a

loc_D270:						    ; CODE XREF: __RESET+973j
			      ld x, #0086h
			      add x, a
			      xch a, unk_68
			      cmp a, unk_68
			      beq loc_D27C

			      clr unk_6A

loc_D27C:						    ; CODE XREF: __RESET+9A2j
			      tbbs bit0, unk_40, loc_D25F

			      tbbc bit3, unk_40, loc_D25F

			      cmp #0E4h, var_ect
			      ble loc_D25F

			      tbbs bit3, var_error_flags1, loc_D25F

			      ld a, unk_60
			      or a, unk_11A
			      or a, unk_11C
			      or a, unk_11E
			      or a, unk_119
			      bne loc_D25F

			      cmp #93h,	var_adc_battery
			      bcs loc_D25F

			      tbbs bit7, var_io_input1,	loc_D25F

			      tbbs bit7, PORTA,	loc_D25F    ; Port A Data Register

			      setb bit2, unk_4F
			      tbbc bit1, unk_4F, loc_D312

			      ld a, #06h
			      tbbs bit4, unk_40, loc_D2B1

			      ld a, #03h

loc_D2B1:						    ; CODE XREF: __RESET+9D6j
			      cmp a, unk_6A
			      bgt loc_D312

			      ld b, #01h
			      cmp #8Ah,	unk_67
			      bcc loc_D2C2

			      neg b
			      cmp #76h,	unk_67
			      bgt loc_D312


loc_D2C2:						    ; CODE XREF: __RESET+9E4j
			      add b, x + 00h
			      push b
			      mov x, d
			      add d, #unk_C5F1
			      mov d, y
			      pull b
			      jsr sub_C6AB

			      jsr sub_D341

			      clrb bit0, var_diag_errors_5
			      ld b, unk_86
			      sub b, #5Ch
			      bcc loc_D2DC

			      neg b
			      setb bit0, var_diag_errors_5

loc_D2DC:						    ; CODE XREF: __RESET+A01j
			      clr a
			      div d, #05h
			      st b, unk_76
			      xch x, y
			      ld x, #unk_94
			      ld #06h, var_rpm_unk_77

loc_D2E8:						    ; CODE XREF: __RESET+A39j
			      ld a, var_rpm_unk_77
			      mul a, unk_76
			      sub b, unk_76
			      subc a, #00h
			      tbbc bit0, var_diag_errors_5, loc_D2F6

			      jsr sub_C7BF


loc_D2F6:						    ; CODE XREF: __RESET+A1Aj
			      add d, #0023h
			      st d, var_temp
			      ld b, unk_86
			      clr a
			      sub d, var_temp
			      bmi loc_D30B

			      jsr clamp_rD_FF

			      cmp b, x + 00h
			      ble loc_D30B

			      bsr sub_D341


loc_D30B:						    ; CODE XREF: __RESET+A2Aj
							    ; __RESET+A31j
			      dec x
			      dec x
			      dec var_rpm_unk_77
			      bpz loc_D2E8

			      xch x, y

loc_D312:						    ; CODE XREF: __RESET+9D1j
							    ; __RESET+9DDj ...
			      ld a, x +	00h
			      bra loc_D31D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D316:						    ; CODE XREF: __RESET:loc_D25Fj
			      ld #0FFh,	unk_68
			      clr unk_6A
			      ld a, #80h

loc_D31D:						    ; CODE XREF: __RESET+A3Ej
			      tbbs bit3, unk_40, loc_D328

			      ld a, #80h
			      st a, unk_67
			      st a, unk_64
			      ld a, #00h

loc_D328:						    ; CODE XREF: __RESET:loc_D31Dj
			      st a, unk_191
			      clrb bit1, unk_4F
			      jmp loc_D37D

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D330:						    ; CODE XREF: __RESET+8B5p
			      ld d, unk_64
			      st b, unk_64
			      add a, b
			      rorc a
			      st a, unk_67
			      setb bit1, unk_4F
			      ld d, #6A02h
			      jsr increment_counters

			      ret

; End of function sub_D330


;  S U B	R O U T	I N E 


sub_D341:						    ; CODE XREF: __RESET+9F8p
							    ; __RESET+A33p ...
			      ld a, x +	00h
			      sub a, b
			      add a, x + 01h
			      xch a, b
			      st d, x +	00h
			      ret

; End of function sub_D341


;  S U B	R O U T	I N E 


sub_D34A:						    ; CODE XREF: __RESET+1C8Fp
			      ld b, #80h
			      tbbc bit0, var_flags_42, locret_D37C

			      tbbc bit4, unk_40, loc_D356

			      ld b, unk_86
			      bra locret_D37C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D356:						    ; CODE XREF: sub_D34A+5j
			      ld y, #unk_D262
			      ld d, var_pim
			      sub d, #07FEh
			      bcc loc_D362

			      clr a
			      clr b

loc_D362:						    ; CODE XREF: sub_D34A+14j
			      jsr divide_rD_16

			      jsr sub_C749

			      push b
			      shl a
			      ld y, #unk_88
			      add y, a
			      ld a, y +	00h
			      ld b, y +	02h
			      mov d, y
			      pull b
			      push y
			      mov s, x
			      xch x, y
			      jsr sub_C72F

			      pull y
			      mov a, b

locret_D37C:						    ; CODE XREF: sub_D34A+2j
							    ; sub_D34A+Aj
			      ret

; End of function sub_D34A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D37D:						    ; CODE XREF: __RESET+A57j
			      ld a, unk_4E
			      st a, unk_1F0		    ; Bad Address
			      ld a, unk_4F
			      st a, unk_1FC		    ; Bad Address
			      tbs bit6,	unk_41
			      bne loc_D3AB

			      ld d, #0C716h
			      jsr increment_counters

			      jsr sub_CB89

			      jsr sub_E312

			      jsr sub_CD3B

			      jsr sub_EC0B

			      jsr sub_DD94

			      ld y, #unk_C286
			      ld b, var_tha
			      jsr table_rB_fixed_32_interpolate

			      st a, unk_120

loc_D3AB:						    ; CODE XREF: __RESET+AB3j
			      cmp #7Ah,	unk_C4
			      bcs loc_D3C8

			      clr unk_C4
			      ld d, #0EA06h
			      jsr increment_counters

			      inc unk_F0
			      jsr sub_E2F0

			      jsr sub_E3D4

			      ld a, unk_1F0		    ; Bad Address
			      st a, unk_4E
			      jsr sub_D031


loc_D3C8:						    ; CODE XREF: __RESET+AD8j
			      tbs bit2,	unk_41
			      beq loc_D3CF

			      jmp loc_D47E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D3CF:						    ; CODE XREF: __RESET+AF4j
			      jsr sub_E365

			      ld a, var_limit_flags
			      and a, #3Fh
			      bne loc_D3E7

			      ld d, unk_12F
			      cmp d, #0FFE7h
			      blta loc_D3E7

			      ld a, unk_1F0		    ; Bad Address
			      cmpb a, #08h
			      beq loc_D3E9


loc_D3E7:						    ; CODE XREF: __RESET+B00j
							    ; __RESET+B08j
			      clr unk_D0

loc_D3E9:						    ; CODE XREF: __RESET+B0Fj
			      ld a, unk_6C
			      bne loc_D3FB

			      ld d, #1714h
			      cmp #1Eh,	var_rpm_div_25
			      bcs loc_D3F6

			      mov b, a

loc_D3F6:						    ; CODE XREF: __RESET+B1Dj
			      cmp a, unk_154
			      bgta loc_D3FD


loc_D3FB:						    ; CODE XREF: __RESET+B15j
			      inc unk_6C

loc_D3FD:						    ; CODE XREF: __RESET+B23j
			      tbbc bit3, unk_40, loc_D468

			      ld d, var_ect
			      cmp d, #0E4C0h
			      bcs loc_D468

			      cmp d, #0EF80h
			      bcc loc_D468

			      ld a, unk_60
			      or a, unk_11E
			      bne loc_D468

			      cmp #80h,	var_rpm_div_25
			      bcc loc_D468

			      tbbs bit5, unk_4A, loc_D468

			      ld a, unk_154
			      cmp a, #0FDh
			      blta loc_D468

			      cmp #93h,	var_adc_battery
			      bcs loc_D468

			      cmp #15h,	unk_D0
			      bcs loc_D468

			      tbbs bit2, unk_4C, loc_D468

			      cmp #06h,	unk_6C
			      ble loc_D47E

			      ld a, #01h
			      ld b, unk_5F
			      bpz loc_D43B

			      neg a

loc_D43B:						    ; CODE XREF: __RESET+B62j
			      add a, unk_6D
			      st a, unk_6D
			      cmp #0Eh,	unk_6C
			      bcs loc_D47E

			      tbbs bit7, var_limit_flags, loc_D468

			      ld d, unk_96
			      tbbs bit0, var_flags_42, loc_D44F

			      ld d, #00FFh

loc_D44F:						    ; CODE XREF: __RESET+B73j
			      cmp #84h,	unk_6D
			      bcc loc_D460

			      cmp #7Ch,	unk_6D
			      bgt loc_D468

			      cmpz a
			      beq loc_D468

			      dec a
			      inc b
			      bra loc_D466

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D460:						    ; CODE XREF: __RESET+B7Cj
			      cmp a, #0A0h
			      beq loc_D468

			      inc a
			      dec b

loc_D466:						    ; CODE XREF: __RESET+B88j
			      st d, unk_96

loc_D468:						    ; CODE XREF: __RESET:loc_D3FDj
							    ; __RESET+B2Fj ...
			      ld d, #0080h
			      st d, unk_6C
			      clrb bit7, var_limit_flags
			      bra loc_D47E

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D471:						    ; CODE XREF: __RESET+3A8p
			      ld b, unk_96
			      ld y, #unk_C687
			      jsr y + 24h

			      bcc locret_D47D

			      jsr sub_CA81


locret_D47D:						    ; CODE XREF: sub_D471+7j
			      ret

; End of function sub_D471

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D47E:						    ; CODE XREF: __RESET+AF6j
							    ; __RESET+B5Cj ...
			      jsr sub_EA2F

			      jsr sub_E873

			      tbs bit2,	unk_44
			      bne loc_D49F		    ; Bad Address

			      ld d, #0E701h
			      jsr increment_counters

			      ld a, unk_E8
			      inc a
			      st a, unk_E8
			      cmpb a, #01h
			      bne loc_D49F		    ; Bad Address

			      ld a, unk_1F0		    ; Bad Address
			      st a, unk_4E
			      jsr sub_D021


loc_D49F:						    ; CODE XREF: __RESET+BB0j
							    ; __RESET+BBFj
			      ld a, unk_1F9		    ; Bad Address
			      st a, unk_4E
			      ld a, unk_1FB		    ; Bad Address
			      st a, unk_4F
			      tbbc bit0, unk_40, loc_D4AF

			      jmp loc_DAAF

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D4AF:						    ; CODE XREF: __RESET+BD3j
			      tbbs bit3, var_io_input1,	loc_D4B5

			      clrb bit2, unk_4F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D4B5:						    ; CODE XREF: __RESET:loc_D4AFj
			      setb bit2, unk_4F
			      tbbs bit4, var_io_input1,	loc_D4BD

			      clrb bit3, unk_4F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D4BD:						    ; CODE XREF: __RESET+BE1j
			      setb bit3, unk_4F
			      tbbs bit7, var_io_input1,	loc_D4C5

			      clrb bit5, unk_4F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D4C5:						    ; CODE XREF: __RESET+BE9j
			      setb bit5, unk_4F
			      clrb bit1, unk_4F
			      clrb bit4, unk_4F
			      tbbs bit0, var_io_input1,	loc_D4D1

			      clrb bit0, unk_4F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D4D1:						    ; CODE XREF: __RESET+BF5j
			      setb bit0, unk_4F
			      tbbs bit0, var_limit_flags, loc_D4D8

			      clr unk_D6

loc_D4D8:						    ; CODE XREF: __RESET+BFDj
			      ld b, unk_9A
			      ld y, #unk_C69D
			      jsr y + 0Eh

			      bcc loc_D4E4

			      jsr sub_CA81


loc_D4E4:						    ; CODE XREF: __RESET+C09j
			      tbbs bit1, unk_40, loc_D4FE

			      cmp #0E4h, var_ect
			      ble loc_D4FE

			      cmp #02h,	var_speed_kph
			      bcc loc_D4FE

			      ld a, unk_1F6
			      cmpb a, #08h
			      bne loc_D4FE

			      tbbs bit5, unk_4F, loc_D4FE

			      setb bit2, unk_4E
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D4FE:						    ; CODE XREF: __RESET:loc_D4E4j
							    ; __RESET+C14j ...
			      clrb bit2, unk_4E
			      tbbc bit4, unk_40, loc_D50C

			      tbbs bit1, unk_4E, loc_D50C

			      tbbs bit7, unk_4E, loc_D50C

			      tbbc bit0, unk_4F, loc_D50E


loc_D50C:						    ; CODE XREF: __RESET+C2Aj
							    ; __RESET+C2Dj ...
			      clr unk_D5

loc_D50E:						    ; CODE XREF: __RESET+C33j
			      tbbc bit1, unk_40, loc_D522

			      clr unk_D7
			      ld a, unk_9A
			      tbbs bit0, var_flags_42, loc_D51A

			      ld a, #66h

loc_D51A:						    ; CODE XREF: __RESET+C3Fj
			      mul a, #10h
			      add d, #00F6h
			      st d, unk_19C

loc_D522:						    ; CODE XREF: __RESET:loc_D50Ej
			      ld d, #0800h
			      tbbs bit1, unk_40, loc_D532

			      cmp #28h,	var_speed_kph
			      bcc loc_D532

			      cmp #0A0h, var_rpm_div_25
			      bcs loc_D535


loc_D532:						    ; CODE XREF: __RESET+C4Fj
							    ; __RESET+C55j
			      st d, unk_1AD

loc_D535:						    ; CODE XREF: __RESET+C5Aj
			      bra loc_D541

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D537:						    ; CODE XREF: __RESET+1985p
			      ld y, #unk_C591
			      jsr table_ect_pair_interpolate

			      st a, unk_1A8
			      ret

; End of function sub_D537

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D541:						    ; CODE XREF: __RESET:loc_D535j
			      tbs bit1,	var_diag_errors_5
			      bne loc_D566

			      jsr sub_D640

			      bra loc_D566

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


drive_dout1:						    ; CODE XREF: int_watchdog+1Dp
			      di
			      clrb bit1, DOM
			      ld d, var_iscv_unk_1A1
			      beq loc_D55A

			      setb bit1, DOUT
			      add d, TIMER		    ; Timer MSB	(bit11~bit18)
			      st d, CPR1		    ; Timer comparison #1 MSB
			      setb bit1, DOM

loc_D55A:						    ; CODE XREF: drive_dout1+6j
			      clrb bit1, DOUT
			      ei
			      tbbs bit5, var_diag_errors_4, loc_D563

			      clrb bit4, PORTA
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D563:						    ; CODE XREF: drive_dout1+13j
			      setb bit4, PORTA
			      ret

; End of function drive_dout1

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D566:						    ; CODE XREF: __RESET+C6Dj
							    ; __RESET+C72j
			      tbbs bit7, unk_4E, loc_D56C

			      tbbs bit5, unk_4F, loc_D56E


loc_D56C:						    ; CODE XREF: __RESET:loc_D566j
			      clr unk_E7

loc_D56E:						    ; CODE XREF: __RESET+C93j
			      clr a
			      clr b
			      tbbc bit0, var_io_input1,	loc_D575

			      clr unk_AB

loc_D575:						    ; CODE XREF: __RESET+C9Aj
			      cmp #19h,	unk_AB
			      bcc loc_D5EA

			      cmp #3Dh,	var_cnt_C3
			      bcc loc_D5EA

			      tbbc bit5, unk_4F, loc_D5C0

			      cmp #0D2h, var_ect
			      bcs loc_D5C0

			      tbbc bit4, unk_40, loc_D5C0

			      ld d, #0200h
			      tbbs bit7, var_flags_42, loc_D5A4

			      ld d, #01C3h
			      cmp #26h,	unk_E7
			      bcs loc_D5EA

			      ld b, unk_9A
			      tbbs bit0, var_flags_42, loc_D59F

			      ld b, #66h

loc_D59F:						    ; CODE XREF: __RESET+CC4j
			      clr a
			      shl d
			      shl d
			      bra loc_D5EA

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D5A4:						    ; CODE XREF: __RESET+CB7j
			      cmp #17h,	unk_E7
			      bcc loc_D5AD

			      bsr sub_D5FB

			      bra loc_D5F2

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D5AD:						    ; CODE XREF: __RESET+CD1j
			      cmp #99h,	unk_E7
			      bcs loc_D5EA

			      bsr sub_D607

			      sub d, #0200h
			      bcs loc_D5BB

			      clr a
			      clr b

loc_D5BB:						    ; CODE XREF: __RESET+CE1j
			      jsr sub_C7BF

			      bra loc_D5F2

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D5C0:						    ; CODE XREF: __RESET+CA9j
							    ; __RESET+CAFj ...
			      bsr sub_D5FB

			      push d
			      bsr sub_D607

			      sub d, unk_19E
			      bcs loc_D5CC

			      clr a
			      clr b

loc_D5CC:						    ; CODE XREF: __RESET+CF2j
			      jsr sub_C7BF

			      mov s, x
			      tbbc bit7, var_flags_42, loc_D5E4

			      tbbs bit5, var_diag_errors_4, loc_D5E0

			      ld y, unk_19E
			      cmp y, #0233h
			      bgt loc_D5EF

			      bra loc_D5E4

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D5E0:						    ; CODE XREF: __RESET+CFDj
			      cmp d, x + 00h
			      bcc loc_D5EF


loc_D5E4:						    ; CODE XREF: __RESET+CFAj
							    ; __RESET+D08j
			      ld d, unk_19E
			      bsr sub_D613

			      pull x

loc_D5EA:						    ; CODE XREF: __RESET+CA2j
							    ; __RESET+CA7j ...
			      di
			      clrb bit5, var_diag_errors_4
			      bra loc_D5F5

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D5EF:						    ; CODE XREF: __RESET+D06j
							    ; __RESET+D0Cj
			      bsr sub_D613

			      pull x

loc_D5F2:						    ; CODE XREF: __RESET+CD5j
							    ; __RESET+CE8j
			      di
			      setb bit5, var_diag_errors_4

loc_D5F5:						    ; CODE XREF: __RESET+D17j
			      st d, var_iscv_unk_1A1
			      ei
			      bra loc_D63D

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D5FB:						    ; CODE XREF: __RESET+CD3p
							    ; __RESET:loc_D5C0p
			      ld b, var_adc_battery
			      ld y, #unk_C603
			      jsr table_rB_fixed_32_interpolate

			      jsr divide_rD_64

			      ret

; End of function sub_D5FB


;  S U B	R O U T	I N E 


sub_D607:						    ; CODE XREF: __RESET+CDCp
							    ; __RESET+CEDp
			      ld b, var_adc_battery
			      ld y, #unk_C609
			      jsr table_rB_fixed_32_interpolate

			      jsr divide_rD_64

			      ret

; End of function sub_D607


;  S U B	R O U T	I N E 


sub_D613:						    ; CODE XREF: __RESET+D11p
							    ; __RESET:loc_D5EFp
			      cmp d, x + 00h
			      bcs loc_D62B

			      mov d, x
			      shr d
			      shr d
			      cmpz a
			      bne loc_D622

			      cmp b, unk_1A0
			      bcs loc_D629


loc_D622:						    ; CODE XREF: sub_D613+8j
			      ld b, unk_1A0
			      clr a
			      shl d
			      shl d
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  41h ; A
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D629:						    ; CODE XREF: sub_D613+Dj
			      mov x, d
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D62B:						    ; CODE XREF: sub_D613+2j
			      ld d, x +	00h
			      ret

; End of function sub_D613


;  S U B	R O U T	I N E 


sub_D62E:						    ; CODE XREF: __RESET+1982p
			      ld a, #0F3h
			      tbbs bit3, unk_4E, loc_D639

			      ld y, #unk_C5F4
			      jsr table_ect_pair_interpolate


loc_D639:						    ; CODE XREF: sub_D62E+2j
			      st a, unk_1A0
			      ret

; End of function sub_D62E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_D63D:						    ; CODE XREF: __RESET+D23j
			      jmp loc_DAAF

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_D640:						    ; CODE XREF: __RESET+C6Fp

; FUNCTION CHUNK AT D732 SIZE 0000037D BYTES

			      cmp #3Dh,	var_cnt_startup
			      bcc loc_D661

			      ld y, #unk_C5A6
			      jsr table_ect_pair_interpolate

			      push d
			      ld y, #unk_C5B7
			      ld a, var_tha
			      jsr sub_C6C4

			      mov s, x
			      cmp d, x + 00h
			      bcc loc_D65B

			      ld d, x +	00h

loc_D65B:						    ; CODE XREF: sub_D640+17j
			      pull x
			      jsr divide_rD_16

			      bra loc_D66B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D661:						    ; CODE XREF: sub_D640+3j
			      ld d, unk_1A6
			      sub d, #0002h
			      bcc loc_D66B

			      clr a
			      clr b

loc_D66B:						    ; CODE XREF: sub_D640+1Fj
							    ; sub_D640+27j
			      st d, unk_1A6
			      cmp #0Ch,	unk_AF
			      bcc loc_D699

			      cmp #05h,	var_speed_kph
			      bcs loc_D699

			      cmp #50h,	var_rpm_div_25
			      bcc loc_D699

			      cmp #8Ah,	unk_5C
			      bcs loc_D699

			      setb bit4, unk_4E
			      cmp #0DCh, var_ect
			      bcs loc_D69B

			      ld b, var_pim
			      ld y, #unk_C5C2
			      jsr table_rB_fixed_32_interpolate

			      jsr divide_rD_64

			      st d, unk_1A3
			      bra loc_D6AD

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D699:						    ; CODE XREF: sub_D640+31j
							    ; sub_D640+36j ...
			      clrb bit4, unk_4E

loc_D69B:						    ; CODE XREF: sub_D640+47j
			      tbbs bit4, unk_4E, loc_D6AD

			      ld d, unk_1A3
			      beq loc_D6AD

			      sub d, #0008h
			      bcc loc_D6AA

			      clr a
			      clr b

loc_D6AA:						    ; CODE XREF: sub_D640+66j
			      st d, unk_1A3

loc_D6AD:						    ; CODE XREF: sub_D640+57j
							    ; sub_D640:loc_D69Bj ...
			      ld d, #0300h
			      cmp #3Dh,	var_cnt_startup
			      bcs loc_D6BF

			      ld d, unk_1B9
			      sub d, #0002h
			      bcc loc_D6BF

			      clr a
			      clr b

loc_D6BF:						    ; CODE XREF: sub_D640+73j
							    ; sub_D640+7Bj
			      st d, unk_1B9
			      ld x, #unk_C5E4
			      jsr sub_D725

			      ld a, x +	00h
			      tbbc bit7, var_flags_42, loc_D6EA

			      clrb bit0, var_diag_errors_5
			      ld x, #byte_C5E8
			      bsr sub_D725

			      sub a, x + 00h
			      bcs loc_D6DB

			      setb bit0, var_diag_errors_5
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  41h ; A
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D6DB:						    ; CODE XREF: sub_D640+96j
			      neg a
			      mul a, #10h
			      jsr sub_C7BC

			      bpz loc_D6E5

			      clr a
			      clr b

loc_D6E5:						    ; CODE XREF: sub_D640+A1j
			      st d, unk_1BD
			      ld a, x +	00h

loc_D6EA:						    ; CODE XREF: sub_D640+8Aj
			      mul a, #10h
			      add d, unk_1B9
			      st d, unk_76
			      ld x, #unk_C5EC
			      ld a, unk_109
			      shl a
			      rolc a
			      rolc a
			      and a, #03h
			      shl a
			      add x, a
			      tbbc bit6, var_flags_42, loc_D702

			      inc x

loc_D702:						    ; CODE XREF: sub_D640+BEj
			      ld a, #10h
			      mul a, x + 00h
			      add d, unk_76
			      st d, unk_76
			      cmp d, unk_1B7
			      beq loc_D711

			      clr unk_D8

loc_D711:						    ; CODE XREF: sub_D640+CDj
			      st d, unk_1B7
			      ld d, var_rpm_x_5p12
			      sub d, unk_1B7
			      bcc loc_D71D

			      clr a
			      clr b

loc_D71D:						    ; CODE XREF: sub_D640+D9j
			      jsr divide_rD_16_saturate

			      st b, unk_1B4
			      bra loc_D732

; End of function sub_D640


;  S U B	R O U T	I N E 


sub_D725:						    ; CODE XREF: sub_D640+85p
							    ; sub_D640+92p
			      tbbs bit2, unk_4F, loc_D72B

			      tbbc bit3, unk_4F, loc_D72C


loc_D72B:						    ; CODE XREF: sub_D725j
			      inc x

loc_D72C:						    ; CODE XREF: sub_D725+3j
			      tbbs bit6, var_flags_42, locret_D731

			      inc x
			      inc x

locret_D731:						    ; CODE XREF: sub_D725:loc_D72Cj
			      ret

; End of function sub_D725

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_D640

loc_D732:						    ; CODE XREF: sub_D640+E3j
			      tbbs bit7, var_flags_42, loc_D757

			      tbbc bit2, unk_4E, loc_D757

			      cmp #5Ch,	unk_D5
			      bcs loc_D757

			      ld y, #unk_C5CF
			      ld b, unk_1B4

loc_D743:						    ; CODE XREF: sub_D640+106j
			      inc y
			      cmp b, y + 00h
			      bgt loc_D743

			      ld b, y +	05h
			      clr a
			      add d, unk_19C
			      sub d, #0080h
			      bcc loc_D771

			      clr a
			      clr b
			      bra loc_D771

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D757:						    ; CODE XREF: sub_D640:loc_D732j
							    ; sub_D640+F5j ...
			      clr unk_D8
			      clr unk_D7
			      tbbs bit1, unk_40, loc_D76F

			      ld a, unk_9A
			      tbbs bit0, var_flags_42, loc_D765

			      ld a, #66h

loc_D765:						    ; CODE XREF: sub_D640+120j
			      mul a, #10h
			      cmp d, unk_19C
			      ble loc_D76F

			      st d, unk_19C

loc_D76F:						    ; CODE XREF: sub_D640+11Bj
							    ; sub_D640+12Aj
			      bra loc_D79C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D771:						    ; CODE XREF: sub_D640+111j
							    ; sub_D640+115j
			      st d, unk_76
			      ld a, unk_9A
			      tbbs bit0, var_flags_42, loc_D77A

			      ld a, #66h

loc_D77A:						    ; CODE XREF: sub_D640+135j
			      mul a, #10h
			      tbbc bit2, unk_4F, loc_D785

			      mov d, x
			      add d, #0148h
			      bra loc_D78C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D785:						    ; CODE XREF: sub_D640+13Cj
			      sub d, #0033h
			      mov d, x
			      add d, #017Bh

loc_D78C:						    ; CODE XREF: sub_D640+143j
			      cmp d, unk_76
			      ble loc_D799

			      clr unk_D7
			      mov x, d
			      cmp d, unk_76
			      bcc loc_D799

			      ld d, unk_76

loc_D799:						    ; CODE XREF: sub_D640+14Ej
							    ; sub_D640+155j
			      st d, unk_19C

loc_D79C:						    ; CODE XREF: sub_D640:loc_D76Fj
			      tbbc bit7, var_flags_42, loc_D7C7

			      ld y, #unk_C5CC
			      jsr table_ect_fixed_64_interpolate

			      st a, unk_76
			      ld y, #byte_C5C8
			      clr a
			      tbbs bit6, var_flags_42, loc_D7B0

			      add a, #02h

loc_D7B0:						    ; CODE XREF: sub_D640+16Bj
			      add y, a
			      ld d, unk_1BD
			      shr d
			      shr d
			      cmpz a
			      bne loc_D7BD

			      jsr sub_C72F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D7BD:						    ; CODE XREF: sub_D640+177j
			      ld a, y +	01h
			      sub a, unk_76
			      bcc loc_D7C4

			      clr a

loc_D7C4:						    ; CODE XREF: sub_D640+181j
			      st a, unk_1AF

loc_D7C7:						    ; CODE XREF: sub_D640:loc_D79Cj
			      tbbc bit7, var_flags_42, loc_D7E8

			      tbbc bit2, unk_4E, loc_D7E8

			      cmp #5Ch,	unk_D5
			      bcs loc_D7E8

			      ld y, #unk_C5D9
			      ld b, unk_1B4

loc_D7D8:						    ; CODE XREF: sub_D640+19Bj
			      inc y
			      cmp b, y + 00h
			      bgt loc_D7D8

			      ld b, y +	05h
			      clr a
			      add d, unk_1AD
			      sub d, #0080h
			      bra loc_D7EB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D7E8:						    ; CODE XREF: sub_D640:loc_D7C7j
							    ; sub_D640+18Aj ...
			      ld d, unk_1AD

loc_D7EB:						    ; CODE XREF: sub_D640+1A6j
			      cmp d, #0A66h
			      bcc loc_D811

			      mov d, x
			      ld a, unk_1AF
			      mul a, #10h
			      sub d, #0800h
			      bcs loc_D7FD

			      clr a
			      clr b

loc_D7FD:						    ; CODE XREF: sub_D640+1B9j
			      jsr sub_C7BF

			      cmp d, #0400h
			      bcc loc_D808

			      ld d, #0400h

loc_D808:						    ; CODE XREF: sub_D640+1C3j
			      st d, unk_76
			      cmp x, unk_76
			      ble loc_D814

			      mov x, d
			      bra loc_D814

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D811:						    ; CODE XREF: sub_D640+1AEj
			      ld d, #0A66h

loc_D814:						    ; CODE XREF: sub_D640+1CCj
							    ; sub_D640+1CFj
			      st d, unk_1AD
			      ld a, unk_19B
			      inc a
			      st a, unk_19B
			      tbbc bit0, var_flags_42, loc_D838

			      cmp #66h,	unk_9A
			      bcc loc_D838

			      ld d, unk_1B7
			      add d, #0700h
			      tbbc bit6, var_flags_42, loc_D834

			      sub d, #0100h
			      bcs loc_D838


loc_D834:						    ; CODE XREF: sub_D640+1ECj
			      cmp d, unk_F9
			      bgt loc_D83A


loc_D838:						    ; CODE XREF: sub_D640+1DEj
							    ; sub_D640+1E4j ...
			      clr unk_D7

loc_D83A:						    ; CODE XREF: sub_D640+1F6j
			      cmp #5Ch,	unk_D7
			      bcs loc_D852

			      ld a, unk_9E
			      or a, #01h
			      st a, unk_9E
			      ld b, #66h
			      st b, unk_1A5
			      ld x, #009Ah
			      jsr sub_D341

			      clr unk_D7

loc_D852:						    ; CODE XREF: sub_D640+1FDj
			      cmp #0E8h, var_ect
			      bcs loc_D86B

			      ld a, unk_60
			      or a, unk_11E
			      bne loc_D86B

			      cmp #93h,	var_adc_battery
			      bcs loc_D86B

			      tbbs bit2, unk_4F, loc_D86B

			      ld d, unk_1A6
			      beq loc_D86D


loc_D86B:						    ; CODE XREF: sub_D640+215j
							    ; sub_D640+21Cj ...
			      clr unk_D8

loc_D86D:						    ; CODE XREF: sub_D640+229j
			      cmp #99h,	unk_D8
			      bcs loc_D89D

			      ld d, unk_1B7
			      add d, #0800h
			      sub d, unk_F9
			      bcc loc_D87F

			      jsr sub_C7BF


loc_D87F:						    ; CODE XREF: sub_D640+23Aj
			      cmp d, #0060h
			      bgt loc_D89D

			      ld a, unk_9A
			      tbbs bit0, var_flags_42, loc_D88B

			      ld a, #66h

loc_D88B:						    ; CODE XREF: sub_D640+246j
			      mul a, #10h
			      add d, #007Bh
			      cmp d, unk_19C
			      bcs loc_D89D

			      sub d, #0048h
			      cmp d, unk_19C
			      ble loc_D89F


loc_D89D:						    ; CODE XREF: sub_D640+230j
							    ; sub_D640+242j ...
			      clr unk_DF

loc_D89F:						    ; CODE XREF: sub_D640+25Bj
			      tbbc bit5, unk_4F, loc_D8AA

			      ld a, unk_9E
			      or a, #01h
			      st a, unk_9E
			      bra loc_D8B5

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D8AA:						    ; CODE XREF: sub_D640:loc_D89Fj
			      cmp #99h,	unk_DF
			      bcs loc_D8B5

			      ld a, unk_9E
			      and a, #0FEh
			      st a, unk_9E

loc_D8B5:						    ; CODE XREF: sub_D640+268j
							    ; sub_D640+26Dj
			      ld a, unk_9E
			      ld b, unk_9A
			      tbbs bit0, var_flags_42, loc_D8C0

			      and a, #0FEh
			      ld b, #66h

loc_D8C0:						    ; CODE XREF: sub_D640+279j
			      cmp #11h,	var_speed_kph
			      bcc loc_D8D5

			      cmpb a, #01h
			      bne loc_D8D5

			      ld b, unk_1A5
			      ld y, #unk_C69D
			      jsr y + 0Eh

			      bcc loc_D8D8

			      ld b, #66h

loc_D8D5:						    ; CODE XREF: sub_D640+283j
							    ; sub_D640+287j
			      st b, unk_1A5

loc_D8D8:						    ; CODE XREF: sub_D640+291j
			      cmp #99h,	unk_D8
			      bcs loc_D92E

			      ld b, unk_19B
			      beq loc_D8EC

			      shl b
			      shl b
			      bne loc_D92E

			      ld a, unk_9E
			      cmpb a, #01h
			      beq loc_D92E


loc_D8EC:						    ; CODE XREF: sub_D640+2A0j
			      ld a, unk_9A
			      mul a, #10h
			      mov d, x
			      ld b, unk_9A
			      ld a, unk_1B4
			      cmp x, unk_19C
			      beq loc_D912

			      bcs loc_D908

			      cmp a, #7Ah
			      bcs loc_D912

			      sub b, #01h
			      bcc loc_D912

			      clr b
			      bra loc_D912

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D908:						    ; CODE XREF: sub_D640+2BBj
			      cmp a, #86h
			      bgt loc_D912

			      add b, #01h
			      bcc loc_D912

			      ld b, #0FFh

loc_D912:						    ; CODE XREF: sub_D640+2B9j
							    ; sub_D640+2BFj ...
			      ld a, unk_1A5
			      add a, #08h
			      st a, unk_76
			      sub a, #0Bh
			      st a, var_rpm_unk_77
			      ld y, #unk_76
			      jsr sub_C6AB

			      ld y, #unk_C69D
			      jsr y + 0Eh

			      ld x, #unk_9A
			      jsr sub_D341


loc_D92E:						    ; CODE XREF: sub_D640+29Bj
							    ; sub_D640+2A4j ...
			      ld d, var_rpm_x_5p12
			      sub d, unk_1B5
			      beq loc_D946

			      rorc a
			      rorc b
			      jsr divide_rD_4_signed

			      cmp d, #0000h
			      bne loc_D940

			      inc b

loc_D940:						    ; CODE XREF: sub_D640+2FDj
			      add d, unk_1B5
			      st d, unk_1B5

loc_D946:						    ; CODE XREF: sub_D640+2F3j
			      ld x, var_rpm_x_5p12
			      cmp #02h,	var_speed_kph
			      bcs loc_D968

			      cmp #14h,	var_rpm_x_5p12
			      bcc loc_D963

			      cmp #0Bh,	var_rpm_x_5p12
			      bcs loc_D968

			      ld d, unk_1B5
			      sub d, var_rpm_x_5p12
			      bcs loc_D963

			      cmp d, #0200h
			      bcc loc_D968


loc_D963:						    ; CODE XREF: sub_D640+310j
							    ; sub_D640+31Cj
			      ld d, #0400h
			      bra loc_D97C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D968:						    ; CODE XREF: sub_D640+30Bj
							    ; sub_D640+315j ...
			      mov x, d
			      add d, #0100h
			      sub d, unk_1B1
			      bcc loc_D973

			      clr a
			      clr b

loc_D973:						    ; CODE XREF: sub_D640+32Fj
			      shl d
			      bcs loc_D979

			      shl d
			      bcc loc_D97C


loc_D979:						    ; CODE XREF: sub_D640+334j
			      ld d, #0FFFFh

loc_D97C:						    ; CODE XREF: sub_D640+326j
							    ; sub_D640+337j
			      st x, unk_1B1
			      mov d, x
			      ld a, #50h
			      cmp #3Dh,	var_cnt_startup
			      bcs loc_D9AA

			      tbbc bit4, unk_40, loc_D9AA

			      ld d, #0800h
			      tbbc bit2, unk_4E, loc_D998

			      tbbc bit7, unk_4F, loc_D998

			      ld a, unk_1B4
			      mul a, #10h

loc_D998:						    ; CODE XREF: sub_D640+34Dj
							    ; sub_D640+350j
			      ld y, #word_C55C
			      jsr map_interpolate_3d

			      tbbc bit2, unk_4E, loc_D9A4

			      tbbs bit7, unk_4F, loc_D9AA


loc_D9A4:						    ; CODE XREF: sub_D640+35Ej
			      cmp a, #50h
			      bcc loc_D9AA

			      ld a, #50h

loc_D9AA:						    ; CODE XREF: sub_D640+345j
							    ; sub_D640+347j ...
			      st a, unk_1B0
			      tbbc bit7, var_flags_42, loc_D9C9

			      ld b, unk_9A
			      tbbs bit0, var_flags_42, loc_D9B7

			      ld b, #66h

loc_D9B7:						    ; CODE XREF: sub_D640+372j
			      clr a
			      add b, unk_1AF
			      addc a, #00h
			      shl d
			      shl d
			      shl d
			      shl d
			      add d, unk_1AD
			      sub d, #0800h
			      bra loc_D9CC

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_D9C9:						    ; CODE XREF: sub_D640+36Dj
			      ld d, unk_19C

loc_D9CC:						    ; CODE XREF: sub_D640+387j
			      add d, unk_1A6
			      shr d
			      st d, unk_76
			      clr a
			      clr b
			      tbbs bit2, unk_4F, loc_D9DA

			      tbbc bit3, unk_4F, loc_D9EE


loc_D9DA:						    ; CODE XREF: sub_D640+394j
			      ld y, #unk_C5BC
			      tbbc bit7, var_flags_42, loc_D9E1

			      inc y

loc_D9E1:						    ; CODE XREF: sub_D640+39Dj
			      tbbc bit5, unk_40, loc_D9EB

			      inc y
			      inc y
			      tbbs bit6, var_flags_42, loc_D9EB

			      inc y
			      inc y

loc_D9EB:						    ; CODE XREF: sub_D640:loc_D9E1j
							    ; sub_D640+3A6j
			      ld b, y +	00h
			      shl d

loc_D9EE:						    ; CODE XREF: sub_D640+397j
			      add d, unk_76
			      st d, unk_76
			      ld b, unk_1A8
			      clr a
			      shl d
			      shl d
			      add d, unk_1A3
			      shl d
			      add d, unk_76
			      mov d, x
			      mov x, d
			      shr d
			      add b, unk_1B0
			      addc a, #00h
			      sub d, #0050h
			      cmp #0E4h, var_ect
			      bcc loc_DA16

			      tbbc bit3, unk_4E, loc_DA1B

			      cmp #0DFh, var_ect
			      bcs loc_DA1B


loc_DA16:						    ; CODE XREF: sub_D640+3CCj
			      cmp #0Fh,	unk_D6
			      bcc loc_DA1E


loc_DA1B:						    ; CODE XREF: sub_D640+3CEj
							    ; sub_D640+3D4j
			      jmp loc_DA99

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DA1E:						    ; CODE XREF: sub_D640+3D9j
			      setb bit3, unk_4E
			      st d, unk_76
			      ld a, #58h
			      tbbc bit5, unk_4E, loc_DA29

			      add a, #08h

loc_DA29:						    ; CODE XREF: sub_D640+3E4j
			      ld b, var_rpm_div_25
			      cmp a, b
			      bgt loc_DA33

			      cmp #15h,	unk_D6
			      bcc loc_DA48


loc_DA33:						    ; CODE XREF: sub_D640+3ECj
			      setb bit5, unk_4E
			      ld y, #unk_C57B
			      jsr table_rB_fixed_16_interpolate

			      jsr divide_rD_64

			      st d, unk_1A9
			      ld d, #0400h
			      st d, unk_1AB
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DA48:						    ; CODE XREF: sub_D640+3F1j
			      clrb bit5, unk_4E
			      cmp #1Fh,	unk_D6
			      bcs loc_DA90

			      tbbs bit6, unk_4E, loc_DA5E

			      cmp #58h,	var_rpm_div_25
			      bcs loc_DA90

			      cmp #21h,	var_pim
			      bcc loc_DA90

			      bra loc_DA63

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DA5E:						    ; CODE XREF: sub_D640+40Fj
			      cmp #50h,	var_rpm_div_25
			      bcs loc_DA90


loc_DA63:						    ; CODE XREF: sub_D640+41Cj
			      setb bit6, unk_4E
			      ld d, var_pim
			      ld y, #unk_C585
			      jsr sub_C707

			      mov a, b
			      clr a
			      add d, unk_1AB
			      sub d, #0080h
			      bcc loc_DA79

			      clr a
			      clr b

loc_DA79:						    ; CODE XREF: sub_D640+435j
			      cmp d, #0800h
			      ble loc_DA81

			      ld d, #0800h

loc_DA81:						    ; CODE XREF: sub_D640+43Cj
			      st d, unk_1AB
			      add d, unk_1A9
			      sub d, #0400h
			      bcc loc_DA95

			      clr a
			      clr b
			      bra loc_DA95

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DA90:						    ; CODE XREF: sub_D640+40Dj
							    ; sub_D640+415j ...
			      clrb bit6, unk_4E
			      ld d, unk_1A9

loc_DA95:						    ; CODE XREF: sub_D640+44Aj
							    ; sub_D640+44Ej
			      add d, unk_76
			      bra loc_DAAB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DA99:						    ; CODE XREF: sub_D640:loc_DA1Bj
			      clrb bit3, unk_4E
			      clrb bit5, unk_4E
			      clrb bit6, unk_4E
			      ld x, #0000h
			      st x, unk_1A9
			      ld x, #0400h
			      st x, unk_1AB

loc_DAAB:						    ; CODE XREF: sub_D640+457j
			      st d, unk_19E
			      ret

; END OF FUNCTION CHUNK	FOR sub_D640
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_DAAF:						    ; CODE XREF: __RESET+BD6j
							    ; __RESET:loc_D63Dj
			      clrb bit1, unk_4E
			      clrb bit7, unk_4E
			      ld a, unk_4E
			      st a, unk_1F9		    ; Bad Address
			      ld a, unk_4F
			      st a, unk_1FB		    ; Bad Address
			      ld a, unk_1F1		    ; Bad Address
			      st a, unk_4E
			      cmp #0FFh, var_cnt_C3
			      bne loc_DACA

			      jmp loc_DAFA

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DACA:						    ; CODE XREF: __RESET+11EFj
			      ld a, var_rpm_div_25
			      cmp a, #12h
			      bcc loc_DAD2

			      clrb bit0, unk_4E

loc_DAD2:						    ; CODE XREF: __RESET+11F8j
			      cmp a, #16h
			      bcs loc_DAD8

			      setb bit0, unk_4E

loc_DAD8:						    ; CODE XREF: __RESET+11FEj
			      clrb bit1, unk_4E
			      tbbs bit7, var_flags_42, loc_DAE1

			      clr unk_DB
			      bra loc_DAF8

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DAE1:						    ; CODE XREF: __RESET+1204j
			      cmp #12h,	unk_DB
			      bcs loc_DAF8

			      tbbc bit7, var_io_input1,	loc_DAEC

			      tbbs bit4, unk_40, loc_DAF8


loc_DAEC:						    ; CODE XREF: __RESET+1210j
			      tbbs bit0, var_io_input1,	loc_DAF8

			      tbbs bit1, unk_4E, loc_DAF8

			      tbbc bit0, unk_4E, loc_DAF8

			      clrb bit6, PORTB
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DAF8:						    ; CODE XREF: __RESET+1209j
							    ; __RESET+120Ej ...
			      setb bit6, PORTB

loc_DAFA:						    ; CODE XREF: __RESET+11F1j
			      ld a, unk_4E
			      st a, unk_1F1		    ; Bad Address
			      ld a, unk_1FE		    ; Bad Address
			      st a, unk_4F
			      cmp #0Ah,	var_rpm_x_5p12
			      bcc loc_DB0B

			      clrb bit1, unk_4F

loc_DB0B:						    ; CODE XREF: __RESET+1231j
			      cmp #0Ch,	var_rpm_x_5p12
			      bcs loc_DB12

			      setb bit1, unk_4F

loc_DB12:						    ; CODE XREF: __RESET+1238j
			      cmp #16h,	var_rpm_x_5p12
			      bcc loc_DB21

			      cmp #26h,	var_ect
			      bgt loc_DB21

			      cmp #0Ah,	unk_EA
			      ble loc_DB23


loc_DB21:						    ; CODE XREF: __RESET+123Fj
							    ; __RESET+1244j
			      setb bit0, unk_4F

loc_DB23:						    ; CODE XREF: __RESET+1249j
			      tbbc bit0, unk_4F, loc_DB2C

			      tbbc bit1, unk_4F, loc_DB2C

			      clrb bit7, PORTB
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DB2C:						    ; CODE XREF: __RESET:loc_DB23j
							    ; __RESET+1250j
			      setb bit7, PORTB
			      ld a, unk_4F
			      st a, unk_1FE
			      ld a, unk_1F0
			      st a, unk_4E
			      ld a, unk_1FD
			      st a, unk_4F
			      ld d, unk_65
			      cmp d, #4CCDh
			      bcc loc_DB4E

			      tbbc bit7, PORTA,	loc_DB63    ; Port A Data Register

			      ld d, #6666h
			      st d, unk_65
			      bra loc_DB63

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DB4E:						    ; CODE XREF: __RESET+126Cj
			      cmp #5Ah,	unk_EA
			      bcc loc_DB63

			      tbbc bit1, unk_40, loc_DB65

			      cmp #0EAh, var_ect
			      bcs loc_DB65

			      cmp #0D2h, var_tha
			      bcs loc_DB65

			      setb bit0, unk_4F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DB63:						    ; CODE XREF: __RESET+126Ej
							    ; __RESET+1276j ...
			      clrb bit0, unk_4F

loc_DB65:						    ; CODE XREF: __RESET+127Dj
							    ; __RESET+1283j ...
			      tbbc bit0, unk_4F, loc_DB6F

			      tbbs bit3, unk_4E, loc_DB6F

			      setb bit7, PORTA
			      bra loc_DB7B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DB6F:						    ; CODE XREF: __RESET:loc_DB65j
							    ; __RESET+1292j
			      clrb bit7, PORTA
			      clr unk_EC
			      ld a, unk_1FA
			      and a, #0FEh
			      st a, unk_1FA

loc_DB7B:						    ; CODE XREF: __RESET+1297j
			      ld a, unk_4F
			      st a, unk_1FD
			      cmp #0D0h, var_rpm_div_25	    ; ACIS de-activation?
			      bcc loc_DB87

			      setb bit2, PORTA

loc_DB87:						    ; CODE XREF: __RESET+12ADj
			      cmp #0D8h, var_rpm_div_25	    ; ACIS activation
			      bcs loc_DB8E

			      clrb bit2, PORTA

loc_DB8E:						    ; CODE XREF: __RESET+12B4j
			      ld a, unk_1EF
			      st a, unk_4E
			      cmp #8Dh,	var_adc_battery
			      bgt loc_DB9A

			      setb bit0, unk_4E

loc_DB9A:						    ; CODE XREF: __RESET+12C0j
			      tbbs bit0, var_io_input1,	loc_DBA1

			      clrb bit0, unk_4E
			      clr unk_E3

loc_DBA1:						    ; CODE XREF: __RESET:loc_DB9Aj
			      cmp #1Fh,	unk_E3
			      bcs loc_DBAB

			      tbbc bit0, unk_4E, loc_DBAB

			      setb bit0, var_error_flags1

loc_DBAB:						    ; CODE XREF: __RESET+12CEj
							    ; __RESET+12D0j
			      bra loc_DBBB

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_DBAD:						    ; CODE XREF: ignition_timing_calc+3p
			      tbbs bit2, unk_46, loc_DBB2

			      clrb bit1, var_error_flags1

loc_DBB2:						    ; CODE XREF: sub_DBADj
			      ld b, var_ne_count_2
			      bmi locret_DBBA

			      clr unk_E3
			      clrb bit0, var_error_flags1

locret_DBBA:						    ; CODE XREF: sub_DBAD+7j
			      ret

; End of function sub_DBAD

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_DBBB:						    ; CODE XREF: __RESET:loc_DBABj
			      ld a, unk_4E
			      st a, unk_1EF
			      tbbc bit0, var_io_input1,	loc_DBC5

			      clrb bit7, unk_4D

loc_DBC5:						    ; CODE XREF: __RESET+12EAj
			      cmp #1Eh,	var_rpm_x_5p12
			      bcs loc_DBD4

			      cmp #07h,	var_cnt_C3
			      bcs loc_DBD4

			      tbbc bit7, unk_4D, loc_DBD4

			      setb bit1, var_error_flags1

loc_DBD4:						    ; CODE XREF: __RESET+12F2j
							    ; __RESET+12F7j ...
			      bra loc_DBDC

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_DBD6:						    ; CODE XREF: int_vector_9_ignition+22p
			      tbbs bit0, var_io_input1,	locret_DBDB

			      setb bit7, unk_4D

locret_DBDB:						    ; CODE XREF: sub_DBD6j
			      ret

; End of function sub_DBD6

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_DBDC:						    ; CODE XREF: __RESET:loc_DBD4j
			      jmp loc_E04D

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_DBDF:						    ; CODE XREF: __RESET+198Ep

; FUNCTION CHUNK AT DCE0 SIZE 0000009D BYTES
; FUNCTION CHUNK AT DD9E SIZE 00000125 BYTES
; FUNCTION CHUNK AT DED8 SIZE 00000039 BYTES
; FUNCTION CHUNK AT DF25 SIZE 000000CA BYTES
; FUNCTION CHUNK AT E04C SIZE 00000001 BYTES

			      tbbs bit0, unk_4A, loc_DBFF

			      tbbc bit2, unk_46, loc_DBF7

			      clrb bit2, unk_46
			      tbbs bit5, var_diag_errors_5, loc_DBED

			      tbbc bit1, unk_4D, loc_DBF7


loc_DBED:						    ; CODE XREF: sub_DBDF+8j
			      clrb bit1, unk_4D
			      ld d, var_error_flags1
			      and a, #0C5h
			      and b, #9Dh
			      st d, var_error_flags1

loc_DBF7:						    ; CODE XREF: sub_DBDF+3j
							    ; sub_DBDF+Bj
			      clrb bit5, var_diag_errors_5
			      clrb bit3, var_diag_errors_5
			      clrb bit5, unk_4D
			      clrb bit7, unk_4C

loc_DBFF:						    ; CODE XREF: sub_DBDFj
			      tbbc bit0, unk_4A, loc_DC63

			      clr a
			      ld x, unk_60
			      bne loc_DC11

			      ld x, unk_11C
			      bne loc_DC11

			      ld x, unk_11A
			      beq loc_DC13


loc_DC11:						    ; CODE XREF: sub_DBDF+26j
							    ; sub_DBDF+2Bj
			      or a, #01h

loc_DC13:						    ; CODE XREF: sub_DBDF+30j
			      ld b, unk_119
			      beq loc_DC1A

			      or a, #02h

loc_DC1A:						    ; CODE XREF: sub_DBDF+37j
			      tbbc bit3, unk_40, loc_DC1F

			      or a, #20h

loc_DC1F:						    ; CODE XREF: sub_DBDF:loc_DC1Aj
			      ld b, unk_1BF
			      beq loc_DC26		    ; Bad Address

			      or a, #40h

loc_DC26:						    ; CODE XREF: sub_DBDF+43j
			      st a, unk_1EA		    ; Bad Address
			      clr a
			      jsr sub_DFEF

			      beq loc_DC31

			      ld a, #80h

loc_DC31:						    ; CODE XREF: sub_DBDF+4Ej
			      ld b, unk_5F
			      bpz loc_DC37

			      or a, #10h

loc_DC37:						    ; CODE XREF: sub_DBDF+54j
			      tbbc bit6, var_flags_42, loc_DC3C

			      or a, #08h

loc_DC3C:						    ; CODE XREF: sub_DBDF:loc_DC37j
			      tbbc bit1, var_io_input1,	loc_DC41

			      or a, #04h

loc_DC41:						    ; CODE XREF: sub_DBDF:loc_DC3Cj
			      tbbc bit5, unk_4A, loc_DC46

			      or a, #02h

loc_DC46:						    ; CODE XREF: sub_DBDF:loc_DC41j
			      tbbc bit0, var_io_input1,	loc_DC4B ; Bad Address

			      or a, #01h

loc_DC4B:						    ; CODE XREF: sub_DBDF:loc_DC46j
			      st a, unk_1EB		    ; Bad Address
			      ld d, var_inj_pw
			      add d, var_inj_battery_adjust
			      jsr divide_rD_32_saturate

			      st b, var_obd_inj		    ; Bad Address
			      ld d, var_iscv_unk_1A1
			      jsr divide_rD_4_saturate

			      st b, unk_1E7		    ; Bad Address

loc_DC63:						    ; CODE XREF: sub_DBDF:loc_DBFFj
			      jmp loc_DCE0		    ; Bad Address

; End of function sub_DBDF

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DC66:						    ; CODE XREF: sub_F7FA+64p
			      ld b, unk_1EE		    ; Bad Address
			      tbbc bit0, unk_4A, loc_DC95   ; Jump if trims valid

			      ld x, unk_1EC		    ; Bad Address
			      bne locret_DC9F

			      cmpz b
			      bmi locret_DC9F

			      ld y, #unk_DCA0
			      add y, b
			      inc b
			      inc b
			      st b, unk_1EE		    ; Bad Address
			      cmp b, #02h
			      bne loc_DC87

			      ld d, y +	00h
			      or a, #30h
			      bra loc_DC8F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DC87:						    ; CODE XREF: ROM:DC7Fj
			      ld y, y +	00h
			      beq loc_DC92

			      ld b, y +	00h
			      ld a, #03h

loc_DC8F:						    ; CODE XREF: ROM:DC85j
			      shl d
			      bra loc_DC9C		    ; Bad Address

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DC92:						    ; CODE XREF: ROM:DC89j
			      ld b, #0F0h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DC95:						    ; CODE XREF: ROM:DC69j
			      ld b, #0DEh
			      st b, unk_1EE
			      clr a
			      clr b

loc_DC9C:						    ; CODE XREF: ROM:DC90j
			      st d, unk_1EC		    ; Bad Address

locret_DC9F:						    ; CODE XREF: ROM:DC6Fj
							    ; ROM:DC72j
			      ret

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
unk_DCA0:		      .db  00h			    ; DATA XREF: ROM:DC74o
			      .db 0F1h ; ๑
			      .db  01h
			      .db 0E5h ; ๅ
			      .db  01h
			      .db 0E6h ; ๆ
			      .db  01h
			      .db 0E7h ; ็
			      .db  00h
			      .db  5Bh ; [
			      .db  00h
			      .db  50h ; P
			      .db  00h
			      .db  57h ; W
			      .db  00h
			      .db  52h ; R
			      .db  00h
			      .db  5Dh ; ]
			      .db  01h
			      .db  91h ; 
			      .db 0DCh ; 
			      .db 0BAh ; บ
			      .db  01h
			      .db 0EAh ; ๊
			      .db  01h
			      .db 0EBh ; ๋
			      .db  00h
			      .db  00h

;  S U B	R O U T	I N E 

; Bad Address

sub_DCBC:						    ; CODE XREF: int_watchdog+27p
			      ld a, unk_1EE
			      tbbc bit0, unk_4A, locret_DCDF

			      clrb bit2, SSD
			      cmpz a
			      bpz loc_DCD1		    ; Bad Address

			      inc a
			      st a, unk_1EE		    ; Bad Address
			      cmp a, #0F0h
			      blea loc_DCDA

			      bra loc_DCDD

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DCD1:						    ; CODE XREF: sub_DCBC+9j
			      ld d, unk_1EC		    ; Bad Address
			      shr d
			      st d, unk_1EC		    ; Bad Address
			      ble loc_DCDD


loc_DCDA:						    ; CODE XREF: sub_DCBC+11j
			      setb bit6, PORTA
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DCDD:						    ; CODE XREF: sub_DCBC+13j
							    ; sub_DCBC+1Cj
			      clrb bit6, PORTA

locret_DCDF:						    ; CODE XREF: sub_DCBC+3j
			      ret

; End of function sub_DCBC

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_DBDF

loc_DCE0:						    ; CODE XREF: sub_DBDF:loc_DC63j
			      ld a, unk_1FC		    ; Bad Address
			      st a, unk_4F
			      tbbc bit2, unk_4F, loc_DD2B

			      cmp #1Eh,	var_rpm_x_5p12
			      bcs loc_DD2B

			      cmp #64h,	var_speed_kph
			      bcc loc_DD2B

			      cmp #3Dh,	var_pim
			      bcs loc_DD2B

			      ld b, unk_84
			      cmpb b, #40h
			      bne loc_DD2B

			      ld b, unk_80
			      cmpb b, #08h
			      bne loc_DD2B

			      ld b, unk_80
			      cmpb b, #40h
			      bne loc_DD2B

			      ld b, unk_80
			      cmpb b, #20h
			      bne loc_DD2B

			      ld b, unk_82
			      cmpb b, #40h
			      bne loc_DD2B

			      tbbc bit4, unk_4F, loc_DD2B

			      ld x, unk_195
			      cmp x, #0131h
			      bcc loc_DD2B

			      ld a, unk_194
			      cmp a, #48h
			      bcs loc_DD2B

			      cmp a, #8Fh
			      bcs loc_DD2D


loc_DD2B:						    ; CODE XREF: sub_DBDF+106j
							    ; sub_DBDF+10Cj ...
			      clr unk_ED

loc_DD2D:						    ; CODE XREF: sub_DBDF+14Aj
			      cmp #3Ch,	unk_ED
			      bcs loc_DD3F

			      setb bit5, unk_4C
			      tbbc bit2, unk_46, loc_DD3F

			      ld b, unk_A0
			      or b, #20h
			      st b, unk_A0
			      setb bit5, var_diag_errors_5

loc_DD3F:						    ; CODE XREF: sub_DBDF+151j
							    ; sub_DBDF+155j
			      tbbc bit3, unk_40, loc_DD73

			      ld b, unk_193
			      cmp #0Ah,	unk_EE
			      bcc loc_DD65

			      ld a, unk_194
			      cmp a, #48h
			      bcc loc_DD53

			      setb bit5, unk_4F

loc_DD53:						    ; CODE XREF: sub_DBDF+170j
			      cmp a, #8Fh
			      bcs loc_DD7B

			      tbbc bit5, unk_4F, loc_DD7B

			      inc b
			      bne loc_DD5E

			      dec b

loc_DD5E:						    ; CODE XREF: sub_DBDF+17Cj
			      st b, unk_193
			      clrb bit5, unk_4F
			      bra loc_DD7B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DD65:						    ; CODE XREF: sub_DBDF+169j
			      cmp b, #04h
			      bcs loc_DD73

			      tbbs bit2, unk_46, loc_DD73

			      ld a, #0DFh
			      jsr sub_DECA

			      clrb bit5, unk_4C

loc_DD73:						    ; CODE XREF: sub_DBDF:loc_DD3Fj
							    ; sub_DBDF+188j ...
			      clr b
			      st b, unk_193
			      clrb bit5, unk_4F
			      clr unk_EE

loc_DD7B:						    ; CODE XREF: sub_DBDF+176j
							    ; sub_DBDF+178j ...
			      bra loc_DD9E

; END OF FUNCTION CHUNK	FOR sub_DBDF

;  S U B	R O U T	I N E 


sub_DD7D:						    ; CODE XREF: __RESET+8B2p
			      clrb bit4, unk_4F
			      ld x, unk_195
			      cmp x, #0003h
			      bcs loc_DD8E

			      cmp x, #0131h
			      bcc loc_DD8E

			      setb bit4, unk_4F

loc_DD8E:						    ; CODE XREF: sub_DD7D+8j
							    ; sub_DD7D+Dj
			      clr a
			      clr b
			      st d, unk_195
			      ret

; End of function sub_DD7D


;  S U B	R O U T	I N E 


sub_DD94:						    ; CODE XREF: __RESET+AC7p
			      ld x, unk_195
			      inc x
			      beq locret_DD9D

			      st x, unk_195

locret_DD9D:						    ; CODE XREF: sub_DD94+4j
			      ret

; End of function sub_DD94

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_DBDF

loc_DD9E:						    ; CODE XREF: sub_DBDF:loc_DD7Bj
			      ld a, unk_4F
			      st a, unk_1FC		    ; Bad Address
			      ld a, var_speed_kph
			      bne loc_DDCB

			      cmp #3Ah,	var_rpm_x_5p12
			      bcs loc_DDCD

			      cmp #64h,	var_rpm_x_5p12
			      bcc loc_DDCD

			      cmp #48h,	var_pim
			      bcs loc_DDCD

			      cmp #0E4h, var_ect
			      ble loc_DDCD

			      tbbs bit6, var_limit_flags, loc_DDCD

			      ld a, unk_80
			      cmpb a, #08h
			      bne loc_DDCD

			      ld a, unk_80
			      cmpb a, #20h
			      beq loc_DDCF

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DDCB:						    ; CODE XREF: sub_DBDF+1C6j
			      clrb bit6, var_error_flags1

loc_DDCD:						    ; CODE XREF: sub_DBDF+1CBj
							    ; sub_DBDF+1D0j ...
			      clr unk_E4

loc_DDCF:						    ; CODE XREF: sub_DBDF+1E9j
			      cmp #7Ah,	unk_E4
			      bcs loc_DDD6

			      setb bit6, var_error_flags1

loc_DDD6:						    ; CODE XREF: sub_DBDF+1F3j
			      cmp #05h,	var_speed_kph
			      bcs loc_DDDD

			      clrb bit3, var_diag_errors_5

loc_DDDD:						    ; CODE XREF: sub_DBDF+1FAj
			      tbbc bit2, unk_4D, loc_DDFF

			      cmp #1Eh,	var_rpm_x_5p12
			      bcs loc_DDFF

			      cmp #64h,	var_speed_kph
			      bcc loc_DDFF

			      cmp #0DCh, var_ect
			      bcs loc_DDFF

			      ld a, unk_80
			      cmpb a, #40h
			      bne loc_DDFF

			      ld a, unk_80
			      cmpb a, #08h
			      bne loc_DDFF

			      ld a, unk_5F
			      bpz loc_DE01


loc_DDFF:						    ; CODE XREF: sub_DBDF:loc_DDDDj
							    ; sub_DBDF+204j ...
			      clr unk_EF

loc_DE01:						    ; CODE XREF: sub_DBDF+21Ej
			      cmp #5Ah,	unk_EF
			      bcs loc_DE13

			      setb bit6, unk_4C
			      tbbc bit2, unk_46, loc_DE13

			      ld a, unk_A0
			      or a, #40h
			      st a, unk_A0
			      setb bit5, var_diag_errors_5

loc_DE13:						    ; CODE XREF: sub_DBDF+225j
							    ; sub_DBDF+229j
			      ld a, unk_5F
			      bpz loc_DE21		    ; Bad Address

			      tbbs bit2, unk_46, loc_DE21   ; Bad Address

			      clrb bit6, unk_4C
			      ld a, #0BFh
			      jsr sub_DECA


loc_DE21:						    ; CODE XREF: sub_DBDF+236j
							    ; sub_DBDF+238j
			      ld a, unk_1EF		    ; Bad Address
			      st a, unk_4E
			      tbbs bit4, PORTB,	loc_DE38    ; Port B Data Register

			      tbbs bit6, var_io_input1,	loc_DE34

			      cmp #08h,	unk_E5
			      bcs loc_DE3A

			      setb bit2, unk_4C
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DE34:						    ; CODE XREF: sub_DBDF+24Aj
			      clrb bit2, unk_4C
			      setb bit2, unk_4E

loc_DE38:						    ; CODE XREF: sub_DBDF+247j
			      clr unk_E5

loc_DE3A:						    ; CODE XREF: sub_DBDF+250j
			      ld a, unk_4E
			      st a, unk_1EF		    ; Bad Address
			      tbbc bit2, unk_46, loc_DE59

			      tbbc bit7, var_io_input1,	loc_DE59

			      tbbs bit0, var_io_input1,	loc_DE59

			      cmp #5Ch,	var_cnt_startup
			      bcs loc_DE50

			      tbbc bit5, unk_4A, loc_DE56


loc_DE50:						    ; CODE XREF: sub_DBDF+26Cj
			      tbbs bit1, var_io_input1,	loc_DE56

			      tbbs bit6, var_flags_42, loc_DE59


loc_DE56:						    ; CODE XREF: sub_DBDF+26Ej
							    ; sub_DBDF:loc_DE50j
			      setb bit7, unk_4C
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DE59:						    ; CODE XREF: sub_DBDF+260j
							    ; sub_DBDF+263j ...
			      clrb bit7, unk_4C
			      tbbc bit0, var_io_input1,	loc_DE60

			      clrb bit5, unk_4D

loc_DE60:						    ; CODE XREF: sub_DBDF+27Cj
			      di
			      ld d, var_error_flags1
			      tbbc bit5, RAMST,	loc_DE6B    ; Built-in RAM status

			      cmp #7Ah,	unk_BE
			      bgt loc_DE70


loc_DE6B:						    ; CODE XREF: sub_DBDF+284j
			      clrb bit4, unk_4D
			      clr a
			      bra loc_DE85

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DE70:						    ; CODE XREF: sub_DBDF+28Aj
			      tbbs bit5, PORTAL, loc_DE83   ; Port A Latch

			      tbbs bit5, PORTA,	loc_DE83    ; Port A Data Register

			      cmp #7Ah,	unk_BD
			      ble loc_DE83

			      tbbs bit0, var_io_input1,	loc_DE83

			      cmp #7Ah,	unk_BF
			      bgt loc_DE8B


loc_DE83:						    ; CODE XREF: sub_DBDF:loc_DE70j
							    ; sub_DBDF+294j ...
			      and a, #85h

loc_DE85:						    ; CODE XREF: sub_DBDF+28Fj
			      and b, #01h
			      st d, var_error_flags1
			      clrb bit5, var_diag_errors_5

loc_DE8B:						    ; CODE XREF: sub_DBDF+2A2j
			      st d, unk_76
			      tbbc bit5, var_diag_errors_5, loc_DE92

			      setb bit1, unk_4D

loc_DE92:						    ; CODE XREF: sub_DBDF+2AEj
			      ei
			      jsr check_IGF_error

			      push a
			      mov b, a
			      and b, #07h
			      ld x, #0082h
			      or b, x +	00h
			      and a, unk_A0
			      and a, #60h
			      st a, var_temp
			      or b, var_temp
			      jsr sub_D341

			      pull b
			      and b, #0FFh
			      ld x, #0080h
			      or b, x +	00h
			      jsr sub_D341

			      ld b, var_rpm_unk_77
			      and b, #60h
			      or b, unk_84
			      ld x, #0084h
			      jsr sub_D341

			      bra loc_DED8

; END OF FUNCTION CHUNK	FOR sub_DBDF

;  S U B	R O U T	I N E 


sub_DEC3:						    ; CODE XREF: __RESET+FAp
			      ld a, unk_84
			      and a, #60h
			      st a, unk_A0
			      ret

; End of function sub_DEC3


;  S U B	R O U T	I N E 


sub_DECA:						    ; CODE XREF: sub_DBDF+18Fp
							    ; sub_DBDF+23Fp
			      mov a, b
			      and a, unk_A0
			      st a, unk_A0
			      ld x, #0084h
			      and b, x + 00h
			      jsr sub_D341

			      ret

; End of function sub_DECA

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_DBDF

loc_DED8:						    ; CODE XREF: sub_DBDF+2E2j
			      ld a, unk_1FC
			      st a, unk_4F
			      tbbs bit7, var_io_input1,	loc_DEF3

			      tbbc bit3, unk_40, loc_DF05

			      tbbc bit2, unk_4F, loc_DF07

			      ld b, unk_191
			      cmp b, #0E6h
			      bcc loc_DF0A

			      cmp b, #1Ah
			      ble loc_DF05

			      bra loc_DF07

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DEF3:						    ; CODE XREF: sub_DBDF+2FEj
			      tbbs bit5, unk_4A, loc_DEFF

			      tbbc bit3, unk_40, loc_DF05

			      ld a, unk_5F
			      bmi loc_DF0A

			      bra loc_DF05

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DEFF:						    ; CODE XREF: sub_DBDF:loc_DEF3j
			      clr a
			      jsr sub_DFEF

			      beq loc_DF0A


loc_DF05:						    ; CODE XREF: sub_DBDF+301j
							    ; sub_DBDF+310j ...
			      clr a
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF07:						    ; CODE XREF: sub_DBDF+304j
							    ; sub_DBDF+312j
			      ld a, #08h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF0A:						    ; CODE XREF: sub_DBDF+30Cj
							    ; sub_DBDF+31Cj ...
			      ld a, #10h
			      st a, unk_190
			      bra loc_DF25

; END OF FUNCTION CHUNK	FOR sub_DBDF

;  S U B	R O U T	I N E 


sub_DF11:						    ; CODE XREF: sub_F7FA+Cp
			      tbbs bit0, unk_4A, locret_DF24

			      setb bit2, SSD
			      ld a, TIMER		    ; Timer MSB	(bit11~bit18)
			      and a, #0Ch
			      cmp a, unk_190
			      bcs loc_DF22

			      setb bit6, PORTA
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF22:						    ; CODE XREF: sub_DF11+Cj
			      clrb bit6, PORTA

locret_DF24:						    ; CODE XREF: sub_DF11j
			      ret

; End of function sub_DF11

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_DBDF

loc_DF25:						    ; CODE XREF: sub_DBDF+330j
			      tbbs bit5, RAMST,	loc_DF2B    ; Built-in RAM status

			      jmp loc_DFD7

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF2B:						    ; CODE XREF: sub_DBDF:loc_DF25j
			      tbbs bit7, var_io_input1,	loc_DF31

			      tbbc bit0, unk_4D, loc_DF98


loc_DF31:						    ; CODE XREF: sub_DBDF:loc_DF2Bj
			      ld a, unk_A9
			      inc a
			      beq loc_DF5C

			      ld b, unk_18F
			      inc b
			      bne loc_DF6A

			      ld a, unk_A8
			      beq loc_DF5C

			      dec a
			      beq loc_DF4F

			      ld b, #78h
			      cmpb a, #0Fh
			      bne loc_DF94

			      mul a, #10h
			      ld b, #69h
			      bra loc_DF94

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF4F:						    ; CODE XREF: sub_DBDF+362j
			      st a, unk_A8
			      ld a, unk_A9
			      jsr sub_DFEF

			      beq loc_DF65

			      ld b, #5Ah
			      bra loc_DF86

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF5C:						    ; CODE XREF: sub_DBDF+355j
							    ; sub_DBDF+35Fj
			      jsr sub_DFEF

			      bne loc_DF65

			      ld b, #7Ch
			      bra loc_DF84

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF65:						    ; CODE XREF: sub_DBDF+377j
							    ; sub_DBDF+380j
			      clr a
			      ld b, #3Bh
			      bra loc_DF86

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF6A:						    ; CODE XREF: sub_DBDF+35Bj
			      bvc loc_DFE3

			      ld a, unk_A8
			      bne loc_DF92

			      st a, unk_18F
			      tbbc bit7, var_io_input1,	loc_DF98

			      setb bit0, unk_4D
			      ld a, unk_A9
			      bmi loc_DF82

			      bne loc_DF8A

			      bsr sub_DFEF

			      bne loc_DF8A


loc_DF82:						    ; CODE XREF: sub_DBDF+39Bj
			      ld b, #0FCh

loc_DF84:						    ; CODE XREF: sub_DBDF+384j
			      ld a, #80h

loc_DF86:						    ; CODE XREF: sub_DBDF+37Bj
							    ; sub_DBDF+389j
			      st a, unk_A9
			      bra loc_DFE3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF8A:						    ; CODE XREF: sub_DBDF+39Dj
							    ; sub_DBDF+3A1j
			      st a, unk_A9
			      ld y, #loc_E016
			      add y, a
			      ld a, y +	02h

loc_DF92:						    ; CODE XREF: sub_DBDF+38Fj
			      ld b, #0F8h

loc_DF94:						    ; CODE XREF: sub_DBDF+368j
							    ; sub_DBDF+36Ej
			      st a, unk_A8
			      bra loc_DFE3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DF98:						    ; CODE XREF: sub_DBDF+34Fj
							    ; sub_DBDF+394j
			      tbbc bit2, unk_46, loc_DFB9

			      tbbc bit1, unk_40, loc_DFB9

			      ld b, unk_18F
			      cmp b, #7Eh
			      bcc loc_DFA7

			      ld b, #7Fh

loc_DFA7:						    ; CODE XREF: sub_DBDF+3C4j
			      cmp b, #0FEh
			      bgea loc_DFAD

			      ld b, #0FFh

loc_DFAD:						    ; CODE XREF: sub_DBDF+3CAj
			      inc b
			      beq loc_DFB5

			      bvc loc_DFB7

			      ld b, #0FEh
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DFB5:						    ; CODE XREF: sub_DBDF+3CFj
			      ld b, #7Eh

loc_DFB7:						    ; CODE XREF: sub_DBDF+3D1j
			      bra loc_DFDC

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DFB9:						    ; CODE XREF: sub_DBDF:loc_DF98j
							    ; sub_DBDF+3BCj
			      tbbc bit2, unk_46, loc_DFC1

			      ld b, #0FEh
			      tbbs bit1, unk_4D, loc_DFDC


loc_DFC1:						    ; CODE XREF: sub_DBDF:loc_DFB9j
			      ld b, #0B4h
			      ld a, unk_76
			      and a, #0AFh
			      bne loc_DFDC

			      ld a, var_rpm_unk_77
			      and a, #19h
			      bne loc_DFDC

			      ld b, unk_18F
			      inc b
			      bpz loc_DFD7

			      bvc loc_DFDC


loc_DFD7:						    ; CODE XREF: sub_DBDF+349j
							    ; sub_DBDF+3F4j
			      clr b
			      tbbc bit1, unk_40, loc_DFDC

			      dec b

loc_DFDC:						    ; CODE XREF: sub_DBDF:loc_DFB7j
							    ; sub_DBDF+3DFj ...
			      clrb bit0, unk_4D
			      ld #0FFh,	unk_A9
			      clr unk_A8

loc_DFE3:						    ; CODE XREF: sub_DBDF:loc_DF6Aj
							    ; sub_DBDF+3A9j ...
			      st b, unk_18F
			      bpz loc_DFEB

			      setb bit5, PORTB
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_DFEB:						    ; CODE XREF: sub_DBDF+407j
			      clrb bit5, PORTB
			      bra locret_E04C

; END OF FUNCTION CHUNK	FOR sub_DBDF

;  S U B	R O U T	I N E 


sub_DFEF:						    ; CODE XREF: sub_DBDF+4Bp
							    ; sub_DBDF+321p ...
			      ld y, #off_E019 +	3
			      add a, #03h
			      add y, a
			      cmp a, #33h
			      bgt loc_E016

			      ld x, #0000h
			      ld b, y +	00h
			      add x, b
			      ld b, y +	01h
			      cmpb b, x	+ 00h
			      beq sub_DFEF


loc_E005:						    ; CODE XREF: sub_DFEF+25j
			      cmp a, #33h
			      bcc loc_E017

			      ld b, y +	02h
			      cmp b, y + 05h
			      bne loc_E017

			      add a, #03h
			      inc y
			      inc y
			      inc y
			      bra loc_E005

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E016:						    ; CODE XREF: sub_DFEF+8j
							    ; DATA XREF: sub_DBDF+3ADo
			      clr a

loc_E017:						    ; CODE XREF: sub_DFEF+18j
							    ; sub_DFEF+1Ej
			      cmpz a
			      ret

; End of function sub_DFEF

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
off_E019:		      .db unk_80		    ; DATA XREF: sub_DFEFt
			      .db 01h
			      .db 21h
			      .db unk_80
			      .db 80h
			      .db 21h
			      .db unk_80
			      .db 02h
			      .db 31h
			      .db unk_80
			      .db 04h
			      .db 41h
			      .db unk_82
			      .db 20h
			      .db 12h
			      .db unk_82
			      .db 04h
			      .db 12h
			      .db unk_80
			      .db 08h
			      .db 22h
			      .db unk_80
			      .db 10h
			      .db 42h
			      .db unk_82
			      .db 40h
			      .db 52h
			      .db unk_80
			      .db 20h
			      .db 13h
			      .db unk_82
			      .db 02h
			      .db 14h
			      .db unk_80
			      .db 40h
			      .db 24h
			      .db var_diag_errors_5
			      .db 08h
			      .db 24h
			      .db unk_4D
			      .db 20h
			      .db 34h
			      .db unk_4C
			      .db 80h
			      .db 15h
			      .db unk_82
			      .db 01h
			      .db 25h
			      .db unk_4C
			      .db 10h
			      .db 35h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_DBDF

locret_E04C:						    ; CODE XREF: sub_DBDF+40Ej
			      ret

; END OF FUNCTION CHUNK	FOR sub_DBDF
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E04D:						    ; CODE XREF: __RESET:loc_DBDCj
			      jmp loc_E23D

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E050:						    ; CODE XREF: __RESET+19D5p

; FUNCTION CHUNK AT E1AE SIZE 0000008F BYTES

			      tbbc bit7, var_io_input1,	loc_E074

			      ld a, var_io_input1
			      and a, #03h
			      cmp a, #03h
			      bne loc_E076

			      tbbc bit6, unk_4A, loc_E076

			      ld a, unk_15E
			      cmp a, #9Ah
			      bcs loc_E076

			      ld d, var_rpm_x_5p12
			      bne loc_E076

			      ld a, var_speed_kph
			      cmp a, #0AAh
			      bcs loc_E076

			      tbbs bit5, unk_4A, loc_E079

			      bra loc_E076

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E074:						    ; CODE XREF: sub_E050j
			      clrb bit0, unk_40

loc_E076:						    ; CODE XREF: sub_E050+9j
							    ; sub_E050+Bj ...
			      jmp loc_E1AE

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E079:						    ; CODE XREF: sub_E050+1Fj
			      di
			      clr a
			      clr b
			      st d, IMASK		    ; Interrupt	Request	Mask MSB
			      clr DOM			    ; DOUT Control Register

loc_E080:						    ; CODE XREF: sub_E050+66j
			      tbbs bit4, var_io_input1,	loc_E098

			      tbbc bit7, PORTC,	loc_E0B9    ; Port C Data Register

			      setb bit2, SSD
			      ld #7Dh, PORTA		    ; Port A Data Register
			      ld #5Fh, PORTB		    ; Port B Data Register
			      ld #05h, PORTD_ASRIN	    ; Port D Data Register / ASR Input Data
			      ld d, #0FFFFh
			      st d, ASR1N		    ; ASR1 neg edge counter value MSB
			      bra loc_E0A7

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E098:						    ; CODE XREF: sub_E050:loc_E080j
			      setb bit2, SSD
			      ld #0ABh,	PORTA		    ; Port A Data Register
			      ld #0AFh,	PORTB		    ; Port B Data Register
			      ld #0Bh, PORTD_ASRIN	    ; Port D Data Register / ASR Input Data
			      clr a
			      clr b
			      st d, ASR1N		    ; ASR1 neg edge counter value MSB

loc_E0A7:						    ; CODE XREF: sub_E050+46j
			      ld x, #0F7B5h

loc_E0AA:						    ; CODE XREF: sub_E050+5Bj
			      inc x
			      bne loc_E0AA

			      jsr sub_E154

			      ld x, #0F7ABh

loc_E0B3:						    ; CODE XREF: sub_E050+64j
			      inc x
			      bne loc_E0B3

			      jmp loc_E080

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E0B9:						    ; CODE XREF: sub_E050+33j
			      ld #2Ch, PORTA		    ; Port A Data Register
			      ld #09h, PORTB		    ; Port B Data Register
			      ld #04h, PORTD_ASRIN	    ; Port D Data Register / ASR Input Data
			      ld #0Ch, DOUT		    ; DOUT Data	Register
			      div d, #00h
			      div d, #00h
			      clrb bit2, DOM
			      setb bit0, PORTD_ASRIN
			      ld b, #2Fh

loc_E0CF:						    ; CODE XREF: sub_E050+80j
			      dec b
			      bne loc_E0CF

			      inc b
			      ld #27h, PORTB		    ; Port B Data Register
			      tbbs bit0, IRQLL,	loc_E0DF    ; Interrupt	Request	Flag LSB

			      tbbs bit0, PORTC,	loc_E0DF    ; Port C Data Register

			      tbbs bit5, PORTC,	loc_E0E1    ; Port C Data Register


loc_E0DF:						    ; CODE XREF: sub_E050+86j
							    ; sub_E050+89j
			      bra loc_E130

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E0E1:						    ; CODE XREF: sub_E050+8Cj
							    ; sub_E050+101j
			      setb bit5, PORTB
			      clr a

loc_E0E4:						    ; CODE XREF: sub_E050+B1j
			      mov a, b
			      ld y, #unk_40

loc_E0E8:						    ; CODE XREF: sub_E050+9Dj
			      st a, [y]
			      inc a
			      cmp y, #unk_300
			      bcs loc_E0E8

			      ld y, #unk_40

loc_E0F2:						    ; CODE XREF: sub_E050+AAj
			      ld a, [y]
			      cmp a, b
			      bne loc_E12F

			      inc b
			      cmp y, #unk_300
			      bcs loc_E0F2

			      jsr sub_E154

			      inc b
			      mov b, a
			      bne loc_E0E4

			      ld x, #unk_C000
			      clr a
			      clr b

loc_E108:						    ; CODE XREF: sub_E050+C8j
			      ld y, #var_gearing

loc_E10B:						    ; CODE XREF: sub_E050+C0j
			      add d, x + 00h
			      inc x
			      inc x
			      dec y
			      bne loc_E10B

			      jsr sub_E154

			      cmp x, #0000h
			      bne loc_E108

			      cmp d, #0AA55h
			      ;bne loc_E12F
			      brn loc_E12F

			      tbbc bit0, IRQLL,	loc_E130    ; Interrupt	Request	Flag LSB

			      tbbc bit0, PORTC,	loc_E130    ; Port C Data Register

			      tbbs bit5, PORTC,	loc_E130    ; Port C Data Register

			      shl b
			      clrb bit5, PORTB
			      ld a, #19h
			      bra loc_E142

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E12F:						    ; CODE XREF: sub_E050+A4j
							    ; sub_E050+CDj
			      clr b

loc_E130:						    ; CODE XREF: sub_E050:loc_E0DFj
							    ; sub_E050+CFj ...
			      tbs bit5,	PORTB		    ; Port B Data Register
			      beq loc_E136

			      clrb bit5, PORTB

loc_E136:						    ; CODE XREF: sub_E050+E2j
			      ld a, #7Dh
			      cmpz b
			      beq loc_E142

			      cmp b, #0FFh
			      bne loc_E141

			      ld a, #5Eh

loc_E141:						    ; CODE XREF: sub_E050+EDj
			      shl a

loc_E142:						    ; CODE XREF: sub_E050+DDj
							    ; sub_E050+E9j ...
			      ld x, #0F7B5h

loc_E145:						    ; CODE XREF: sub_E050+F6j
			      inc x
			      bne loc_E145

			      bsr sub_E154

			      dec a
			      bne loc_E142

			      cmp b, #0AAh
			      bne loc_E130

			      jmp loc_E0E1

; End of function sub_E050


;  S U B	R O U T	I N E 


sub_E154:						    ; CODE XREF: sub_E050+5Dp
							    ; sub_E050+ACp ...
			      push b
			      tbs bit0,	PORTA		    ; Port A Data Register
			      beq loc_E15B

			      clrb bit0, PORTA

loc_E15B:						    ; CODE XREF: sub_E154+3j
			      ld b, SSD			    ; Serial Status Data Register
			      ld b, SIDR_SODR		    ; Serial Input/Output Data Register
			      clrb bit3, PORTA
			      ld b, #0Ah

loc_E163:						    ; CODE XREF: sub_E154+13j
			      tbbs bit7, SSD, loc_E16D	    ; Serial Status Data Register

			      dec b
			      bne loc_E163


loc_E169:						    ; CODE XREF: sub_E154:loc_E16Dj
			      setb bit3, PORTA
			      bra loc_E189

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E16D:						    ; CODE XREF: sub_E154:loc_E163j
			      tbbs bit6, SSD, loc_E169	    ; Serial Status Data Register

			      ld b, SIDR_SODR		    ; Serial Input/Output Data Register
			      setb bit3, PORTA
			      xor b, #8Ah
			      st b, var_io_input1
			      and b, #03h
			      cmp b, #03h
			      bne loc_E189

			      tbbs bit4, PORTC,	loc_E189    ; Port C Data Register

			      tbbc bit7, var_io_input1,	loc_E189

			      tbbs bit4, PBCS, loc_E189	    ; Port B Control Register

			      pull b
			      ret

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E189:						    ; CODE XREF: sub_E154+17j
							    ; sub_E154+28j ...
			      ld y, #unk_40
			      clr a
			      clr b
			      st d, IRQL		    ; Interrupt	Request	Flag MSB

loc_E190:						    ; CODE XREF: sub_E154+40j
			      st d, [y]
			      cmp y, #unk_2FF
			      ble loc_E190

			      ld s, #unk_2FF
			      ld #08h, PORTA		    ; Port A Data Register
			      ld #41h, PORTB		    ; Port B Data Register
			      ld #00h, PORTD_ASRIN	    ; Port D Data Register / ASR Input Data
			      ld #04h, DOUT		    ; DOUT Data	Register
			      clr a
			      clr b
			      st d, ASR1N		    ; ASR1 neg edge counter value MSB
			      setb bit0, unk_40
			      jmp loc_C94D

; End of function sub_E154

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_E050

loc_E1AE:						    ; CODE XREF: sub_E050:loc_E076j
			      tbbs bit0, unk_40, loc_E1B4

			      jmp locret_E23C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E1B4:						    ; CODE XREF: sub_E050:loc_E1AEj
			      clr a
			      tbbs bit5, PORTAL, loc_E1BB   ; Port A Latch

			      tbbc bit5, PORTA,	loc_E1BD    ; Port A Data Register


loc_E1BB:						    ; CODE XREF: sub_E050+165j
			      or a, #10h

loc_E1BD:						    ; CODE XREF: sub_E050+168j
			      tbbc bit2, var_io_input1,	loc_E1C2

			      or a, #20h

loc_E1C2:						    ; CODE XREF: sub_E050:loc_E1BDj
			      tbbc bit3, var_io_input1,	loc_E1C7

			      or a, #40h

loc_E1C7:						    ; CODE XREF: sub_E050:loc_E1C2j
			      tbbc bit5, var_io_input1,	loc_E1CC

			      or a, #80h

loc_E1CC:						    ; CODE XREF: sub_E050:loc_E1C7j
			      ld b, var_ect
			      cmp b, #2Fh
			      bcs loc_E237

			      clr a
			      ld b, SMRC_SIR		    ; Serial Master Register Control
			      cmpb b, #02h
			      beq loc_E1DB

			      or a, #40h

loc_E1DB:						    ; CODE XREF: sub_E050+187j
			      tbbc bit1, PORTC,	loc_E1E0    ; Port C Data Register

			      or a, #10h

loc_E1E0:						    ; CODE XREF: sub_E050:loc_E1DBj
			      tbbc bit2, PORTC,	loc_E1E5    ; Port C Data Register

			      or a, #20h

loc_E1E5:						    ; CODE XREF: sub_E050:loc_E1E0j
			      tbbc bit0, unk_4A, loc_E1EA

			      or a, #80h

loc_E1EA:						    ; CODE XREF: sub_E050:loc_E1E5j
			      ld b, var_ect
			      cmp b, #45h
			      bcs loc_E237

			      ld a, unk_108
			      cmp b, #5Eh
			      bcs loc_E233

			      ld a, unk_54
			      cmp b, #78h
			      bcs loc_E233

			      ld a, var_tha
			      cmp b, #92h
			      bcs loc_E237

			      ld a, unk_52
			      cmp b, #0A9h
			      bcs loc_E237

			      ld a, unk_194
			      cmp b, #0BCh
			      bcs loc_E237

			      ld a, #40h
			      cmp b, #0CBh
			      bcs loc_E237

			      ld a, var_speed_kph
			      cmp b, #0D7h
			      bcs loc_E237

			      ld a, unk_109
			      cmp b, #0E0h
			      bcs loc_E233

			      ld a, unk_107
			      cmp b, #0E8h
			      bcs loc_E233

			      ld a, #68h
			      cmp b, #0EDh
			      bcs loc_E237

			      ld a, unk_10A

loc_E233:						    ; CODE XREF: sub_E050+1A5j
							    ; sub_E050+1ABj ...
			      and a, #0F0h
			      add a, #08h

loc_E237:						    ; CODE XREF: sub_E050+180j
							    ; sub_E050+19Ej ...
			      mul a, #04h
			      st d, var_iscv_unk_1A1

locret_E23C:						    ; CODE XREF: sub_E050+161j
			      ret

; END OF FUNCTION CHUNK	FOR sub_E050
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E23D:						    ; CODE XREF: __RESET:loc_E04Dj
			      tbs bit7,	unk_41
			      beq loc_E244

			      jmp loc_E2AE

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E244:						    ; CODE XREF: __RESET+1969j
			      ld d, #0DD0Ah
			      jsr increment_counters

			      jsr sub_E455

			      jsr sub_CD46

			      jsr sub_EC1E

			      ld a, unk_1F9
			      st a, unk_4E
			      jsr sub_D62E

			      jsr sub_D537

			      jsr sub_D0A7

			      jsr sub_FAE4

			      jsr sub_DBDF

			      ld a, unk_1EF
			      st a, unk_4E
			      tbbc bit2, unk_4E, loc_E294

			      ld a, unk_159
			      tbbc bit4, PORTB,	loc_E27B    ; Port B Data Register

			      cmp a, #28h
			      bcc loc_E294

			      bra loc_E28A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E27B:						    ; CODE XREF: __RESET+199Cj
			      cmp #78h,	var_speed_kph
			      bcs loc_E286

			      cmp a, #0Ah
			      bcc loc_E294

			      bra loc_E28A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E286:						    ; CODE XREF: __RESET+19A8j
			      cmp a, #1Ch
			      bcc loc_E294


loc_E28A:						    ; CODE XREF: __RESET+19A3j
							    ; __RESET+19AEj
			      cmp #51h,	var_ect
			      bcs loc_E294

			      cmp #3Dh,	var_cnt_startup
			      bcc loc_E296


loc_E294:						    ; CODE XREF: __RESET+1996j
							    ; __RESET+19A1j ...
			      clr unk_E1

loc_E296:						    ; CODE XREF: __RESET+19BCj
			      ld a, #4Ch
			      cmp #78h,	var_speed_kph
			      bcc loc_E29F

			      ld a, #0Fh

loc_E29F:						    ; CODE XREF: __RESET+19C5j
			      cmp a, unk_E1
			      bgt loc_E2A9

			      setb bit4, PORTB
			      ld #0FEh,	unk_E1
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E2A9:						    ; CODE XREF: __RESET+19CBj
			      clrb bit4, PORTB
			      jsr sub_E050


loc_E2AE:						    ; CODE XREF: __RESET+196Bj
			      jsr loc_E5AF

			      ld y, #unk_C279
			      jsr table_ect_fixed_32_interpolate

			      push d
			      ld b, var_rpm_div_25
			      ld y, #unk_C282
			      jsr table_rB_fixed_32_interpolate

			      mov a, b
			      pull x
			      jsr mult_rBrX2

			      st a, unk_119
			      clr a
			      clr b
			      tbbs bit0, unk_40, loc_E2E3

			      tbbc bit1, unk_40, loc_E2EE

			      ld y, #unk_C23C
			      jsr table_ect_fixed_32_interpolate

			      cmp #0EDh, var_ect
			      bcs loc_E2E3

			      cmp #0E0h, var_tha
			      bcs loc_E2E3

			      ld d, #0666h

loc_E2E3:						    ; CODE XREF: __RESET+19F4j
							    ; __RESET+1A03j ...
			      st d, unk_60
			      ld y, #unk_C245
			      jsr table_ect_pair_interpolate

			      st a, unk_121

loc_E2EE:						    ; CODE XREF: __RESET+19F7j
			      bra loc_E2FD

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E2F0:						    ; CODE XREF: __RESET+AE4p
			      ld x, unk_60
			      beq locret_E2FC

			      ld a, unk_121
			      jsr mult_rArX

			      st d, unk_60

locret_E2FC:						    ; CODE XREF: sub_E2F0+2j
			      ret

; End of function sub_E2F0

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E2FD:						    ; CODE XREF: __RESET:loc_E2EEj
			      clr a
			      clr b
			      tbbs bit0, unk_40, loc_E30D

			      tbbc bit1, unk_40, loc_E310

			      ld y, #unk_C250
			      ld b, var_ect
			      jsr table_rB_fixed_16_interpolate


loc_E30D:						    ; CODE XREF: __RESET+1A29j
			      st d, unk_11A

loc_E310:						    ; CODE XREF: __RESET+1A2Cj
			      bra loc_E339

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E312:						    ; CODE XREF: __RESET+ABEp
			      cmp #4Ch,	unk_CC
			      bcc loc_E31C

			      cmp #52h,	var_pim
			      bcc locret_E329


loc_E31C:						    ; CODE XREF: sub_E312+3j
			      ld a, #0FBh
			      ld x, unk_11A
			      beq locret_E329

			      jsr mult_rArX

			      st d, unk_11A

locret_E329:						    ; CODE XREF: sub_E312+8j
							    ; sub_E312+Fj
			      ret

; End of function sub_E312


;  S U B	R O U T	I N E 


sub_E32A:						    ; CODE XREF: __RESET:loc_E516p
			      ld d, var_pim
			      div d, #9Ch
			      bcc loc_E332

			      ld b, #0FFh

loc_E332:						    ; CODE XREF: sub_E32A+4j
			      mov b, a
			      mul a, unk_11A
			      mul a, #08h
			      ret

; End of function sub_E32A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E339:						    ; CODE XREF: __RESET:loc_E310j
			      clr a
			      clr b
			      tbbs bit0, unk_40, loc_E360

			      tbbc bit1, unk_40, loc_E38C

			      cmp #0Fh,	var_ect
			      bcs loc_E360

			      cmp #0C4h, var_ect
			      bcc loc_E360

			      ld y, #unk_C25E
			      jsr table_ect_fixed_32_interpolate

			      mov d, x
			      ld a, unk_96
			      tbbs bit0, var_flags_42, loc_E359

			      ld a, #00h

loc_E359:						    ; CODE XREF: __RESET+1A7Ej
			      clr b
			      jsr divide_rD_64

			      jsr mult_rDrX


loc_E360:						    ; CODE XREF: __RESET+1A65j
							    ; __RESET+1A6Ej ...
			      st d, unk_11C
			      bra loc_E38C

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E365:						    ; CODE XREF: __RESET:loc_D3CFp
			      ld d, unk_11C
			      beq locret_E38B

			      ld y, #unk_C266
			      ld b, var_ect
			      cmp #51h,	var_ect
			      ble loc_E377

			      add b, #51h
			      rorc b

loc_E377:						    ; CODE XREF: sub_E365+Dj
			      jsr table_rB_fixed_16_interpolate

			      cmp a, unk_EA
			      bgt locret_E38B

			      ld d, unk_11C
			      sub d, #0003h
			      bcc loc_E388

			      clr a
			      clr b

loc_E388:						    ; CODE XREF: sub_E365+1Fj
			      st d, unk_11C

locret_E38B:						    ; CODE XREF: sub_E365+3j
							    ; sub_E365+17j
			      ret

; End of function sub_E365

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E38C:						    ; CODE XREF: __RESET+1A68j
							    ; __RESET+1A8Dj
			      ld a, unk_1FA
			      st a, unk_4E
			      clr a
			      clr b
			      tbbs bit0, unk_40, loc_E3C4

			      tbbc bit1, unk_40, loc_E3A8

			      cmp #0BCh, var_ect
			      bcs loc_E3C4

			      ld y, #unk_C271
			      ld b, var_tha
			      jsr table_rB_fixed_16_interpolate

			      bra loc_E3C4

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E3A8:						    ; CODE XREF: __RESET+1AC0j
			      ld d, unk_11E
			      cmp #5Ah,	unk_EC
			      bcs loc_E3C7

			      tbs bit0,	unk_4E
			      bne loc_E3C7

			      tbbc bit4, unk_40, loc_E3C7

			      add d, #0F5Ch
			      bcs loc_E3C1

			      cmp d, #2666h
			      ble loc_E3C4


loc_E3C1:						    ; CODE XREF: __RESET+1AE4j
			      ld d, #2666h

loc_E3C4:						    ; CODE XREF: __RESET+1ABDj
							    ; __RESET+1AC6j ...
			      st d, unk_11E

loc_E3C7:						    ; CODE XREF: __RESET+1AD8j
							    ; __RESET+1ADCj ...
			      bra loc_E3E2

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E3C9:						    ; CODE XREF: __RESET+1C5Ap
			      tbbc bit7, PORTA,	locret_E3D3 ; Port A Data Register

			      cmp #0C9h, var_tha
			      ble locret_E3D3

			      mul a, #80h

locret_E3D3:						    ; CODE XREF: sub_E3C9j
							    ; sub_E3C9+6j
			      ret

; End of function sub_E3C9


;  S U B	R O U T	I N E 


sub_E3D4:						    ; CODE XREF: __RESET+AE7p
			      ld x, unk_11E
			      beq locret_E3E1

			      ld a, #0F0h
			      jsr mult_rArX

			      st d, unk_11E

locret_E3E1:						    ; CODE XREF: sub_E3D4+3j
			      ret

; End of function sub_E3D4

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E3E2:						    ; CODE XREF: __RESET:loc_E3C7j
			      ld a, unk_4E
			      st a, unk_1FA
			      tbbs bit1, unk_40, loc_E3ED

			      jmp loc_E472

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E3ED:						    ; CODE XREF: __RESET+1B11j
			      ld b, var_ect
			      ld y, #unk_C205
			      jsr table_rB_fixed_16_interpolate

			      st d, var_temp
			      ld d, var_rpm_x_5p12
			      ld y, #unk_C214
			      jsr sub_C708

			      push a
			      ld y, #unk_C21E
			      jsr table_ect_fixed_32_interpolate

			      pull b
			      cmp a, b
			      bcc loc_E40B

			      mov a, b

loc_E40B:						    ; CODE XREF: __RESET+1B32j
			      tbbs bit0, unk_40, loc_E416

			      ld a, unk_9F
			      cmp a, #7Ah
			      bcs loc_E416

			      ld b, #1Ah

loc_E416:						    ; CODE XREF: __RESET:loc_E40Bj
							    ; __RESET+1B3Cj
			      clr a
			      ld x, var_temp
			      jsr mult_rDrX

			      st d, var_temp
			      ld b, var_adc_battery
			      ld y, #unk_C223
			      jsr table_rB_fixed_16_interpolate

			      mov a, b
			      ld x, var_temp
			      jsr mult_rBrX2

			      st d, var_temp
			      tbbs bit3, unk_4D, loc_E444

			      clr b
			      ld a, unk_98
			      tbbs bit0, var_flags_42, loc_E439

			      ld a, #80h

loc_E439:						    ; CODE XREF: __RESET+1B5Ej
			      div d, #9Ch
			      bcc loc_E43F

			      ld b, #0FFh

loc_E43F:						    ; CODE XREF: __RESET+1B65j
			      ld x, var_temp
			      jsr mult_rBrX


loc_E444:						    ; CODE XREF: __RESET+1B58j
			      cmp d, #0F424h
			      ble loc_E44C

			      ld d, #0F424h

loc_E44C:						    ; CODE XREF: __RESET+1B71j
			      di
			      st d, var_inj_pw
			      clrb bit4, var_diag_errors_5
			      ei
			      bra loc_E472

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E455:						    ; CODE XREF: __RESET+1974p
			      ld a, unk_9F
			      tbbc bit1, unk_40, loc_E460

			      tbbc bit0, var_io_input1,	loc_E460

			      inc a
			      beq loc_E46E


loc_E460:						    ; CODE XREF: sub_E455+2j
							    ; sub_E455+5j
			      cmp #20h,	var_rpm_div_25
			      bcc loc_E46E

			      cmp #3Dh,	var_cnt_startup
			      bcc loc_E46E

			      cmp a, #0A8h
			      bcs loc_E46F


loc_E46E:						    ; CODE XREF: sub_E455+9j
							    ; sub_E455+Ej ...
			      clr a

loc_E46F:						    ; CODE XREF: sub_E455+17j
			      st a, unk_9F
			      ret

; End of function sub_E455

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E472:						    ; CODE XREF: __RESET+1B14j
							    ; __RESET+1B7Dj
			      ld y, #map_ve
			      ld d, var_pim_avg
			      jsr divide_rD_16

			      mov d, x
			      ld d, var_rpm_x_5p12
			      cmp a, #38h
			      bcs loc_E486

			      add a, #38h
			      rorc a
			      rorc b

loc_E486:						    ; CODE XREF: __RESET+1BAAj
			      jsr map_interpolate_3d_div_4

			      st a, var_map_ve
			      mov a, b
			      clr a
			      add d, #0033h
			      ld x, #1BCBh
			      jsr mult_rDrX_unk

			      st d, var_scaled_ve
			      ld x, #57ABh
			      ld a, var_map_ve
			      mul a, #80h
			      add a, #1Ah
			      bcc loc_E4A8

			      ld a, #0FFh

loc_E4A8:						    ; CODE XREF: __RESET+1BCEj
			      jsr mult_rArX

			      ld d, var_rpm_x_5p12
			      jsr mult_rDrX

			      ld d, var_pim
			      shr d
			      shr d
			      shr d
			      shr d
			      jsr mult_rDrX

			      st a, unk_159
			      shl d
			      bcc loc_E4C2

			      ld d, #0FFFFh

loc_E4C2:						    ; CODE XREF: __RESET+1BE7j
			      st d, unk_1DB
			      ld a, unk_1FB
			      st a, unk_4F
			      ld b, #80h
			      tbbc bit4, unk_40, loc_E501

			      cmp #5Ch,	var_cnt_startup
			      bcs loc_E501

			      ld x, unk_63
			      bpz loc_E501

			      cmp #50h,	var_rpm_div_25
			      bcc loc_E501

			      ld x, var_ne_sum3
			      ld b, #70h
			      jsr mult_rBrX2

			      ld x, unk_FB
			      jsr mult_rDrX

			      mov x, d
			      ld y, #unk_C689
			      cmp #03h,	var_speed_kph
			      bcc loc_E4FB

			      ld y, #unk_C68D
			      tbbc bit7, unk_4F, loc_E4FB

			      ld y, #unk_C691

loc_E4FB:						    ; CODE XREF: __RESET+1C1Aj
							    ; __RESET+1C1Fj
			      jsr min_max_check

			      sub d, #0180h

loc_E501:						    ; CODE XREF: __RESET+1BF6j
							    ; __RESET+1BFCj ...
			      st b, unk_144
			      bra loc_E516

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E506:						    ; CODE XREF: __RESET:loc_CB84p
			      ld x, var_rpm_x_5p12
			      tbbc bit1, unk_40, loc_E50D

			      st x, unk_FB

loc_E50D:						    ; CODE XREF: sub_E506+2j
			      ld y, #unk_FB
			      ld b, #20h
			      jsr loc_C840

			      ret

; End of function sub_E506

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E516:						    ; CODE XREF: __RESET+1C2Ej
			      jsr sub_E32A

			      add d, #0080h
			      mov d, x
			      ld a, unk_119
			      add x, a
			      ld a, unk_60
			      add x, a
			      add x, a
			      tbbc bit4, unk_40, loc_E52D

			      ld a, unk_11C
			      add x, a
			      add x, a

loc_E52D:						    ; CODE XREF: __RESET+1C4Fj
			      ld a, unk_11E
			      jsr sub_E3C9

			      add x, a
			      mov x, d
			      shl d
			      mov d, x
			      ld b, var_add_fuel
			      beq loc_E544

			      add b, #80h
			      bcc loc_E541

			      ld b, #0FFh

loc_E541:						    ; CODE XREF: __RESET+1C67j
			      jsr mult_rBrX2


loc_E544:						    ; CODE XREF: __RESET+1C63j
			      ld b, unk_144
			      cmp b, #80h
			      beq loc_E54F

			      jsr sub_C7C4

			      mov d, x

loc_E54F:						    ; CODE XREF: __RESET+1C73j
			      ld d, var_scaled_ve
			      jsr mult_rDrX

			      mov d, x
			      tbbc bit4, unk_40, loc_E55E

			      ld b, unk_63
			      jsr mult_rBrX2


loc_E55E:						    ; CODE XREF: __RESET+1C80j
			      ld b, unk_120
			      jsr sub_C7C4

			      push d
			      jsr sub_D34A

			      clr a
			      add b, unk_65
			      addc a, #00h
			      add d, #0100h
			      pull x
			      jsr mult_rDrX_unk

			      st d, unk_140
			      ld a, unk_9A
			      tbbs bit0, var_flags_42, loc_E57E

			      ld a, #66h

loc_E57E:						    ; CODE XREF: __RESET+1CA3j
			      clrb bit0, var_diag_errors_5
			      mul a, #04h
			      sub d, var_iscv_unk_1A1
			      bcs loc_E58B

			      setb bit0, var_diag_errors_5
			      bra loc_E58F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E58B:						    ; CODE XREF: __RESET+1CAFj
			      neg a
			      neg b
			      subc a, #00h

loc_E58F:						    ; CODE XREF: __RESET+1CB3j
			      mov d, x
			      ld a, #19h
			      jsr mult_rArX

			      jsr sub_C7BC

			      tbbc bit5, var_diag_errors_4, loc_E5A0

			      add d, #0010h
			      bvs loc_E5A5


loc_E5A0:						    ; CODE XREF: __RESET+1CC2j
			      cmpz a
			      bmi loc_E5A8

			      beq loc_E5A9


loc_E5A5:						    ; CODE XREF: __RESET+1CC8j
			      ld b, #0FFh
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 41h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E5A8:						    ; CODE XREF: __RESET+1CCBj
			      clr b

loc_E5A9:						    ; CODE XREF: __RESET+1CCDj
			      st b, unk_151
			      jmp loc_E781

; END OF FUNCTION CHUNK	FOR __RESET
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E5AF:						    ; CODE XREF: __RESET+3A2p
							    ; __RESET:loc_E2AEp
			      jsr sub_E706

			      st a, unk_13F
			      mov x, d
			      st a, unk_153
			      ld b, unk_152
			      jsr mult_rBrX2

			      st x, unk_139
			      ld d, var_pim
			      tbbs bit0, unk_40, loc_E5CD

			      tbbs bit1, unk_40, loc_E5CD

			      tbbc bit7, var_diag_errors_4, loc_E5D0


loc_E5CD:						    ; CODE XREF: ROM:E5C4j
							    ; ROM:E5C7j
			      jmp loc_E665

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E5D0:						    ; CODE XREF: ROM:E5CAj
			      ld d, var_inj_pw
			      add d, #0591h
			      bcc loc_E5DB

			      ld d, #0FFFFh

loc_E5DB:						    ; CODE XREF: ROM:E5D6j
			      shr d
			      shr d
			      shr d
			      st d, unk_76
			      ld a, unk_113
			      mul a, #0ABh
			      add d, #0572h
			      bcc loc_E5ED

			      ld d, #0FFFFh

loc_E5ED:						    ; CODE XREF: ROM:E5E8j
			      sub d, #0755h
			      jsr divide_rD_32_saturate

			      mov b, a
			      ld y, #var_ne_sum3
			      mul a, y + 00h
			      add d, #0100h
			      bcs loc_E602

			      add d, unk_76
			      bcc loc_E604


loc_E602:						    ; CODE XREF: ROM:E5FCj
			      ld a, #0FFh

loc_E604:						    ; CODE XREF: ROM:E600j
			      cmp a, #0Eh
			      ble loc_E60A

			      ld a, #0Eh

loc_E60A:						    ; CODE XREF: ROM:E606j
			      push a
			      shr a
			      st a, unk_79
			      tbbc bit6, var_diag_errors_4, loc_E63B

			      jsr sub_E76C

			      jsr divide_rD_64

			      st d, unk_76
			      ld a, var_tps_delta
			      st a, var_temp
			      mul a, unk_79
			      cmp #00h,	var_temp
			      bpz loc_E62D

			      sub a, unk_79
			      add d, unk_76
			      bcs loc_E62F

			      clr a
			      clr b
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E62D:						    ; CODE XREF: ROM:E622j
			      add d, unk_76

loc_E62F:						    ; CODE XREF: ROM:E628j
			      shl d
			      shl d
			      shl d
			      jsr sub_E70C

			      ld b, unk_152
			      jsr mult_rBrX2


loc_E63B:						    ; CODE XREF: ROM:E60Ej
			      pull a
			      st a, unk_79
			      ld d, unk_13B
			      st d, unk_76

loc_E643:						    ; CODE XREF: ROM:E64Fj
			      push x
			      ld y, #unk_76
			      ld b, var_temp
			      jsr loc_C840

			      pull x
			      dec unk_79
			      bne loc_E643

			      sub d, unk_13D
			      bcc loc_E65E

			      add d, var_pim
			      bcs loc_E665

			      clr a
			      clr b
			      bra loc_E665

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E65E:						    ; CODE XREF: ROM:E654j
			      add d, var_pim
			      bcc loc_E665

			      ld d, #0FFFFh

loc_E665:						    ; CODE XREF: ROM:loc_E5CDj
							    ; ROM:E658j ...
			      st d, var_pim_avg
			      ld d, unk_139
			      sub d, unk_13D
			      bcs loc_E676

			      bpz loc_E67A

			      ld a, #7Fh
			      bra loc_E67A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E676:						    ; CODE XREF: ROM:E66Ej
			      bmi loc_E67A

			      ld a, #80h

loc_E67A:						    ; CODE XREF: ROM:E670j
							    ; ROM:E674j ...
			      st a, unk_154
			      ld d, unk_13B
			      sub d, unk_13D
			      bcs loc_E68B

			      bpz loc_E68F

			      ld a, #7Fh
			      bra loc_E68F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E68B:						    ; CODE XREF: ROM:E683j
			      bmi loc_E68F

			      ld a, #80h

loc_E68F:						    ; CODE XREF: ROM:E685j
							    ; ROM:E689j ...
			      st a, unk_155
			      jsr sub_EA2F

			      jsr sub_E873

			      tbbc bit1, unk_40, loc_E69E

			      jmp loc_E702

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E69E:						    ; CODE XREF: ROM:E698j
			      ld a, #9Ch
			      sub a, unk_98
			      bcc loc_E6A5

			      clr a

loc_E6A5:						    ; CODE XREF: ROM:E6A2j
			      mul a, #12h
			      push d
			      jsr divide_rD_64_saturate

			      st b, unk_101
			      pull d
			      add d, var_pim_avg
			      bcc loc_E6B7

			      ld d, #0FFFFh

loc_E6B7:						    ; CODE XREF: ROM:E6B2j
			      cmp d, #0000h
			      bcc loc_E6C2

			      ld d, #0000h
			      setb bit2, var_diag_errors_5
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E6C2:						    ; CODE XREF: ROM:E6BAj
			      clrb bit2, var_diag_errors_5
			      jsr divide_rD_16

			      mov d, x
			      ld d, unk_140
			      jsr divide_rD_16

			      jsr mult_rDrX

			      tbbs bit0, unk_40, loc_E6EA

			      st d, unk_76
			      ld d, unk_12F
			      bpz loc_E6E3

			      add d, unk_76
			      bcs loc_E6EA

			      clr a
			      clr b
			      bra loc_E6EA

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E6E3:						    ; CODE XREF: ROM:E6D9j
			      add d, unk_76
			      bcc loc_E6EA

			      ld d, #0FFFFh

loc_E6EA:						    ; CODE XREF: ROM:E6D1j
							    ; ROM:E6DDj ...
			      tbbc bit3, unk_4D, loc_E6F6

			      ld d, #02F8h
			      tbbs bit4, unk_40, loc_E6F6

			      ld d, #07DAh

loc_E6F6:						    ; CODE XREF: ROM:loc_E6EAj
							    ; ROM:E6F0j
			      ld y, #unk_C695
			      jsr y + 1Fh

			      di
			      st d, var_inj_pw
			      setb bit4, var_diag_errors_5
			      ei

loc_E702:						    ; CODE XREF: ROM:E69Bj
			      jsr sub_F3AB

			      ret


;  S U B	R O U T	I N E 


sub_E706:						    ; CODE XREF: ROM:loc_E5AFp
			      jsr sub_E76C

			      shr d
			      shr d
			      shr d
; End of function sub_E706


;  S U B	R O U T	I N E 


sub_E70C:						    ; CODE XREF: ROM:E632p
			      cmp a, #05h
			      bcs loc_E71A

			      add a, #05h
			      shr d
			      cmp a, #08h
			      bcs loc_E71A

			      add a, #08h
			      shr d

loc_E71A:						    ; CODE XREF: sub_E70C+2j
							    ; sub_E70C+9j
			      mov d, x
			      ld d, var_rpm_x_5p12
			      shr d
			      shr d
			      cmp a, #06h
			      bcs loc_E726

			      add a, #06h
			      shr d

loc_E726:						    ; CODE XREF: sub_E70C+15j
			      ld y, #map_injector_timing_unk
			      jsr map_interpolate_3d

			      push d
			      jsr divide_rD_16

			      mov d, x
			      ld d, var_rpm_x_5p12
			      ld y, #word_C1E4
			      jsr map_interpolate_3d_div_32

			      st a, var_temp
			      pull x
			      ret

; End of function sub_E70C


;  S U B	R O U T	I N E 


knock_unk_E73D:						    ; CODE XREF: sub_F7FA+17p
			      ld x, unk_139
			      tbbc bit1, unk_40, loc_E746

			      st x, unk_13B

loc_E746:						    ; CODE XREF: knock_unk_E73D+3j
			      ld y, #unk_13B
			      ld b, unk_13F
			      jsr loc_C840

			      ret

; End of function knock_unk_E73D


;  S U B	R O U T	I N E 


some_knock_averaging_calc:				    ; CODE XREF: sub_F7FA:loc_F814p
			      ld d, unk_13B
			      tbbs bit1, unk_40, loc_E768

			      sub d, unk_13D
			      beq locret_E76B

			      rorc a
			      rorc b
			      shra a
			      rorc b
			      cmp d, #0000h
			      bne loc_E765

			      inc b

loc_E765:						    ; CODE XREF: some_knock_averaging_calc+12j
			      add d, unk_13D

loc_E768:						    ; CODE XREF: some_knock_averaging_calc+3j
			      st d, unk_13D

locret_E76B:						    ; CODE XREF: some_knock_averaging_calc+9j
			      ret

; End of function some_knock_averaging_calc


;  S U B	R O U T	I N E 


sub_E76C:						    ; CODE XREF: ROM:E611p
							    ; sub_E706p
			      ld d, unk_52
			      cmpz a
			      bne loc_E772

			      clr b

loc_E772:						    ; CODE XREF: sub_E76C+3j
			      st d, unk_76
			      ld a, unk_151
			      mul a, #40h
			      add d, unk_76
			      bcc locret_E780

			      ld d, #0FFFFh

locret_E780:						    ; CODE XREF: sub_E76C+Fj
			      ret

; End of function sub_E76C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_E781:						    ; CODE XREF: __RESET+1CD6j
			      ld d, var_rpm_x_5p12
			      ld y, #unk_C2E3
			      jsr sub_C705

			      st a, unk_145
			      ld d, var_rpm_x_5p12
			      ld y, #unk_C2EF
			      jsr sub_C705

			      st a, unk_146
			      ld y, #unk_C382
			      ld d, var_rpm_x_5p12
			      jsr sub_C704

			      st a, unk_150
			      ld y, #unk_C310
			      jsr table_ect_fixed_64_interpolate

			      st d, unk_76
			      ld y, #unk_C300
			      ld d, var_rpm_x_5p12
			      jsr sub_C704

			      ld x, unk_76
			      jsr mult_rArX

			      jsr divide_rD_64_saturate

			      st b, unk_147
			      ld y, #unk_C316
			      jsr table_ect_fixed_64_interpolate

			      st d, unk_76
			      ld y, #unk_C308
			      ld d, var_rpm_x_5p12
			      jsr sub_C704

			      ld x, unk_76
			      jsr mult_rArX

			      jsr divide_rD_64_saturate

			      st b, unk_148
			      ld y, #unk_C31C
			      ld b, unk_131
			      bpz loc_E7E3

			      ld y, #unk_C324

loc_E7E3:						    ; CODE XREF: __RESET+1F08j
			      ld d, var_rpm_x_5p12
			      jsr sub_C704

			      st a, unk_149
			      tbbs bit5, unk_44, loc_E808

			      ld y, #unk_C335
			      jsr table_ect_fixed_32_interpolate

			      bsr sub_E851

			      st d, unk_76
			      ld y, #unk_C32C
			      jsr table_ect_fixed_32_interpolate

			      add d, unk_76
			      bcc loc_E805

			      ld d, #0FFFFh

loc_E805:						    ; CODE XREF: __RESET+1F2Aj
			      st d, unk_14A

loc_E808:						    ; CODE XREF: __RESET+1F15j
			      ld y, #unk_C33E
			      jsr table_ect_pair_interpolate

			      st d, unk_76
			      ld y, #unk_C360
			      jsr table_ect_pair_interpolate

			      bsr sub_E851

			      tbbs bit5, unk_4A, loc_E823

			      add d, unk_14A
			      bcc loc_E823

			      ld d, #0FFFFh

loc_E823:						    ; CODE XREF: __RESET+1F42j
							    ; __RESET+1F48j
			      bsr sub_E85D

			      st d, unk_14C
			      ld y, #unk_C34F
			      jsr table_ect_pair_interpolate

			      st d, unk_76
			      ld y, #unk_C371
			      jsr table_ect_pair_interpolate

			      bsr sub_E851

			      bsr sub_E85D

			      st d, unk_14E
			      jmp loc_EA24

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_E840:						    ; CODE XREF: sub_E873+1A2p
			      tbbc bit5, unk_44, locret_E850

			      ld d, unk_14A
			      sub d, #000Ch
			      bcc loc_E84D

			      clr a
			      clr b

loc_E84D:						    ; CODE XREF: sub_E840+9j
			      st d, unk_14A

locret_E850:						    ; CODE XREF: sub_E840j
			      ret

; End of function sub_E840


;  S U B	R O U T	I N E 


sub_E851:						    ; CODE XREF: __RESET+1F1Ep
							    ; __RESET+1F40p ...
			      mov d, x
			      ld a, unk_96
			      tbbs bit0, var_flags_42, loc_E859

			      ld a, #00h

loc_E859:						    ; CODE XREF: sub_E851+3j
			      jsr mult_rArX

			      ret

; End of function sub_E851


;  S U B	R O U T	I N E 


sub_E85D:						    ; CODE XREF: __RESET:loc_E823p
							    ; __RESET+1F62p
			      add d, unk_76
			      bcc loc_E864

			      ld d, #0FFFFh

loc_E864:						    ; CODE XREF: sub_E85D+2j
			      mov d, x
			      ld a, unk_150
			      jsr mult_rArX

			      add a, #04h
			      bcc locret_E872

			      ld d, #0FFFFh

locret_E872:						    ; CODE XREF: sub_E85D+10j
			      ret

; End of function sub_E85D


;  S U B	R O U T	I N E 


sub_E873:						    ; CODE XREF: __RESET+BABp
							    ; ROM:E695p ...
			      tbs bit3,	unk_41
			      beq loc_E87A

			      jmp locret_EA18

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E87A:						    ; CODE XREF: sub_E873+2j
			      ld d, var_pim_avg
			      ld y, #unk_C2DB
			      jsr sub_C703

			      shr d
			      tbbs bit5, unk_44, loc_E89E

			      st d, unk_133
			      st d, unk_135
			      st d, unk_137
			      clr a
			      clr b
			      st d, unk_131
			      st d, unk_12F
			      ld #0FFh,	unk_AA
			      jmp locret_EA18

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E89E:						    ; CODE XREF: sub_E873+11j
			      push d
			      ld x, unk_137
			      cmp d, unk_137
			      bcc loc_E8AB

			      mov d, x
			      ld d, unk_137

loc_E8AB:						    ; CODE XREF: sub_E873+32j
			      st d, unk_76
			      st x, var_temp
			      ld y, #unk_76
			      ld d, unk_133
			      jsr min_max_check

			      push d
			      clrb bit0, var_diag_errors_5
			      sub d, unk_133
			      bcc loc_E8C3

			      jsr sub_C7BA


loc_E8C3:						    ; CODE XREF: sub_E873+4Bj
			      cmp d, #0200h
			      bcs loc_E8F1

			      mov d, x
			      ld a, unk_148
			      tbbc bit0, var_diag_errors_5, loc_E8D2

			      ld a, unk_147

loc_E8D2:						    ; CODE XREF: sub_E873+59j
			      neg a
			      cmp a, #00h
			      bne loc_E8D8

			      dec a

loc_E8D8:						    ; CODE XREF: sub_E873+62j
			      mul a, #80h
			      jsr mult_rDrX

			      mov x, d
			      jsr sub_C7BC

			      add d, unk_131
			      bvc loc_E8EE

			      ld d, #7FFFh
			      tbbc bit0, var_diag_errors_5, loc_E8EE

			      inc a
			      inc b

loc_E8EE:						    ; CODE XREF: sub_E873+71j
							    ; sub_E873+76j
			      st d, unk_131

loc_E8F1:						    ; CODE XREF: sub_E873+53j
			      pull d
			      st d, unk_133
			      ld y, #unk_76
			      ld d, unk_135
			      jsr min_max_check

			      st d, unk_135
			      pull d
			      mov d, y
			      tbbc bit0, var_limit_flags, loc_E908

			      clr unk_AA

loc_E908:						    ; CODE XREF: sub_E873+90j
			      cmp #02h,	unk_AA
			      bcc loc_E915

			      inc unk_AA
			      tbbs bit4, unk_40, loc_E915

			      add d, #03E8h

loc_E915:						    ; CODE XREF: sub_E873+98j
							    ; sub_E873+9Cj
			      sub d, unk_135
			      ld x, unk_135
			      st x, unk_137
			      ld x, unk_133
			      st x, unk_135
			      xch x, y
			      st x, unk_133
			      clrb bit0, var_diag_errors_5
			      bcc loc_E92F

			      jsr sub_C7BA


loc_E92F:						    ; CODE XREF: sub_E873+B7j
			      mov d, x
			      ld b, unk_145
			      tbbc bit0, var_diag_errors_5, loc_E939

			      ld b, unk_146

loc_E939:						    ; CODE XREF: sub_E873+C0j
			      jsr mult_rBrX2

			      st d, unk_76
			      ld y, #unk_C2FB
			      jsr sub_C70B

			      st a, var_temp
			      ld a, unk_147
			      tbbc bit0, var_diag_errors_5, loc_E94F

			      ld a, unk_148

loc_E94F:						    ; CODE XREF: sub_E873+D6j
			      mul a, var_temp
			      shl d
			      bcc loc_E956

			      ld a, #0FFh

loc_E956:						    ; CODE XREF: sub_E873+DFj
			      mov a, b
			      neg b
			      cmp b, #00h
			      bne loc_E95D

			      dec b

loc_E95D:						    ; CODE XREF: sub_E873+E7j
			      push b
			      ld x, unk_76
			      jsr mult_rArX

			      cmpz a
			      bpz loc_E969

			      ld d, #7FFFh

loc_E969:						    ; CODE XREF: sub_E873+F1j
			      jsr sub_C7BC

			      st d, var_temp
			      ld x, unk_76
			      pull a
			      mul a, #80h
			      jsr mult_rDrX

			      mov x, d
			      jsr sub_C7BC

			      st d, unk_76
			      clrb bit0, var_diag_errors_5
			      ld d, unk_131
			      bpz loc_E986

			      jsr sub_C7BA


loc_E986:						    ; CODE XREF: sub_E873+10Ej
			      mov d, x
			      push d
			      ld a, unk_149
			      push a
			      mul a, #80h
			      shr d
			      shr d
			      neg a
			      neg b
			      subc a, #00h
			      cmp d, #0000h
			      bne loc_E99B

			      dec a
			      dec b

loc_E99B:						    ; CODE XREF: sub_E873+124j
			      jsr mult_rDrX

			      mov x, d
			      jsr sub_C7BC

			      add d, unk_76
			      bvc loc_E9AE

			      ld d, #7FFFh
			      tbbc bit0, var_diag_errors_5, loc_E9AE

			      inc a
			      inc b

loc_E9AE:						    ; CODE XREF: sub_E873+131j
							    ; sub_E873+136j
			      jsr sub_EA19

			      st d, unk_131
			      pull a
			      pull x
			      jsr mult_rArX

			      shr d
			      shr d
			      jsr sub_C7BC

			      add d, var_temp
			      bvc loc_E9CA

			      ld d, #7FFFh
			      tbbc bit0, var_diag_errors_5, loc_E9CA

			      inc a
			      inc b

loc_E9CA:						    ; CODE XREF: sub_E873+14Dj
							    ; sub_E873+152j
			      jsr sub_EA19

			      mov d, x
			      clrb bit0, var_diag_errors_5
			      cmpz a
			      bpz loc_E9D6

			      jsr sub_C7BA


loc_E9D6:						    ; CODE XREF: sub_E873+15Ej
			      push d
			      cmp d, #0040h
			      bcc loc_E9FE

			      ld d, #0080h
			      st a, var_rpm_unk_77
			      st b, unk_79
			      ld a, unk_14E
			      st a, var_temp
			      ld a, unk_14C
			      st a, unk_7A
			      ld #02h, unk_76
			      mov x, d
			      add d, #0040h
			      mov b, a
			      clr b
			      ld y, #unk_76
			      jsr sub_C6C8

			      bra loc_EA07

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_E9FE:						    ; CODE XREF: sub_E873+167j
			      ld d, unk_14C
			      tbbc bit0, var_diag_errors_5, loc_EA07

			      ld d, unk_14E

loc_EA07:						    ; CODE XREF: sub_E873+189j
							    ; sub_E873+18Ej
			      mov d, x
			      pull d
			      jsr mult_rDrX

			      jsr sub_C80C

			      jsr sub_C7BC

			      st d, unk_12F
			      jsr sub_E840


locret_EA18:						    ; CODE XREF: sub_E873+4j
							    ; sub_E873+28j
			      ret

; End of function sub_E873


;  S U B	R O U T	I N E 


sub_EA19:						    ; CODE XREF: sub_E873:loc_E9AEp
							    ; sub_E873:loc_E9CAp
			      cmpz a
			      bpz locret_EA23

			      cmp #7Ah,	var_cnt_startup
			      bcc locret_EA23

			      clr a
			      clr b

locret_EA23:						    ; CODE XREF: sub_EA19+1j
							    ; sub_EA19+6j
			      ret

; End of function sub_EA19

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR __RESET

loc_EA24:						    ; CODE XREF: __RESET+1F67j
			      bsr sub_EA2F

			      jsr sub_E873

			      nop
			      nop
			      nop
			      jmp loc_C9E6

; END OF FUNCTION CHUNK	FOR __RESET

;  S U B	R O U T	I N E 


sub_EA2F:						    ; CODE XREF: __RESET:loc_D47Ep
							    ; ROM:E692p ...

; FUNCTION CHUNK AT EAB4 SIZE 000000AA BYTES
; FUNCTION CHUNK AT EC28 SIZE 00000016 BYTES
; FUNCTION CHUNK AT EC52 SIZE 00000088 BYTES
; FUNCTION CHUNK AT ECEB SIZE 000000A8 BYTES
; FUNCTION CHUNK AT EDE5 SIZE 0000018B BYTES
; FUNCTION CHUNK AT EF89 SIZE 00000051 BYTES

			      cmp #3Dh,	var_cnt_C3
			      bcs loc_EA3A

			      setb bit2, var_ignition_flags
			      clrb bit4, var_ignition_flags
			      clrb bit0, var_ignition_flags

loc_EA3A:						    ; CODE XREF: sub_EA2F+3j
			      ld y, #unk_C4C4
			      ld a, var_adc_battery
			      clr b
			      jsr sub_C6C8

			      st a, unk_76
			      ld y, #unk_C4CF
			      jsr loc_C6C6

			      mul a, unk_76
			      jsr divide_rD_32

			      st d, unk_17C
			      ld y, #unk_C4DA
			      jsr loc_C6C6

			      st a, unk_17B
			      ld a, unk_1F3		    ; Bad Address
			      st a, unk_4E
			      ld y, #byte_C54F
			      ld b, var_rpm_div_25
			      jsr table_rB_fixed_32_interpolate

			      st a, var_temp
			      tbbs bit4, unk_40, loc_EA77

			      ld a, unk_13B
			      add a, #10h
			      cmp a, var_temp
			      bcc loc_EA7B


loc_EA77:						    ; CODE XREF: sub_EA2F+3Cj
			      setb bit0, unk_4E
			      clr unk_A3

loc_EA7B:						    ; CODE XREF: sub_EA2F+46j
			      cmp #0D2h, var_ect
			      bcs loc_EA85


loc_EA80:
			      cmp #78h,	var_rpm_div_25
			      bcs loc_EA87


loc_EA85:						    ; CODE XREF: sub_EA2F+4Fj
			      clrb bit0, unk_4E

loc_EA87:						    ; CODE XREF: sub_EA2F+54j
			      tbbc bit0, unk_4E, loc_EA9D

			      ld b, unk_155
			      cmp b, #0Ah
			      blta loc_EA9D

			      ld a, unk_13B
			      cmp a, var_temp
			      bcs loc_EA9D

			      ld #44h, unk_A3
			      clrb bit0, unk_4E

loc_EA9D:						    ; CODE XREF: sub_EA2F:loc_EA87j
							    ; sub_EA2F+60j ...
			      bra loc_EAB4

; End of function sub_EA2F


;  S U B	R O U T	I N E 


sub_EA9F:						    ; CODE XREF: sub_EA2F:loc_EC59p
			      ld a, unk_A3
			      beq locret_EAAA

			      sub a, #09h
			      bcc loc_EAA8

			      clr a

loc_EAA8:						    ; CODE XREF: sub_EA9F+6j
			      st a, unk_A3

locret_EAAA:						    ; CODE XREF: sub_EA9F+2j
			      ret

; End of function sub_EA9F


;  S U B	R O U T	I N E 


sub_EAAB:						    ; CODE XREF: sub_EA2F+4E9p
			      ld a, unk_A3
			      cmp a, #2Bh
			      ble locret_EAB3

			      ld a, #2Bh

locret_EAB3:						    ; CODE XREF: sub_EAAB+4j
			      ret

; End of function sub_EAAB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_EA2F

loc_EAB4:						    ; CODE XREF: sub_EA2F:loc_EA9Dj
			      ld a, unk_4E
			      st a, unk_1F3		    ; Bad Address
			      ld a, unk_1F4		    ; Bad Address
			      st a, unk_4E
			      cmp #5Ch,	var_cnt_startup
			      bcs loc_EAE6

			      ld b, var_gearing
			      ld y, #unk_C52A
			      jsr table_rB_fixed_32_interpolate

			      cmp a, var_rpm_div_25
			      ble loc_EAE6

			      cmp #28h,	var_rpm_div_25
			      bcs loc_EAE6

			      cmp #03h,	var_speed_kph
			      bcs loc_EAE6

			      cmp #0D2h, var_ect
			      bcs loc_EAE6

			      cmp #93h,	var_adc_battery
			      bcs loc_EAE6

			      setb bit7, unk_46

loc_EAE6:						    ; CODE XREF: sub_EA2F+92j
							    ; sub_EA2F+9Fj ...
			      ld a, unk_155
			      ld b, unk_13B
			      st d, unk_76
			      tbbc bit4, unk_40, loc_EAF5

			      clr unk_D3
			      clrb bit7, unk_46

loc_EAF5:						    ; CODE XREF: sub_EA2F+BFj
			      tbbc bit5, unk_4A, loc_EAFE

			      clrb bit0, unk_4E
			      clrb bit3, var_diag_errors_4
			      bra loc_EB39

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EAFE:						    ; CODE XREF: sub_EA2F:loc_EAF5j
			      cmp a, #0FDh
			      blta loc_EB3E

			      tbbs bit3, var_diag_errors_4, loc_EB11

			      cmp a, #08h
			      blta loc_EB11

			      cmp b, #35h
			      bcs loc_EB11

			      clr unk_BA
			      setb bit3, var_diag_errors_4

loc_EB11:						    ; CODE XREF: sub_EA2F+D3j
							    ; sub_EA2F+D8j ...
			      ld y, #unk_C544
			      ld b, var_gearing
			      jsr table_rB_fixed_32_interpolate

			      cmp a, unk_BA
			      bcs loc_EB3E

			      ld d, unk_76
			      tbbc bit7, unk_46, loc_EB40

			      tbbs bit0, unk_4E, loc_EB40

			      cmp a, #0Eh
			      blta loc_EB40

			      cmp b, #5Ch
			      bcs loc_EB40

			      cmp #1Fh,	unk_D3
			      bcc loc_EB40

			      setb bit6, unk_46
			      setb bit0, unk_4E
			      bra loc_EB40

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EB39:						    ; CODE XREF: sub_EA2F+CDj
			      ld a, #0FFh
			      st a, unk_169

loc_EB3E:						    ; CODE XREF: sub_EA2F+D1j
							    ; sub_EA2F+EDj
			      clrb bit6, unk_46

loc_EB40:						    ; CODE XREF: sub_EA2F+F1j
							    ; sub_EA2F+F4j ...
			      ld d, unk_76
			      tbbc bit0, unk_44, loc_EB48

			      tbbc bit4, unk_40, loc_EB50


loc_EB48:						    ; CODE XREF: sub_EA2F+113j
			      cmp a, #0Ch
			      blta loc_EB5B

			      cmp b, #3Dh
			      bcs loc_EB5B


loc_EB50:						    ; CODE XREF: sub_EA2F+116j
			      clr a
			      st a, unk_D4
			      st a, unk_16D
			      ld a, var_rpm_div_25
			      st a, unk_172

loc_EB5B:						    ; CODE XREF: sub_EA2F+11Bj
							    ; sub_EA2F+11Fj
			      jmp loc_EC28

; END OF FUNCTION CHUNK	FOR sub_EA2F

;  S U B	R O U T	I N E 


sub_EB5E:						    ; CODE XREF: sub_EA2F+57Cp
			      tbbc bit6, unk_46, loc_EB6D

			      ld b, unk_162
			      ld y, #unk_C531
			      jsr table_rB_fixed_32_interpolate

			      st a, unk_169

loc_EB6D:						    ; CODE XREF: sub_EB5Ej
			      ld d, var_rpm_x_5p12
			      cmp d, #5400h
			      bcc loc_EB77

			      jsr calc_rpm


loc_EB77:						    ; CODE XREF: sub_EB5E+14j
			      st d, unk_16E
			      mov d, x
			      sub d, unk_170
			      bcs loc_EB85

			      jsr divide_rD_2_saturate

			      bra loc_EB8B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EB85:						    ; CODE XREF: sub_EB5E+20j
			      clr b
			      ld a, var_rpm_div_25
			      st a, unk_172

loc_EB8B:						    ; CODE XREF: sub_EB5E+25j
			      st b, unk_16C
			      st x, unk_170
			      tbbs bit4, unk_40, loc_EBB3

			      ld a, var_rpm_div_25
			      sub a, unk_172
			      bcc loc_EB9C

			      clr a

loc_EB9C:						    ; CODE XREF: sub_EB5E+3Bj
			      cmp a, #0Eh
			      bcc loc_EBB3

			      tbbc bit7, unk_46, loc_EBB3

			      ld a, var_gearing
			      cmp a, #1Ah
			      bcs loc_EBB3

			      cmp a, #8Dh
			      bcc loc_EBB3

			      cmp #99h,	unk_D3
			      bcs loc_EBBB


loc_EBB3:						    ; CODE XREF: sub_EB5E+33j
							    ; sub_EB5E+40j ...
			      ld d, #0FFFEh
			      st a, unk_16D
			      st b, unk_D4

loc_EBBB:						    ; CODE XREF: sub_EB5E+53j
			      ld b, unk_16C
			      sub b, unk_16D
			      bcc loc_EBC4

			      clr b

loc_EBC4:						    ; CODE XREF: sub_EB5E+63j
			      ld y, #unk_C538
			      jsr table_rB_fixed_32_interpolate

			      push d
			      ld y, #unk_C54B
			      ld b, unk_52
			      jsr table_rB_fixed_64_interpolate

			      mov a, b
			      pull x
			      jsr mult_rBrX2

			      sub a, unk_162
			      bcs loc_EBDE

			      clr a

loc_EBDE:						    ; CODE XREF: sub_EB5E+7Dj
			      neg a
			      st a, unk_16A
			      cmp a, unk_169
			      ble loc_EBEA

			      ld a, unk_169

loc_EBEA:						    ; CODE XREF: sub_EB5E+87j
			      add a, unk_16B
			      bcc loc_EBF1

			      ld a, #0FFh

loc_EBF1:						    ; CODE XREF: sub_EB5E+8Fj
			      cmp a, #00h
			      bcc loc_EBF7

			      ld a, #00h

loc_EBF7:						    ; CODE XREF: sub_EB5E+95j
			      st a, var_min_ign_timing
			      ret

; End of function sub_EB5E


;  S U B	R O U T	I N E 


sub_EBFB:						    ; CODE XREF: sub_F7FA+9p
			      tbbs bit6, unk_46, locret_EC0A

			      ld b, #04h
			      add b, unk_169
			      bcc loc_EC07

			      ld b, #0FFh

loc_EC07:						    ; CODE XREF: sub_EBFB+8j
			      st b, unk_169

locret_EC0A:						    ; CODE XREF: sub_EBFBj
			      ret

; End of function sub_EBFB


;  S U B	R O U T	I N E 


sub_EC0B:						    ; CODE XREF: __RESET+AC4p
			      clr a
			      cmp #14h,	unk_D4
			      bcs loc_EC1A

			      ld a, unk_16D
			      add a, #04h
			      bcc loc_EC1A

			      ld a, #0FFh

loc_EC1A:						    ; CODE XREF: sub_EC0B+4j
							    ; sub_EC0B+Bj
			      st a, unk_16D
			      ret

; End of function sub_EC0B


;  S U B	R O U T	I N E 


sub_EC1E:						    ; CODE XREF: __RESET+197Ap
			      ld y, #unk_C53F
			      jsr table_ect_pair_interpolate

			      st a, unk_16B
			      ret

; End of function sub_EC1E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_EA2F

loc_EC28:						    ; CODE XREF: sub_EA2F:loc_EB5Bj
			      ld a, unk_4E
			      st a, unk_1F4		    ; Bad Address
			      jsr sub_F6E4

			      tbbs bit0, unk_40, loc_EC36

			      tbbc bit2, PORTA,	loc_EC52    ; Port A Data Register


loc_EC36:						    ; CODE XREF: sub_EA2F+201j
			      clr unk_B9
			      clr a
			      st a, unk_180
			      bra loc_EC52

; END OF FUNCTION CHUNK	FOR sub_EA2F

;  S U B	R O U T	I N E 


sub_EC3E:						    ; CODE XREF: sub_EA2F+22Dp
			      ld a, unk_180
			      cmp #05h,	unk_B9
			      bcs locret_EC51

			      add a, #03h
			      cmp a, #4Dh
			      ble loc_EC4E

			      ld a, #4Dh

loc_EC4E:						    ; CODE XREF: sub_EC3E+Cj
			      st a, unk_180

locret_EC51:						    ; CODE XREF: sub_EC3E+6j
			      ret

; End of function sub_EC3E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_EA2F

loc_EC52:						    ; CODE XREF: sub_EA2F+204j
							    ; sub_EA2F+20Dj
			      tbs bit1,	unk_41
			      beq loc_EC59

			      jmp locret_EFD9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EC59:						    ; CODE XREF: sub_EA2F+225j
			      jsr sub_EA9F

			      bsr sub_EC3E

			      ld a, unk_1F5		    ; Bad Address
			      st a, unk_4E
			      ld a, #55h
			      tbbc bit4, unk_40, loc_EC86

			      cmp #5Ch,	var_cnt_startup
			      bcs loc_EC86

			      cmp #3Dh,	unk_CE
			      bcs loc_EC86

			      ld d, unk_F9
			      add d, #00C0h
			      sub d, var_rpm_x_5p12
			      bcc loc_EC7D

			      clr a
			      clr b

loc_EC7D:						    ; CODE XREF: sub_EA2F+24Aj
			      jsr divide_rD_2_saturate

			      ld y, #unk_C4E1
			      jsr table_rB_fixed_32_interpolate


loc_EC86:						    ; CODE XREF: sub_EA2F+236j
							    ; sub_EA2F+23Cj ...
			      st a, unk_76
			      clrb bit0, unk_4E
			      tbbs bit7, var_flags_42, loc_EC94

			      tbbc bit1, unk_4E, loc_EC9A

			      clrb bit1, unk_4E
			      bra loc_EC98

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EC94:						    ; CODE XREF: sub_EA2F+25Bj
			      tbs bit1,	unk_4E
			      bne loc_EC9A


loc_EC98:						    ; CODE XREF: sub_EA2F+263j
			      setb bit0, unk_4E

loc_EC9A:						    ; CODE XREF: sub_EA2F+25Ej
							    ; sub_EA2F+267j
			      tbbs bit6, var_flags_42, loc_ECA4

			      tbbc bit2, unk_4E, loc_ECAA

			      clrb bit2, unk_4E
			      bra loc_ECA8

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_ECA4:						    ; CODE XREF: sub_EA2F:loc_EC9Aj
			      tbs bit2,	unk_4E
			      bne loc_ECAA


loc_ECA8:						    ; CODE XREF: sub_EA2F+273j
			      setb bit0, unk_4E

loc_ECAA:						    ; CODE XREF: sub_EA2F+26Ej
							    ; sub_EA2F+277j
			      tbbs bit1, unk_40, loc_ECC9

			      tbbc bit4, unk_40, loc_ECD1

			      cmp #28h,	var_rpm_div_25
			      bcc loc_ECD1

			      cmp #15h,	var_rpm_div_25
			      bcs loc_ECD1

			      cmp #02h,	var_speed_kph
			      bcc loc_ECD1

			      cmp #0DCh, var_ect
			      bcs loc_ECD1

			      tbbs bit0, unk_4E, loc_ECD1

			      bra loc_ECEB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_ECC9:						    ; CODE XREF: sub_EA2F:loc_ECAAj
			      clr a
			      clr b
			      st d, unk_18B
			      st d, unk_18D

loc_ECD1:						    ; CODE XREF: sub_EA2F+27Ej
							    ; sub_EA2F+284j ...
			      clr unk_D2
			      bsr sub_ECE1

			      bsr sub_ECDA

			      jmp loc_ED36

; END OF FUNCTION CHUNK	FOR sub_EA2F

;  S U B	R O U T	I N E 


sub_ECDA:						    ; CODE XREF: sub_EA2F+2A6p
							    ; sub_EA2F+2C3p ...
			      di
			      clr a
			      st a, unk_184
			      ei
			      ret

; End of function sub_ECDA


;  S U B	R O U T	I N E 


sub_ECE1:						    ; CODE XREF: sub_EA2F+2A4p
							    ; sub_EA2F+2EAp ...
			      ld d, #8080h
			      st d, unk_187
			      st d, unk_189
			      ret

; End of function sub_ECE1

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_EA2F

loc_ECEB:						    ; CODE XREF: sub_EA2F+298j
			      ld a, unk_184
			      cmp a, #20h
			      bcs loc_ED36

			      bsr sub_ECDA

			      ld y, #unk_187

loc_ECF7:						    ; CODE XREF: sub_EA2F+2D6j
			      push y
			      pull x

loc_ECF9:						    ; CODE XREF: sub_EA2F+2D4j
			      inc y
			      cmp y, #unk_18B
			      bcc loc_ED07

			      ld a, x +	00h
			      cmp a, y + 00h
			      bcc loc_ECF9

			      bra loc_ECF7

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_ED07:						    ; CODE XREF: sub_EA2F+2CEj
			      ld a, x +	00h
			      cmp a, #83h
			      bcs loc_ED1B

			      ld a, x +	04h
			      add a, #09h
			      cmp a, #44h
			      ble loc_ED17

			      ld a, #44h

loc_ED17:						    ; CODE XREF: sub_EA2F+2E4j
			      st a, x +	04h
			      bsr sub_ECE1


loc_ED1B:						    ; CODE XREF: sub_EA2F+2DCj
			      ld y, #unk_18B

loc_ED1E:						    ; CODE XREF: sub_EA2F+2F5j
			      ld a, [y]
			      beq loc_ED36

			      cmp y, #unk_18F
			      bcs loc_ED1E

			      ld y, #unk_18B

loc_ED29:						    ; CODE XREF: sub_EA2F+305j
			      ld a, y +	00h
			      sub a, #09h
			      bcc loc_ED30

			      clr a

loc_ED30:						    ; CODE XREF: sub_EA2F+2FEj
			      st a, [y]
			      cmp y, #unk_18F
			      bcs loc_ED29


loc_ED36:						    ; CODE XREF: sub_EA2F+2A8j
							    ; sub_EA2F+2C1j ...
			      ld a, unk_D2
			      bne loc_ED4D

			      di
			      ld y, #unk_18B
			      ld a, #2Bh

loc_ED40:						    ; CODE XREF: sub_EA2F+31Bj
			      cmp a, y + 00h
			      bcc loc_ED46

			      st a, y +	00h

loc_ED46:						    ; CODE XREF: sub_EA2F+313j
			      inc y
			      cmp y, #unk_18F
			      bcs loc_ED40

			      ei

loc_ED4D:						    ; CODE XREF: sub_EA2F+309j
			      ld b, unk_76
			      cmp #06h,	unk_D2
			      bcs loc_ED89

			      clr a
			      clr b
			      ld y, #unk_18B

loc_ED59:						    ; CODE XREF: sub_EA2F+332j
			      add b, y + 00h
			      addc a, #00h
			      inc y
			      cmp y, #unk_18F
			      bcs loc_ED59

			      jsr divide_rD_4_saturate

			      st b, var_rpm_unk_77
			      ld b, var_ne_count
			      shr b
			      shr b
			      shr b
			      shr b
			      add b, #02h
			      and b, #03h
			      ld y, #unk_18B
			      add y, b
			      clr a
			      ld b, unk_76
			      add b, y + 00h
			      addc a, #00h
			      sub b, var_rpm_unk_77
			      subc a, #00h
			      beq loc_ED89

			      bcs loc_ED88

			      ld b, #0FFh
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 41h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_ED88:						    ; CODE XREF: sub_EA2F+354j
			      clr b

loc_ED89:						    ; CODE XREF: sub_EA2F+323j
							    ; sub_EA2F+352j
			      ld y, #unk_C69B
			      jsr y + 10h

			      st b, unk_164
			      bra loc_EDE5

; END OF FUNCTION CHUNK	FOR sub_EA2F

;  S U B	R O U T	I N E 


sub_ED93:						    ; CODE XREF: ignition_timing_calc+36Dp
			      cmp #5Ch,	unk_D2
			      bcs loc_EDCB

			      ld x, #unk_187
			      ld a, var_ne_count_2
			      shr a
			      shr a
			      shr a
			      shr a
			      and a, #03h
			      add x, a
			      ld a, x +	00h
			      mul a, #07h
			      push d
			      ld d, var_ne_sum3
			      sub d, unk_185
			      pull y
			      add d, #0424h
			      bpz loc_EDB6

			      clr a
			      clr b

loc_EDB6:						    ; CODE XREF: sub_ED93+1Fj
			      jsr divide_rD_8_saturate

			      cmp b, #0ADh
			      bcs loc_EDD1

			      ld a, x +	04h
			      beq loc_EDC8

			      sub a, #1Ah
			      bcc loc_EDC6

			      clr a

loc_EDC6:						    ; CODE XREF: sub_ED93+30j
			      st a, x +	04h

loc_EDC8:						    ; CODE XREF: sub_ED93+2Cj
			      jsr sub_ECE1


loc_EDCB:						    ; CODE XREF: sub_ED93+3j
			      clr a
			      st a, unk_184
			      bra loc_EDD8

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EDD1:						    ; CODE XREF: sub_ED93+28j
			      add y, b
			      mov y, d
			      jsr divide_rD_8_saturate

			      st b, x +	00h

loc_EDD8:						    ; CODE XREF: sub_ED93+3Cj
			      ld d, var_ne_sum3
			      st d, unk_185
			      ld a, unk_184
			      inc a
			      st a, unk_184
			      ret

; End of function sub_ED93

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_EA2F

loc_EDE5:						    ; CODE XREF: sub_EA2F+362j
			      ld a, unk_4E
			      st a, unk_1F5		    ; Bad Address
			      ld d, var_pim
			      cmp d, var_pim_avg
			      bcc loc_EDF6

			      add d, var_pim_avg
			      rorc a
			      rorc b

loc_EDF6:						    ; CODE XREF: sub_EA2F+3C0j
			      st d, unk_12D
			      jsr divide_rD_16

			      mov d, x
			      ld y, #map_ignition_timing
			      ld d, var_rpm_x_5p12
			      cmp a, #30h
			      bcs loc_EE10

			      cmp a, #88h
			      bcc loc_EE0E

			      add a, #30h
			      shr d
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EE0E:						    ; CODE XREF: sub_EA2F+3D9j
			      add a, #0D4h

loc_EE10:						    ; CODE XREF: sub_EA2F+3D5j
			      jsr map_interpolate_3d_div_4

			      ld b, unk_12D
			      cmp b, #5Dh
			      bcs loc_EE2C

			      ld b, unk_107
			      shr b
			      shr b
			      shr b
			      shr b
			      shr b
			      shr b
			      ld y, #unk_C554
			      add y, b
			      sub a, y + 00h
			      bcc loc_EE2C

			      clr a

loc_EE2C:						    ; CODE XREF: sub_EA2F+3E9j
							    ; sub_EA2F+3FAj
			      st a, unk_15F
			      ld a, unk_15F
			      tbbc bit4, unk_40, loc_EE6C

			      mov a, b
			      clr a
			      shl d
			      add d, #0055h
			      sub b, unk_164
			      subc a, #00h
			      bcc loc_EE44

			      clr a
			      clr b

loc_EE44:						    ; CODE XREF: sub_EA2F+411j
			      jsr divide_rD_2_saturate

			      st b, unk_76
			      ld y, #unk_C4EA
			      ld b, var_rpm_div_25
			      jsr table_rB_fixed_16_interpolate

			      ld x, #unk_C4F3
			      tbbc bit7, var_flags_42, loc_EE58

			      inc x

loc_EE58:						    ; CODE XREF: sub_EA2F+425j
			      tbbs bit6, var_flags_42, loc_EE5D

			      inc x
			      inc x

loc_EE5D:						    ; CODE XREF: sub_EA2F:loc_EE58j
			      cmp a, x + 00h
			      bcc loc_EE63

			      ld a, x +	00h

loc_EE63:						    ; CODE XREF: sub_EA2F+430j
			      cmp a, unk_76
			      ble loc_EE6C

			      jsr sub_ECDA

			      ld a, unk_76

loc_EE6C:						    ; CODE XREF: sub_EA2F+403j
							    ; sub_EA2F+436j
			      st a, unk_160
			      ld a, unk_1F8		    ; Bad Address
			      st a, unk_4E
			      ld b, var_rpm_div_25
			      cmp b, #64h
			      bcs loc_EE7C

			      setb bit2, unk_4E

loc_EE7C:						    ; CODE XREF: sub_EA2F+449j
			      cmp b, #60h
			      bcc loc_EE82

			      clrb bit2, unk_4E

loc_EE82:						    ; CODE XREF: sub_EA2F+44Fj
			      ld b, var_ect
			      st b, unk_76
			      cmp b, #84h
			      bcs loc_EE8C

			      setb bit3, unk_4E

loc_EE8C:						    ; CODE XREF: sub_EA2F+459j
			      cmp b, #82h
			      bcc loc_EE92

			      clrb bit3, unk_4E

loc_EE92:						    ; CODE XREF: sub_EA2F+45Fj
			      ld a, #80h
			      cmp b, #0DCh
			      bcc loc_EED6

			      tbbs bit4, unk_40, loc_EEC2

			      ld y, #unk_C4F7
			      mov b, a
			      jsr sub_C6C4

			      st a, unk_7A
			      ld y, #unk_C508
			      ld a, unk_76
			      jsr sub_C6C4

			      st a, var_temp
			      ld d, #7B8Bh
			      st a, var_rpm_unk_77
			      st b, unk_79
			      ld #02h, unk_76
			      ld d, var_pim
			      ld y, #unk_76
			      jsr sub_C6C8

			      bra loc_EECA

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EEC2:						    ; CODE XREF: sub_EA2F+469j
			      ld y, #unk_C519
			      ld a, unk_76
			      jsr sub_C6C4


loc_EECA:						    ; CODE XREF: sub_EA2F+491j
			      tbbc bit2, unk_4E, loc_EED6

			      tbbc bit3, unk_4E, loc_EED6

			      cmp a, #80h
			      ble loc_EED6

			      ld a, #80h

loc_EED6:						    ; CODE XREF: sub_EA2F+467j
							    ; sub_EA2F:loc_EECAj ...
			      st a, unk_161
			      cmp #40h,	var_rpm_x_5p12
			      bcc loc_EEE6

			      cmp #3Ch,	var_rpm_x_5p12
			      bcc loc_EEE8

			      clrb bit1, unk_4E
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EEE6:						    ; CODE XREF: sub_EA2F+4ADj
			      setb bit1, unk_4E

loc_EEE8:						    ; CODE XREF: sub_EA2F+4B2j
			      ld a, unk_12D
			      cmp a, #5Ch
			      bcs loc_EEFC

			      cmp #0CAh, var_ect
			      bcs loc_EEFC

			      cmp #0D2h, var_ect
			      bcs loc_EEFE

			      setb bit0, unk_4E
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EEFC:						    ; CODE XREF: sub_EA2F+4BEj
							    ; sub_EA2F+4C3j
			      clrb bit0, unk_4E

loc_EEFE:						    ; CODE XREF: sub_EA2F+4C8j
			      clr a
			      clr b
			      tbbs bit0, unk_40, loc_EF10

			      tbbc bit0, unk_4E, loc_EF10

			      ld y, #unk_C558
			      tbbc bit1, unk_4E, loc_EF0E

			      inc y
			      inc y

loc_EF0E:						    ; CODE XREF: sub_EA2F+4DAj
			      ld d, y +	00h

loc_EF10:						    ; CODE XREF: sub_EA2F+4D1j
							    ; sub_EA2F+4D4j
			      st d, unk_17E
			      ld a, unk_4E
			      st a, unk_1F8		    ; Bad Address
			      jsr sub_EAAB

			      add a, unk_1BF
			      bcc loc_EF22

			      ld a, #0FFh

loc_EF22:						    ; CODE XREF: sub_EA2F+4EFj
			      st a, var_knock_ign_retard
			      ld a, unk_1F6		    ; Bad Address
			      st a, unk_4E
			      cmp #87h,	unk_5C
			      bgt loc_EF34

			      cmp #24h,	var_rpm_div_25
			      bcc loc_EF38


loc_EF34:						    ; CODE XREF: sub_EA2F+4FEj
			      clrb bit0, unk_4E
			      bra loc_EF69

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EF38:						    ; CODE XREF: sub_EA2F+503j
			      tbbc bit0, unk_4E, loc_EF42

			      clrb bit0, unk_4E
			      ld d, #0000h
			      bra loc_EF6B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EF42:						    ; CODE XREF: sub_EA2F:loc_EF38j
			      ld d, unk_166
			      cmp a, #0FEh
			      bcc loc_EF69

			      tbbs bit4, unk_40, loc_EF5B

			      cmp d, #0056h
			      bcs loc_EF56

			      add d, #0009h
			      bra loc_EF6B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EF56:						    ; CODE XREF: sub_EA2F+520j
			      add d, #0022h
			      bra loc_EF6B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EF5B:						    ; CODE XREF: sub_EA2F+51Aj
			      cmp d, #0010h
			      bcs loc_EF65

			      add d, #0009h
			      bra loc_EF6B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EF65:						    ; CODE XREF: sub_EA2F+52Fj
			      add d, #0001h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EF69:						    ; CODE XREF: sub_EA2F+507j
							    ; sub_EA2F+518j
			      ld a, #0FEh

loc_EF6B:						    ; CODE XREF: sub_EA2F+511j
							    ; sub_EA2F+525j ...
			      st d, unk_166
			      bra loc_EF89

; END OF FUNCTION CHUNK	FOR sub_EA2F

;  S U B	R O U T	I N E 


sub_EF70:						    ; CODE XREF: __RESET:loc_CD59p
			      tbbs bit0, var_limit_flags, locret_EF88

			      tbbc bit6, unk_4E, locret_EF88

			      tbbc bit5, unk_4E, locret_EF88

			      tbbc bit4, unk_40, locret_EF88

			      cmp #05h,	var_speed_kph
			      bcs locret_EF88

			      cmp #0C4h, var_ect
			      bcs locret_EF88

			      setb bit0, unk_4E

locret_EF88:						    ; CODE XREF: sub_EF70j
							    ; sub_EF70+3j ...
			      ret

; End of function sub_EF70

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR sub_EA2F

loc_EF89:						    ; CODE XREF: sub_EA2F+53Fj
			      ld a, unk_4E
			      st a, unk_1F6		    ; Bad Address
			      clr a
			      ld b, unk_160
			      add b, unk_161
			      rolc a
			      sub d, #0085h
			      bmi loc_EFA6

			      cmp d, #00E7h
			      ble loc_EFA2

			      ld b, #0E7h

loc_EFA2:						    ; CODE XREF: sub_EA2F+56Fj
			      cmp b, #00h
			      bcc loc_EFA8


loc_EFA6:						    ; CODE XREF: sub_EA2F+56Aj
			      ld b, #00h

loc_EFA8:						    ; CODE XREF: sub_EA2F+575j
			      st b, unk_162
			      jsr sub_EB5E

			      ld b, #40h
			      tbbs bit2, unk_40, loc_EFD6

			      tbbs bit0, unk_40, loc_EFBE

			      tbbc bit7, var_io_input1,	loc_EFBE

			      tbbc bit4, unk_40, loc_EFBE

			      bra loc_EFD6

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_EFBE:						    ; CODE XREF: sub_EA2F+584j
							    ; sub_EA2F+587j ...
			      ld b, unk_165
			      add b, #04h
			      bcs loc_EFCA

			      cmp b, unk_162
			      ble loc_EFCD


loc_EFCA:						    ; CODE XREF: sub_EA2F+594j
			      ld b, unk_162

loc_EFCD:						    ; CODE XREF: sub_EA2F+599j
			      tbbc bit0, var_io_input1,	loc_EFD6

			      cmp b, #2Bh
			      ble loc_EFD6

			      ld b, #2Bh

loc_EFD6:						    ; CODE XREF: sub_EA2F+581j
							    ; sub_EA2F+58Dj ...
			      st b, unk_165

locret_EFD9:						    ; CODE XREF: sub_EA2F+227j
			      ret

; END OF FUNCTION CHUNK	FOR sub_EA2F
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

			      ;	public int_vector_e_ne
int_vector_e_ne:					    ; DATA XREF: ROM:FFFAo
			      clrb bit6, IRQLL
			      push x
			      push y
			      ld b, var_ne_count
			      bmi loc_F004

			      cmp #3Fh,	unk_C1
			      bcs loc_F004

			      ld a, unk_197
			      tbbc bit6, IRQL, loc_EFF1	    ; Interrupt	Request	Flag MSB

			      inc a
			      bne loc_EFF1

			      dec a

loc_EFF1:						    ; CODE XREF: ROM:EFEAj
							    ; ROM:EFEEj
			      ld b, SMRC_SIR		    ; Serial Master Register Control
			      cmpb b, #04h
			      bne loc_F005

			      cmp a, #02h
			      beq loc_F002

			      cmp a, #06h
			      bcs loc_F004

			      setb bit7, var_error_flags1
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F002:						    ; CODE XREF: ROM:EFF9j
			      clrb bit7, var_error_flags1

loc_F004:						    ; CODE XREF: ROM:EFE0j
							    ; ROM:EFE5j ...
			      clr a

loc_F005:						    ; CODE XREF: ROM:EFF5j
			      st a, unk_197
			      clrb bit6, IRQL
			      ld b, var_ne_count
			      ld a, SMRC_SIR		    ; Serial Master Register Control
			      cmpb a, #08h
			      beq loc_F033

			      cmpb a, #04h
			      beq loc_F03C

			      inc unk_AB
			      cmpz b
			      bmi loc_F052

			      mov b, a
			      inc b
			      and a, #0Fh
			      cmp a, #05h
			      bcs loc_F052

			      and b, #0F0h
			      add b, #10h
			      mov b, a
			      cmp b, #20h
			      beq loc_F047

			      cmp b, #40h
			      bne loc_F052

			      clr a
			      bra loc_F047

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F033:						    ; CODE XREF: ROM:F010j
			      clr unk_AB
			      clr a
			      cmp b, #35h
			      beq loc_F051

			      bra loc_F044

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F03C:						    ; CODE XREF: ROM:F014j
			      clr unk_AB
			      ld a, #20h
			      cmp b, #15h
			      beq loc_F051


loc_F044:						    ; CODE XREF: ROM:F03Aj
			      cmpz b
			      bmi loc_F051


loc_F047:						    ; CODE XREF: ROM:F02Aj
							    ; ROM:F031j
			      tbbc bit2, unk_46, loc_F051

			      tbbs bit1, unk_40, loc_F051

			      setb bit5, var_diag_errors_5
			      setb bit1, var_error_flags1

loc_F051:						    ; CODE XREF: ROM:F038j
							    ; ROM:F042j ...
			      mov a, b

loc_F052:						    ; CODE XREF: ROM:F019j
							    ; ROM:F021j ...
			      st b, var_ne_count
			      bra loc_F085


;  S U B	R O U T	I N E 


init_ne_counters:					    ; CODE XREF: __RESET:loc_C94Dp
							    ; __RESET+224p
			      ld d, #5500h
			      ld y, #var_ne_0
			      st d, [y]
			      st d, [y]
			      st d, [y]
			      ld d, #0FFFFh
			      st d, var_ne_sum3
			      st a, var_ne_count
			      st a, var_ne_count_2
			      ret

; End of function init_ne_counters


;  S U B	R O U T	I N E 


init_ne_on_start:					    ; CODE XREF: sub_F7FA+6p
			      tbbc bit0, var_io_input1,	loc_F07D

			      tbs bit7,	unk_44
			      bne locret_F084

			      cmp #0Ch,	var_revcnt_sta
			      bcs locret_F084

			      ld a, #0FFh
			      st a, var_ne_count
			      st a, var_ne_count_2
			      bra locret_F084

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F07D:						    ; CODE XREF: init_ne_on_startj
			      tbbc bit7, unk_44, locret_F084

			      clrb bit7, unk_44
			      clr var_revcnt_sta

locret_F084:						    ; CODE XREF: init_ne_on_start+5j
							    ; init_ne_on_start+Aj ...
			      ret

; End of function init_ne_on_start

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F085:						    ; CODE XREF: ROM:F054j
			      jsr knock_mcu_update

			      clrb bit3, var_flags_42
			      setb bit1, IRQLL
			      pull y
			      pull x
			      reti


;  S U B	R O U T	I N E 


ignition_timing_calc:					    ; CODE XREF: int_vector_6_sw_int+8p

; FUNCTION CHUNK AT F2A9 SIZE 000000F6 BYTES
; FUNCTION CHUNK AT F3E5 SIZE 0000001B BYTES

			      jsr injector_cold_start

			      jsr sub_DBAD

			      ld x, ASR2		    ; ASR2 edge	counter	value MSB
			      st x, var_asr2_time
			      clr a
			      ld b, var_ne_count
			      bpz loc_F0A1

			      ld a, #08h

loc_F0A1:						    ; CODE XREF: ignition_timing_calc+Ej
			      xch a, var_cnt_C3
			      xch b, var_ne_count_2
			      cmpz b
			      bmi loc_F0C4

			      ld b, var_ne_count_2
			      and b, #07h
			      cmpb b, #01h
			      bne loc_F0CF

			      ld y, #var_ne_0
			      add y, b
			      cmp a, #08h
			      bcc loc_F0C0

			      mov x, d
			      sub d, var_prev_asr2_time
			      cmp a, #55h
			      bcs loc_F0C3


loc_F0C0:						    ; CODE XREF: ignition_timing_calc+27j
			      ld d, #5500h

loc_F0C3:						    ; CODE XREF: ignition_timing_calc+2Fj
			      st d, [y]

loc_F0C4:						    ; CODE XREF: ignition_timing_calc+17j
			      st x, var_prev_asr2_time
			      ld d, var_ne_0
			      add d, var_ne_1
			      add d, var_ne_2
			      st d, var_ne_sum3

loc_F0CF:						    ; CODE XREF: ignition_timing_calc+1Fj
			      ld b, var_ne_count_2
			      bpz loc_F0D6

			      jmp loc_F2A9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F0D6:						    ; CODE XREF: ignition_timing_calc+42j
			      and b, #07h
			      push b
			      bne loc_F0DD

			      clrb bit1, unk_41

loc_F0DD:						    ; CODE XREF: ignition_timing_calc+4Aj
			      cmp b, #04h
			      bne loc_F115

			      tbbs bit2, var_ignition_flags, loc_F115

			      cmp #3Ch,	var_rpm_div_25
			      bcc loc_F115

			      ld a, #02h
			      ld b, #56h
			      sub d, unk_181
			      shr d
			      st a, unk_A4
			      ld x, var_ne_2
			      jsr mult_rBrX

			      cmp #00h,	unk_A4
			      beq loc_F0FF

			      add d, var_ne_2

loc_F0FF:						    ; CODE XREF: ignition_timing_calc+6Cj
			      sub d, #0035h
			      add d, var_prev_asr2_time
			      sub d, unk_17C
			      mov d, x
			      di
			      cmp d, CPR0		    ; Timer comparison #0 MSB
			      bpz loc_F114

			      tbbc bit0, var_ignition_flags, loc_F114

			      jsr sub_F263


loc_F114:						    ; CODE XREF: ignition_timing_calc+7Dj
							    ; ignition_timing_calc+7Fj
			      ei

loc_F115:						    ; CODE XREF: ignition_timing_calc+50j
							    ; ignition_timing_calc+52j	...
			      pull b
			      tbbc bit2, var_ignition_flags, loc_F141

			      cmp b, #03h
			      bne loc_F11F

			      clrb bit4, var_ignition_flags

loc_F11F:						    ; CODE XREF: ignition_timing_calc+8Cj
			      tbbs bit4, var_ignition_flags, loc_F13E

			      ld a, #2Bh
			      st a, var_ign_timing_div_2
			      ld a, #4Bh
			      st a, var_obd_ign		    ; Bad Address
							    ; Bad Address
			      cmpz b
			      bne loc_F134

			      di
			      clrb bit0, DOUT
			      bra loc_F13B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F134:						    ; CODE XREF: ignition_timing_calc+9Ej
			      cmp b, #05h
			      bne loc_F13E

			      di
			      setb bit0, DOUT

loc_F13B:						    ; CODE XREF: ignition_timing_calc+A3j
			      jsr ignition_set_immediate


loc_F13E:						    ; CODE XREF: ignition_timing_calc:loc_F11Fj
							    ; ignition_timing_calc+A7j
			      jmp loc_F2A9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F141:						    ; CODE XREF: ignition_timing_calc+87j
			      mov d, y
			      cmp b, #01h
			      beq loc_F14D

			      cmp b, #03h
			      beq loc_F154

			      jmp loc_F221

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F14D:						    ; CODE XREF: ignition_timing_calc+B5j
			      ld b, unk_165
			      clrb bit5, var_ignition_flags
			      bra loc_F157

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F154:						    ; CODE XREF: ignition_timing_calc+B9j
			      ld b, var_ign_timing_div_2

loc_F157:						    ; CODE XREF: ignition_timing_calc+C3j
			      clrb bit4, var_ignition_flags
			      tbbs bit2, unk_40, loc_F16D

			      tbbs bit0, unk_40, loc_F178

			      tbbs bit3, unk_4D, loc_F16D

			      tbbc bit4, unk_40, loc_F178

			      tbbc bit7, var_io_input1,	loc_F178

			      ld d, #0080h		    ; Set fixed	-10 ignition timing
			      bra loc_F170

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F16D:						    ; CODE XREF: ignition_timing_calc+CAj
							    ; ignition_timing_calc+D0j
			      ld d, #0056h		    ; Set fixed	-5 ignition timing

loc_F170:						    ; CODE XREF: ignition_timing_calc+DCj
			      mov d, x
			      shr d
			      st b, var_ign_timing_div_2
			      mov x, d
			      bra loc_F1C3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F178:						    ; CODE XREF: ignition_timing_calc+CDj
							    ; ignition_timing_calc+D3j	...
			      cmp b, var_min_ign_timing
			      bcs loc_F180

			      ld b, var_min_ign_timing

loc_F180:						    ; CODE XREF: ignition_timing_calc+ECj
			      clr a
			      shl d
			      st d, unk_A4
			      clr a
			      ld b, unk_162
			      shl d
			      sub b, var_knock_ign_retard
			      subc a, #00h
			      bcc loc_F192

			      clr a
			      clr b

loc_F192:						    ; CODE XREF: ignition_timing_calc+FFj
			      cmp d, unk_A4
			      bcs loc_F198

			      ld d, unk_A4

loc_F198:						    ; CODE XREF: ignition_timing_calc+105j
			      cmp d, unk_166
			      bcs loc_F1A0

			      ld d, unk_166

loc_F1A0:						    ; CODE XREF: ignition_timing_calc+10Cj
			      mov d, x
			      shr d
			      st b, var_ign_timing_div_2
			      ld a, unk_164
			      add x, a
			      mov x, d
			      sub d, #0055h
			      bcc loc_F1B1

			      clr a
			      clr b

loc_F1B1:						    ; CODE XREF: ignition_timing_calc+11Ej
			      mov d, x
			      ld a, unk_180
			      add x, a
			      ld a, unk_17E
			      cmp #30h,	var_ne_count_2
			      bcc loc_F1C1

			      ld a, unk_17F

loc_F1C1:						    ; CODE XREF: ignition_timing_calc+12Dj
			      add x, a
			      mov x, d

loc_F1C3:						    ; CODE XREF: ignition_timing_calc+E7j
			      cmp d, #01CDh		    ; Check if ignition	timing is less than 90 BTDC
			      ble loc_F1CB

			      ld d, #01CDh		    ; Clamp to 90 BTDC

loc_F1CB:						    ; CODE XREF: ignition_timing_calc+137j
			      mov d, x
			      shr d
			      shr b
			      add b, #35h
			      st b, var_obd_ign		    ; Bad Address
							    ; Bad Address
			      mov x, d
			      sub d, #0007h
			      bcc loc_F1DB

			      clr a
			      clr b

loc_F1DB:						    ; CODE XREF: ignition_timing_calc+148j
			      st d, unk_181
			      mov y, d
			      ld a, #06h
			      sub a, b
			      ld b, #56h
			      sub d, unk_181
			      mov d, x
			      ld a, var_rpm_x_5p12
			      mul a, #0E9h
			      st a, unk_A4
			      mov x, d
			      shr b
			      cmp b, unk_A4
			      bcc loc_F1FD

			      dec a
			      bpz loc_F1FB

			      clr a
			      ld b, unk_A4
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F1FB:						    ; CODE XREF: ignition_timing_calc+166j
			      add b, #80h

loc_F1FD:						    ; CODE XREF: ignition_timing_calc+163j
			      inc a
			      st d, unk_176
			      mov x, d
			      st b, unk_A4
			      mov a, b
			      clr a
			      div d, #06h
			      xch b, unk_A4
			      div d, #06h
			      mov b, a
			      jsr sub_F29D

			      cmp #00h,	unk_A4
			      beq loc_F217

			      add d, var_ne_sum3

loc_F217:						    ; CODE XREF: ignition_timing_calc+184j
			      sub d, #0035h
			      add d, var_asr2_time
			      bsr ignition_update_off_time

			      setb bit0, var_ignition_flags

loc_F221:						    ; CODE XREF: ignition_timing_calc+BBj
			      ld d, unk_176
			      dec a
			      st a, unk_176
			      bne loc_F2A9

			      mov b, a
			      bsr sub_F29D

			      st b, unk_A4
			      mov a, b
			      clr a
			      div d, #03h
			      xch b, unk_A4
			      div d, #03h
			      ld a, unk_A4
			      sub d, #0035h
			      add d, var_asr2_time
			      bsr sub_F27A

			      bra loc_F2A9

; End of function ignition_timing_calc


;  S U B	R O U T	I N E 


ignition_update_off_time:				    ; CODE XREF: ignition_timing_calc+18Ep
							    ; int_vector_9_ignition+A2p
			      sub d, unk_17C
			      mov d, x
			      cmp #1Dh,	var_ne_sum3
			      bcc sub_F263

			      sub d, var_ign_on_time_from_CPR0
			      bmi loc_F25A

			      shr d
			      cmpz a
			      bne sub_F263

			      cmp b, unk_17B
			      bcc sub_F263


loc_F25A:						    ; CODE XREF: ignition_update_off_time+Cj
			      clr a
			      ld b, unk_17B
			      shl d
			      add d, var_ign_on_time_from_CPR0
			      mov d, x
; End of function ignition_update_off_time


;  S U B	R O U T	I N E 


sub_F263:						    ; CODE XREF: ignition_timing_calc+82p
							    ; ignition_update_off_time+7j ...
			      st x, var_ign_next_time
			      di
			      tbbc bit0, DOUT, loc_F276	    ; DOUT Data	Register

			      ld d, TIMER		    ; Timer MSB	(bit11~bit18)
			      add d, #0004h
			      cmp d, CPR0		    ; Timer comparison #0 MSB
			      bpz ignition_done

			      inc a
			      st d, CPR0		    ; Timer comparison #0 MSB

loc_F276:						    ; CODE XREF: sub_F263+4j
			      setb bit0, DOUT
			      bra ignition_set_time

; End of function sub_F263


;  S U B	R O U T	I N E 


sub_F27A:						    ; CODE XREF: ignition_timing_calc+1B0p
			      st d, var_ign_next_time
			      di
			      tbbs bit3, var_ignition_flags, ignition_set_on_time

			      setb bit5, var_ignition_flags
			      bra ignition_done

; End of function sub_F27A


;  S U B	R O U T	I N E 


ignition_set_on_time:					    ; CODE XREF: sub_F27A+4j
							    ; int_vector_9_ignition+Ep
			      di
			      clrb bit0, DOUT		    ; Clear DOUT.0 to turn on igntion when TIMER matches CPR0
			      clrb bit1, var_ignition_flags

ignition_set_time:					    ; CODE XREF: sub_F263+15j
			      ld d, var_ign_next_time
			      sub d, #0004h
			      cmp d, TIMER		    ; Timer MSB	(bit11~bit18)
			      bpz loc_F296

; End of function ignition_set_on_time


;  S U B	R O U T	I N E 


ignition_set_immediate:					    ; CODE XREF: ignition_timing_calc:loc_F13Bp
			      ld d, TIMER		    ; Timer MSB	(bit11~bit18)

loc_F296:						    ; CODE XREF: ignition_set_on_time+Dj
			      add d, #0004h
			      st d, CPR0		    ; Timer comparison #0 MSB

ignition_done:						    ; CODE XREF: sub_F263+Ej
							    ; sub_F27A+9j
			      ei
			      ret

; End of function ignition_set_immediate


;  S U B	R O U T	I N E 


sub_F29D:						    ; CODE XREF: ignition_timing_calc+17Ep
							    ; ignition_timing_calc+19Cp
			      mov d, y
			      mul a, var_ne_sum3
			      mov d, x
			      mov y, d
			      mul a, unk_75
			      addc a, #00h
			      add x, a
			      mov x, d
			      ret

; End of function sub_F29D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR ignition_timing_calc

loc_F2A9:						    ; CODE XREF: ignition_timing_calc+44j
							    ; ignition_timing_calc:loc_F13Ej ...
			      ld a, var_ne_count_2
			      bpz loc_F2B0

			      jmp loc_F3E5

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F2B0:						    ; CODE XREF: ignition_timing_calc+21Cj
			      ld d, var_inj_pw
			      tbbs bit1, unk_40, loc_F2D7

			      tbbs bit5, unk_44, loc_F30C

			      cmp #18h,	var_rpm_div_25
			      bcc loc_F2C3

			      cmp #1Fh,	var_cnt_startup
			      bcs loc_F2D7


loc_F2C3:						    ; CODE XREF: ignition_timing_calc+22Dj
			      cmp #11h,	var_ne_count_2
			      bne loc_F2D7

			      shr d
			      setb bit5, unk_44
			      ld x, #table_injector_control
			      jsr injector_update

			      inc x
			      jsr injector_update

			      bra loc_F300

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F2D7:						    ; CODE XREF: ignition_timing_calc+224j
							    ; ignition_timing_calc+232j ...
			      clrb bit5, unk_44
			      ld x, #table_injector_control
			      cmp #12h,	var_ne_count_2
			      beq loc_F2F4

			      cmp #32h,	var_ne_count_2
			      beq loc_F2F4

			      inc x
			      cmp #02h,	var_ne_count_2
			      beq loc_F2F4

			      cmp #22h,	var_ne_count_2
			      beq loc_F2F4

			      jmp loc_F37B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F2F4:						    ; CODE XREF: ignition_timing_calc+250j
							    ; ignition_timing_calc+255j ...
			      tbbc bit4, var_diag_errors_5, loc_F2F8

			      shr d

loc_F2F8:						    ; CODE XREF: ignition_timing_calc:loc_F2F4j
			      jsr injector_update

			      inc x
			      inc x
			      jsr injector_update


loc_F300:						    ; CODE XREF: ignition_timing_calc+246j
							    ; ignition_timing_calc+283j ...
			      ld a, #02h
			      st a, var_inj_active
			      ld a, #10h
			      st a, unk_15C
			      bra loc_F35C

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F30C:						    ; CODE XREF: ignition_timing_calc+227j
			      ld b, unk_15D
			      mov b, a
			      cmp b, #35h
			      bgt loc_F300

			      and b, #0Fh
			      cmp b, #05h
			      bgt loc_F300

			      cmp a, var_ne_count_2
			      bne loc_F37B

			      ld b, var_inj_active
			      and b, #03h
			      ld x, #table_injector_control
			      add x, b
			      ld d, var_inj_pw
			      jsr injector_update

			      ld a, var_inj_active
			      inc a
			      and a, #03h
			      st a, var_inj_active
			      ld d, unk_15B
			      sub a, b
			      bcs loc_F344

			      cmp a, #05h
			      ble loc_F358

			      ld a, #05h
			      bra loc_F358

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F344:						    ; CODE XREF: ignition_timing_calc+2ABj
			      cmp a, #0FDh
			      bcc loc_F352

			      push b
			      ld b, var_inj_active
			      shr b
			      pull b
			      bcs loc_F352

			      clrb bit3, unk_41

loc_F352:						    ; CODE XREF: ignition_timing_calc+2B7j
							    ; ignition_timing_calc+2BFj
			      cmp a, #0FBh
			      bcc loc_F358

			      ld a, #0FBh

loc_F358:						    ; CODE XREF: ignition_timing_calc+2AFj
							    ; ignition_timing_calc+2B3j ...
			      add a, b
			      st a, unk_15C

loc_F35C:						    ; CODE XREF: ignition_timing_calc+27Bj
			      ld a, var_inj_active
			      mul a, #06h
			      add b, unk_15C
			      sub b, #0Ch
			      bcc loc_F36A

			      add b, #18h

loc_F36A:						    ; CODE XREF: ignition_timing_calc+2D7j
			      cmp b, #18h
			      bcs loc_F370

			      sub b, #18h

loc_F370:						    ; CODE XREF: ignition_timing_calc+2DDj
			      clr a
			      div d, #06h
			      shl b
			      shl b
			      shl b
			      shl b
			      add a, b
			      st a, unk_15D

loc_F37B:						    ; CODE XREF: ignition_timing_calc+262j
							    ; ignition_timing_calc+28Dj
			      tbbc bit5, unk_44, loc_F39B

			      ld a, unk_15D
			      mov a, b
			      and a, #07h
			      and b, #30h
			      sub a, #03h
			      bcc loc_F390

			      sub b, #10h
			      and b, #30h
			      add a, #06h

loc_F390:						    ; CODE XREF: ignition_timing_calc+2F9j
			      add a, b
			      cmp a, var_ne_count_2
			      bne loc_F39D

			      ld a, var_inj_active
			      shr a
			      bcs loc_F39D


loc_F39B:						    ; CODE XREF: ignition_timing_calc:loc_F37Bj
			      clrb bit3, unk_41

loc_F39D:						    ; CODE XREF: ignition_timing_calc+304j
							    ; ignition_timing_calc+30Aj
			      bra loc_F3E5

; END OF FUNCTION CHUNK	FOR ignition_timing_calc
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
table_injector_control:	      .db 10h, 40h, 80h, 20h	    ; DATA XREF: ignition_timing_calc+23Co
							    ; ignition_timing_calc+24Ao ...
			      .db 0EFh,	0BFh, 7Fh, 0DFh
			      .db CPR4,	CPR6, CPR7, CPR5    ; Timer comparison #0 MSB

;  S U B	R O U T	I N E 


sub_F3AB:						    ; CODE XREF: ROM:loc_E702p
			      ld d, var_inj_pw
			      add d, #0591h
			      rorc a
			      rorc b
			      jsr divide_rD_16

			      mov d, x
			      ld d, var_rpm_x_5p12
			      jsr divide_rD_16

			      jsr mult_rDrX

			      div d, #31h
			      ld y, #table_unk_C3D9
			      tbbs bit4, unk_40, loc_F3C9

			      inc y
			      inc y

loc_F3C9:						    ; CODE XREF: sub_F3AB+19j
			      cmp #0B3h, var_ect
			      bcs loc_F3CF

			      inc y

loc_F3CF:						    ; CODE XREF: sub_F3AB+21j
			      ld a, y +	00h
			      st a, unk_113
			      add b, y + 00h
			      cmp b, #1Ah
			      ble loc_F3DC

			      ld b, #1Ah

loc_F3DC:						    ; CODE XREF: sub_F3AB+2Dj
			      sub b, #18h
			      neg b
			      add b, #0Ah
			      st b, unk_15B
			      ret

; End of function sub_F3AB

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR ignition_timing_calc

loc_F3E5:						    ; CODE XREF: ignition_timing_calc+21Ej
							    ; ignition_timing_calc:loc_F39Dj
			      jsr loc_F549

			      ld a, var_ne_count_2
			      cmp a, #00h
			      beq loc_F3F2

			      cmp a, #20h
			      bne loc_F3F4


loc_F3F2:						    ; CODE XREF: ignition_timing_calc+35Dj
			      clrb bit2, unk_41

loc_F3F4:						    ; CODE XREF: ignition_timing_calc+361j
			      and a, #07h
			      bne locret_F3FF

			      clrb bit0, unk_41
			      clrb bit1, var_diag_errors_5
			      jsr sub_ED93


locret_F3FF:						    ; CODE XREF: ignition_timing_calc+367j
			      ret

; END OF FUNCTION CHUNK	FOR ignition_timing_calc
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      jsr check_limiters_active2

			      bra loc_F408


;  S U B	R O U T	I N E 


injectors_batch_update:					    ; CODE XREF: __RESET+61Ep
							    ; injector_cold_start:loc_CF2Ep ...
			      jsr check_limiters_active


loc_F408:						    ; CODE XREF: ROM:F403j
			      bcs no_injector

			      ld x, #table_injector_control

loc_F40D:						    ; CODE XREF: injectors_batch_update+Ej
			      bsr injector_drive

			      inc x
			      cmp x, #(table_injector_control+3)
			      ble loc_F40D

			      bra no_injector

; End of function injectors_batch_update


;  S U B	R O U T	I N E 


injector_update:					    ; CODE XREF: ignition_timing_calc+23Fp
							    ; ignition_timing_calc+243p ...
			      bsr check_limiters_active2

			      bra loc_F41D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      bsr check_limiters_active


loc_F41D:						    ; CODE XREF: injector_update+2j
			      bcs no_injector

; End of function injector_update


;  S U B	R O U T	I N E 


injector_drive:						    ; CODE XREF: injectors_batch_update:loc_F40Dp
			      cmp d, #000Dh
			      bcs no_injector

			      push d
			      clr a
			      ld b, x +	08h
			      mov d, y
			      di
			      ld a, LDOUT		    ; Latch DOUT
			      cmpb a, x	+ 00h
			      bne loc_F438

			      pull d
			      push d
			      add d, var_inj_battery_adjust
			      push x
			      bra loc_F446

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F438:						    ; CODE XREF: injector_drive+Fj
			      ld d, y +	00h
			      sub d, TIMER		    ; Timer MSB	(bit11~bit18)
			      cmp a, #0FFh
			      bne loc_F442

			      clr a
			      clr b

loc_F442:						    ; CODE XREF: injector_drive+1Fj
			      push x
			      mov s, x
			      add d, x + 02h

loc_F446:						    ; CODE XREF: injector_drive+17j
			      bcc loc_F44B

			      ld d, #0FFFFh

loc_F44B:						    ; CODE XREF: injector_drive:loc_F446j
			      push d
			      mov s, x
			      ld d, var_ne_sum3
			      cmp d, #15625
			      ble loc_F457

			      ld d, #15625

loc_F457:						    ; CODE XREF: injector_drive+33j
			      shl d
			      shl d
			      cmp d, x + 00h
			      bcs loc_F45F

			      ld d, x +	00h

loc_F45F:						    ; CODE XREF: injector_drive+3Cj
			      pull x
			      pull x
			      add d, TIMER		    ; Timer MSB	(bit11~bit18)
			      st d, y +	00h
			      ld d, DOUT		    ; DOUT Data	Register
			      or a, x +	00h
			      and b, x + 04h
			      st d, DOUT		    ; DOUT Data	Register
			      ld d, DOUT		    ; DOUT Data	Register
			      and a, x + 04h
			      or b, x +	00h
			      st b, DOM			    ; DOUT Control Register
			      st a, DOUT		    ; DOUT Data	Register
			      pull d
			      ei

no_injector:						    ; CODE XREF: injectors_batch_update:loc_F408j
							    ; injectors_batch_update+10j ...
			      ret

; End of function injector_drive


;  S U B	R O U T	I N E 


check_limiters_active:					    ; CODE XREF: injectors_batch_updatep
							    ; injector_update+4p
			      mov d, y
			      ld a, #00111100b
			      bra loc_F482

; End of function check_limiters_active


;  S U B	R O U T	I N E 


check_limiters_active2:					    ; CODE XREF: ROM:F400p
							    ; injector_updatep
			      mov d, y
			      ld a, #00111111b

loc_F482:						    ; CODE XREF: check_limiters_active+3j
			      and a, var_limit_flags
			      bne loc_F48B

			      tbbs bit4, var_limit_flags, loc_F48B

			      clrc
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 41h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F48B:						    ; CODE XREF: check_limiters_active2+5j
							    ; check_limiters_active2+7j
			      setc
			      mov y, d
			      ret

; End of function check_limiters_active2


;  S U B	R O U T	I N E 


knock_mcu_update:					    ; CODE XREF: ROM:loc_F085p
			      ld b, var_ne_count
			      ld a, var_knock_info	    ; Bad Address
							    ; Bad Address
			      cmpz b
			      bne loc_F49A		    ; Jump if not TDC on 1st cylinder

			      setb bit2, PORTB		    ; Inform knock MCU of TDC on 1st cylinder
			      bra loc_F4A0

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F49A:						    ; CODE XREF: knock_mcu_update+6j
			      and b, #07h
			      bne loc_F4A3

			      clrb bit2, PORTB

loc_F4A0:						    ; CODE XREF: knock_mcu_update+Aj
			      jmp loc_F534

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F4A3:						    ; CODE XREF: knock_mcu_update+Ej
			      dec b
			      bne loc_F4A9

			      jmp loc_F52A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F4A9:						    ; CODE XREF: knock_mcu_update+16j
			      dec b
			      beq loc_F4AF

			      jmp locret_F548

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F4AF:						    ; CODE XREF: knock_mcu_update+1Cj
			      tbbs bit2, unk_40, loc_F527

			      tbbc bit0, PORTD_ASRIN, loc_F527 ; Port D	Data Register /	ASR Input Data

			      tbbs bit5, PORTAL, loc_F527   ; Port A Latch

			      tbbs bit5, PORTA,	loc_F527    ; Port A Data Register

			      cmp #7Ah,	unk_BD
			      ble loc_F527

			      cmp #7Ah,	unk_BF
			      ble loc_F527

			      mov a, b
			      tbbs bit0, IRQLL,	loc_F4CB    ; Interrupt	Request	Flag LSB

			      add b, #04h

loc_F4CB:						    ; CODE XREF: knock_mcu_update+38j
			      shr b
			      shr b
			      shr b
			      rorc b
			      bvc loc_F4EF

			      bcs loc_F51E

			      cmp #39h,	var_rpm_x_5p12
			      bcs loc_F527

			      cmp #92h,	var_rpm_x_5p12
			      bcc loc_F527

			      cmp #03h,	unk_A6
			      bcc loc_F4E6

			      inc unk_A6
			      bra loc_F527

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F4E6:						    ; CODE XREF: knock_mcu_update+52j
			      tbbc bit7, var_diag_errors_5, loc_F527

			      setb bit5, var_flags_42
			      setb bit0, unk_4C
			      bra loc_F527

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F4EF:						    ; CODE XREF: knock_mcu_update+41j
			      cmp #0Eh,	var_rpm_x_5p12
			      bcs loc_F527

			      cmp #92h,	var_rpm_x_5p12
			      bcc loc_F527

			      ld b, unk_80
			      cmpb b, #80h
			      bne loc_F527

			      and a, #0F0h
			      add a, #10h
			      cmp a, #0C0h
			      bcs loc_F50C

			      setb bit4, unk_4C
			      clr a
			      bra loc_F510

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F50C:						    ; CODE XREF: knock_mcu_update+77j
			      cmp a, #60h
			      bne loc_F528


loc_F510:						    ; CODE XREF: knock_mcu_update+7Cj
			      clrb bit0, PORTD_ASRIN
			      div d, #00h
			      div d, #00h
			      div d, #00h
			      setb bit0, PORTD_ASRIN
			      setb bit5, var_flags_42
			      bra loc_F528

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F51E:						    ; CODE XREF: knock_mcu_update+43j
			      tbbs bit0, unk_4C, loc_F527

			      clrb bit5, var_flags_42
			      clrb bit4, unk_4C
			      clr unk_A6

loc_F527:						    ; CODE XREF: knock_mcu_update:loc_F4AFj
							    ; knock_mcu_update+24j ...
			      clr a

loc_F528:						    ; CODE XREF: knock_mcu_update+80j
							    ; knock_mcu_update+8Ej
			      bra loc_F545		    ; Bad Address
							    ; Bad Address

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F52A:						    ; CODE XREF: knock_mcu_update+18j
			      clrb bit2, PORTB
			      bra loc_F530

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  77h ; w
			      .db  42h ; B
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F530:						    ; CODE XREF: knock_mcu_update+9Ej
			      setb bit1, PORTB
			      bra locret_F548

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F534:						    ; CODE XREF: knock_mcu_update:loc_F4A0j
			      tbbs bit0, IRQLL,	loc_F539    ; Interrupt	Request	Flag LSB

			      or a, #08h

loc_F539:						    ; CODE XREF: knock_mcu_update:loc_F534j
			      clrb bit1, PORTB
			      tbbs bit0, PORTC,	loc_F540    ; Port C Data Register

			      or a, #02h

loc_F540:						    ; CODE XREF: knock_mcu_update+ADj
			      tbbs bit5, PORTC,	loc_F545    ; Bad Address
							    ; Bad Address

			      or a, #01h

loc_F545:						    ; CODE XREF: knock_mcu_update:loc_F528j
							    ; knock_mcu_update:loc_F540j
			      st a, var_knock_info	    ; Bad Address
							    ; Bad Address

locret_F548:						    ; CODE XREF: knock_mcu_update+1Ej
							    ; knock_mcu_update+A4j
			      ret

; End of function knock_mcu_update

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F549:						    ; CODE XREF: ignition_timing_calc:loc_F3E5p
			      ld b, var_ne_count_2
			      bpz loc_F550

			      jmp locret_F6E3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F550:						    ; CODE XREF: ROM:F54Bj
			      and b, #0Fh
			      bne loc_F556

			      bra loc_F55D		    ; Bad Address
							    ; Bad Address

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F556:						    ; CODE XREF: ROM:F552j
			      cmp b, #01h
			      bne loc_F55A

loc_F55A:
			      jmp locret_F6E3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F55D:						    ; CODE XREF: ROM:F554j
			      ld a, unk_1C5		    ; Bad Address
							    ; Bad Address
			      inc a
			      beq loc_F566

			      st a, unk_1C5		    ; Bad Address
							    ; Bad Address

loc_F566:						    ; CODE XREF: ROM:F561j
			      ld a, var_rpm_x_5p12
			      cmp a, #90h
			      bcc loc_F589

			      cmp a, #10h
			      bcs loc_F592

			      tbbs bit4, unk_40, loc_F592

			      ld a, unk_1C9		    ; Bad Address
							    ; Bad Address
			      cmp a, #04h
			      bcs loc_F592

			      cmp #0D2h, var_ect
			      bcs loc_F592

			      setb bit7, var_diag_errors_5
			      tbbc bit5, var_flags_42, loc_F59B	; Bad Address
							    ; Bad Address

			      ld a, unk_1C6		    ; Bad Address
							    ; Bad Address
			      bra loc_F596

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F589:						    ; CODE XREF: ROM:F56Aj
			      tbbc bit7, var_diag_errors_5, loc_F592

			      ld a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      st a, unk_1C2		    ; Bad Address
							    ; Bad Address

loc_F592:						    ; CODE XREF: ROM:F56Ej
							    ; ROM:F570j ...
			      clrb bit7, var_diag_errors_5
			      ld a, #1Ah

loc_F596:						    ; CODE XREF: ROM:F587j
			      clr unk_E0
			      jmp loc_F61F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F59B:						    ; CODE XREF: ROM:F581j
			      ld a, var_knock_info	    ; Bad Address
							    ; Bad Address
			      and a, #03h
			      beq loc_F5DC		    ; Bad Address
							    ; Bad Address

			      ld y, #(byte_C615+4Fh)
			      add y, a
			      ld a, y +	00h
			      ld b, unk_1C5		    ; Bad Address
							    ; Bad Address
			      cmp b, #04h
			      bgt loc_F5BC		    ; Bad Address
							    ; Bad Address

			      shl a
			      cmp b, #01h
			      bgt loc_F5BC		    ; Bad Address
							    ; Bad Address

			      push b
			      ld b, unk_1BF
			      pull b
			      bne loc_F5BC		    ; Bad Address
							    ; Bad Address

			      shl a

loc_F5BC:						    ; CODE XREF: ROM:F5ADj
							    ; ROM:F5B2j ...
			      add a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      bcc loc_F5C3		    ; Bad Address
							    ; Bad Address

			      ld a, #0FFh

loc_F5C3:						    ; CODE XREF: ROM:F5BFj
			      st a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      cmp b, #04h
			      bcs loc_F5D8

			      sub a, unk_1C7		    ; Bad Address
							    ; Bad Address
			      ble loc_F5D8

			      shr a
			      shr a
			      inc a
			      add a, unk_1C7		    ; Bad Address
							    ; Bad Address
			      st a, unk_1C7		    ; Bad Address
							    ; Bad Address

loc_F5D8:						    ; CODE XREF: ROM:F5C8j
							    ; ROM:F5CDj
			      clr a
			      st a, unk_1C5		    ; Bad Address
							    ; Bad Address

loc_F5DC:						    ; CODE XREF: ROM:F5A0j
			      ld a, unk_1C6		    ; Bad Address
							    ; Bad Address
			      mov a, b
			      sub a, unk_1C8		    ; Bad Address
							    ; Bad Address
			      bcc loc_F5ED		    ; Bad Address
							    ; Bad Address

			      add a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      bcs loc_F5F2

			      clr a
			      bra loc_F5F2

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F5ED:						    ; CODE XREF: ROM:F5E3j
			      add a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      bcs loc_F5F5


loc_F5F2:						    ; CODE XREF: ROM:F5E8j
							    ; ROM:F5EBj
			      cmp a, b
			      ble loc_F5F6


loc_F5F5:						    ; CODE XREF: ROM:F5F0j
			      mov b, a

loc_F5F6:						    ; CODE XREF: ROM:F5F3j
			      ld b, unk_162
			      shl b
			      bcs loc_F613

			      sub b, unk_1C9		    ; Bad Address
							    ; Bad Address
			      bcc loc_F613

			      add b, unk_1C6		    ; Bad Address
							    ; Bad Address
			      bcs loc_F607

			      clr b

loc_F607:						    ; CODE XREF: ROM:F604j
			      cmp a, b
			      ble loc_F613

			      mov b, a
			      cmp a, #1Ah
			      bcc loc_F611

			      ld a, #1Ah

loc_F611:						    ; CODE XREF: ROM:F60Dj
			      bra loc_F61F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F613:						    ; CODE XREF: ROM:F5FAj
							    ; ROM:F5FFj ...
			      ld b, unk_173
			      bne loc_F61F

			      cmp a, unk_1C7		    ; Bad Address
							    ; Bad Address
			      bgt loc_F624		    ; Bad Address
							    ; Bad Address

			      mov a, b
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F61F:						    ; CODE XREF: ROM:F598j
							    ; ROM:loc_F611j ...
			      ld b, #1Ah
			      st b, unk_1C7		    ; Bad Address
							    ; Bad Address

loc_F624:						    ; CODE XREF: ROM:F61Bj
			      st a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      ld a, unk_1C6		    ; Bad Address
							    ; Bad Address
			      st a, unk_1C8		    ; Bad Address
							    ; Bad Address
			      clr a
			      tbbs bit4, unk_40, loc_F660

			      ld a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      cmp #0D2h, var_ect
			      bcc loc_F63D

			      add a, #11h
			      bra loc_F650		    ; Bad Address
							    ; Bad Address

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F63D:						    ; CODE XREF: ROM:F637j
			      ld b, #90h
			      cmp b, #94h
			      bcc loc_F650		    ; Bad Address
							    ; Bad Address

			      cmp #90h,	var_rpm_x_5p12
			      bcs loc_F650		    ; Bad Address
							    ; Bad Address

			      ld a, unk_1C2		    ; Bad Address
							    ; Bad Address
			      sub a, byte_304		    ; Bad Address
							    ; Bad Address
			      bra loc_F653

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F650:						    ; CODE XREF: ROM:F63Bj
							    ; ROM:F641j ...
			      sub a, unk_1C6		    ; Bad Address
							    ; Bad Address

loc_F653:						    ; CODE XREF: ROM:F64Ej
			      bcc loc_F65D		    ; Bad Address
							    ; Bad Address
							    ; Bad Address

			      add a, unk_1C9		    ; Bad Address
							    ; Bad Address
							    ; Bad Address
			      bcs loc_F660

			      clr a
			      bra loc_F660

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F65D:						    ; CODE XREF: ROM:loc_F653j
			      ld a, unk_1C9		    ; Bad Address
							    ; Bad Address
							    ; Bad Address

loc_F660:						    ; CODE XREF: ROM:F62Ej
							    ; ROM:F658j ...
			      st a, unk_1BF
			      cmp #40h,	unk_C5
			      bcc loc_F66B

			      jmp locret_F6E3

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F66B:						    ; CODE XREF: ROM:F666j
			      clr unk_C5
			      ld a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      sub a, #02h
			      bcc loc_F675

			      clr a

loc_F675:						    ; CODE XREF: ROM:F672j
			      ld b, unk_1BF
			      bne loc_F680		    ; Bad Address
							    ; Bad Address

			      cmp a, #1Ah
			      bcc loc_F680		    ; Bad Address
							    ; Bad Address

			      ld a, #1Ah

loc_F680:						    ; CODE XREF: ROM:F678j
							    ; ROM:F67Cj
			      st a, unk_1C0		    ; Bad Address
							    ; Bad Address
			      ld b, unk_1C6		    ; Bad Address
							    ; Bad Address
			      beq loc_F6C2

			      ld a, var_rpm_x_5p12
			      cmp a, #18h
			      bcs loc_F6C2

			      cmp a, #80h
			      bcc loc_F6C2

			      ld a, unk_1C7		    ; Bad Address
							    ; Bad Address
			      sub a, #11h
			      bcc loc_F6AB

			      ld a, unk_1CA		    ; Bad Address
							    ; Bad Address
			      ld y, #unk_C668
			      add y, a
			      ld a, y +	00h
			      add a, b
			      cmp a, #0ABh
			      ble loc_F6A9

			      ld a, #0ABh

loc_F6A9:						    ; CODE XREF: ROM:F6A5j
			      bra loc_F6B9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F6AB:						    ; CODE XREF: ROM:F697j
			      sub a, #11h
			      ble loc_F6C2

			      xch a, b
			      sub a, b
			      bcs loc_F6B7

			      cmp a, #1Ah
			      bcc loc_F6B9


loc_F6B7:						    ; CODE XREF: ROM:F6B1j
			      ld a, #1Ah

loc_F6B9:						    ; CODE XREF: ROM:loc_F6A9j
							    ; ROM:F6B5j
			      ld y, #unk_302
			      ld b, unk_1CA		    ; Bad Address
			      add y, b
			      st a, y +	00h

loc_F6C2:						    ; CODE XREF: ROM:F686j
							    ; ROM:F68Cj ...
			      ld x, #byte_C66B
			      ld b, unk_1CA		    ; Bad Address
			      shl b
			      add x, b
			      ld a, var_rpm_div_25
			      clr b
			      cmp a, x + 00h
			      bcs loc_F6D7		    ; Bad Address

			      inc b
			      cmp a, x + 01h
			      bcs loc_F6D7		    ; Bad Address

			      inc b

loc_F6D7:						    ; CODE XREF: ROM:F6CFj
							    ; ROM:F6D4j
			      st b, unk_1CA		    ; Bad Address
			      ld y, #unk_302
			      add y, b
			      ld a, y +	00h
			      st a, unk_1C6		    ; Bad Address

locret_F6E3:						    ; CODE XREF: ROM:F54Dj
							    ; ROM:loc_F55Aj ...
			      ret


;  S U B	R O U T	I N E 


sub_F6E4:						    ; CODE XREF: sub_EA2F+1FEp
			      ld d, unk_12D
			      jsr divide_rD_16

			      mov d, x
			      ld d, var_rpm_x_5p12
			      ld y, #word_C60F
			      jsr map_interpolate_3d_div_8

			      st a, unk_1C9		    ; Bad Address
			      tbbc bit5, var_flags_42, loc_F702

			      ld d, #6F6Fh
			      st d, unk_302		    ; Bad Address
			      st a, byte_304		    ; Bad Address

loc_F702:						    ; CODE XREF: sub_F6E4+12j
			      cmp #0D2h, var_ect
			      bcs loc_F714

			      tbbs bit5, var_flags_42, loc_F714

			      ld a, unk_5C
			      cmp a, #96h
			      bcc loc_F716

			      cmp a, #6Ah
			      ble loc_F716


loc_F714:						    ; CODE XREF: sub_F6E4+21j
							    ; sub_F6E4+23j
			      clr unk_C6

loc_F716:						    ; CODE XREF: sub_F6E4+2Aj
							    ; sub_F6E4+2Ej
			      cmp #06h,	unk_C6
			      bcs loc_F71E

			      setb bit3, PORTB
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F71E:						    ; CODE XREF: sub_F6E4+35j
			      clrb bit3, PORTB
			      ret

; End of function sub_F6E4


;  S U B	R O U T	I N E 


			      ;	public int_vector_9_ignition
int_vector_9_ignition:					    ; DATA XREF: ROM:FFF0o

; FUNCTION CHUNK AT F79F SIZE 0000002A BYTES

			      push x
			      push y
			      clrb bit0, IRQL
			      tbbc bit0, LDOUT,	ignition_on ; Latch DOUT

			      clrb bit0, var_ignition_flags
			      tbbc bit5, var_ignition_flags, loc_F734

			      clrb bit5, var_ignition_flags
			      jsr ignition_set_on_time

			      bra loc_F73F

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F734:						    ; CODE XREF: int_vector_9_ignition+9j
			      ld d, CPR0		    ; Timer comparison #0 MSB
			      add d, #3F7Ah
			      st d, CPR0		    ; Timer comparison #0 MSB
			      clrb bit0, DOUT
			      setb bit1, var_ignition_flags

loc_F73F:						    ; CODE XREF: int_vector_9_ignition+11j
			      tbs bit3,	var_ignition_flags
			      bne loc_F79F

			      jsr sub_DBD6

			      tbbs bit4, IRQLL,	loc_F781    ; Interrupt	Request	Flag LSB

			      ld d, var_igf_counter
			      inc a
			      bne loc_F750

			      dec a

loc_F750:						    ; CODE XREF: int_vector_9_ignition+2Cj
			      cmp a, #05h
			      bcs loc_F756

			      setb bit4, var_limit_flags

loc_F756:						    ; CODE XREF: int_vector_9_ignition+31j
			      cmp #3Fh,	unk_C1
			      bcs loc_F789

			      cmp #3Ch,	var_rpm_x_5p12
			      bcs loc_F768

			      cmp #73h,	var_adc_battery
			      bcs loc_F789

			      tbbs bit0, var_io_input1,	loc_F789


loc_F768:						    ; CODE XREF: int_vector_9_ignition+3Dj
			      cmp b, #01h
			      bgt loc_F76E

			      clr unk_C0

loc_F76E:						    ; CODE XREF: int_vector_9_ignition+49j
			      inc b
			      bne loc_F772

			      dec b

loc_F772:						    ; CODE XREF: int_vector_9_ignition+4Ej
			      cmp b, #09h
			      bcs loc_F78B

			      cmp #3Fh,	unk_C0
			      bcs loc_F78B

			      setb bit2, var_error_flags1
			      setb bit4, unk_4D
			      bra loc_F78B

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F781:						    ; CODE XREF: int_vector_9_ignition+25j
			      clrb bit4, IRQLL
			      clrb bit4, var_limit_flags
			      clrb bit2, var_error_flags1
			      ld a, #01h

loc_F789:						    ; CODE XREF: int_vector_9_ignition+38j
							    ; int_vector_9_ignition+42j ...
			      ld b, #01h

loc_F78B:						    ; CODE XREF: int_vector_9_ignition+53j
							    ; int_vector_9_ignition+58j ...
			      st d, var_igf_counter
			      bra loc_F79F

; End of function int_vector_9_ignition


;  S U B	R O U T	I N E 


check_IGF_error:					    ; CODE XREF: sub_DBDF+2B4p
			      tbbs bit4, unk_4D, loc_F795

			      clr var_igt_time

loc_F795:						    ; CODE XREF: check_IGF_errorj
			      and a, #0FBh
			      cmp #2Eh,	var_igt_time
			      ble locret_F79E

			      or a, #04h

locret_F79E:						    ; CODE XREF: check_IGF_error+Aj
			      ret

; End of function check_IGF_error

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR int_vector_9_ignition

loc_F79F:						    ; CODE XREF: int_vector_9_ignition+20j
							    ; int_vector_9_ignition+6Dj
			      bra loc_F7C6

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

ignition_on:						    ; CODE XREF: int_vector_9_ignition+4j
			      ld d, CPR0		    ; Timer comparison #0 MSB
			      st d, var_ign_on_time_from_CPR0
			      tbbs bit2, unk_40, loc_F7AF

			      tbbs bit0, var_io_input1,	loc_F7AF

			      clrb bit2, var_ignition_flags
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db 8Ch
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F7AF:						    ; CODE XREF: int_vector_9_ignition+85j
							    ; int_vector_9_ignition+88j
			      setb bit2, var_ignition_flags
			      tbbc bit3, var_ignition_flags, loc_F7B8

			      clrb bit3, var_ignition_flags
			      setb bit4, var_ignition_flags

loc_F7B8:						    ; CODE XREF: int_vector_9_ignition+90j
			      tbbs bit1, var_ignition_flags, loc_F7C6

			      tbbs bit2, var_ignition_flags, loc_F7C6

			      ld d, var_ne_sum3
			      add d, var_ign_on_time_from_CPR0
			      jsr ignition_update_off_time


loc_F7C6:						    ; CODE XREF: int_vector_9_ignition:loc_F79Fj
							    ; int_vector_9_ignition:loc_F7B8j ...
			      pull y
			      pull x
			      reti

; END OF FUNCTION CHUNK	FOR int_vector_9_ignition

;  S U B	R O U T	I N E 


			      ;	public int_watchdog
int_watchdog:						    ; DATA XREF: ROM:FFF6o
			      clrb bit4, IRQL
			      push x
			      push y
			      ld a, var_adc_index
			      mov a, b
			      and b, #03h
			      beq loc_F7DA

			      add a, #80h
			      bcc loc_F7E3

			      clr a

loc_F7DA:						    ; CODE XREF: int_watchdog+Aj
			      ld b, #00h
			      st b, var_dac_command
			      setb bit1, SSD
			      st b, SIDR_SODR		    ; Serial Input/Output Data Register

loc_F7E3:						    ; CODE XREF: int_watchdog+Ej
			      st a, var_adc_index
			      jsr drive_dout1

			      ld a, TIMER		    ; Timer MSB	(bit11~bit18)
			      shr a
			      shr a
			      shr a
			      bcc loc_F7F3

			      jsr sub_DCBC		    ; Bad Address


loc_F7F3:						    ; CODE XREF: int_watchdog+25j
			      clrb bit2, var_flags_42
			      setb bit1, IRQLL
			      pull y
			      pull x
			      reti

; End of function int_watchdog


;  S U B	R O U T	I N E 


sub_F7FA:						    ; CODE XREF: int_vector_6_sw_int+Fp
			      ld d, #0AC16h
			      jsr increment_counters

			      jsr init_ne_on_start

			      jsr sub_EBFB

			      jsr sub_DF11

			      inc var_cnt_C2
			      ld a, #01h
			      cmpb a, var_cnt_C2
			      beq loc_F814

			      jsr knock_unk_E73D


loc_F814:						    ; CODE XREF: sub_F7FA+15j
			      jsr some_knock_averaging_calc

			      cmp #56h,	var_revcnt_speed_update
			      bcs loc_F82E

			      clr var_revcnt_speed_update
			      jsr calc_speed_kph

			      ld d, var_rpm_x_5p12
			      shr d
			      shr d
			      div d, var_speed_kph
			      bcc loc_F82B

			      ld b, #0FFh

loc_F82B:						    ; CODE XREF: sub_F7FA+2Dj
			      st b, var_gearing

loc_F82E:						    ; CODE XREF: sub_F7FA+20j
			      tbbc bit1, var_flags_42, loc_F861

			      ld a, TIMER		    ; Timer MSB	(bit11~bit18)
			      shr a
			      shr a
			      shr a
			      bcs loc_F858

			      shr a
			      bcs loc_F852

			      shr a
			      bcs loc_F84E

			      shr a
			      bcs loc_F84A

			      shr a
			      bcs loc_F846

			      bra loc_F861

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F846:						    ; CODE XREF: sub_F7FA+48j
			      clrb bit2, unk_44
			      bra loc_F861

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F84A:						    ; CODE XREF: sub_F7FA+45j
			      clrb bit7, unk_41
			      bra loc_F861

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F84E:						    ; CODE XREF: sub_F7FA+42j
			      clrb bit6, unk_41
			      bra loc_F861

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F852:						    ; CODE XREF: sub_F7FA+3Fj
			      clrb bit5, unk_41
			      clrb bit4, unk_41
			      bra loc_F861

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F858:						    ; CODE XREF: sub_F7FA+3Cj
			      ld d, #0C304h
			      jsr increment_counters

			      jsr loc_DC66		    ; Bad Address


loc_F861:						    ; CODE XREF: sub_F7FA:loc_F82Ej
							    ; sub_F7FA+4Aj ...
			      setb bit6, var_ignition_flags
			      ret

; End of function sub_F7FA


;  S U B	R O U T	I N E 


			      ;	public int_vector_6_sw_int
int_vector_6_sw_int:					    ; DATA XREF: ROM:FFEAo
			      clrb bit1, IRQLL
			      push x
			      push y
			      tbs bit3,	var_flags_42
			      bne loc_F86F

			      jsr ignition_timing_calc


loc_F86F:						    ; CODE XREF: int_vector_6_sw_int+6j
			      tbs bit2,	var_flags_42
			      bne loc_F875

			      bsr sub_F7FA


loc_F875:						    ; CODE XREF: int_vector_6_sw_int+Dj
			      pull y
			      pull x
			      reti

; End of function int_vector_6_sw_int


;  S U B	R O U T	I N E 


			      ;	public int_vector_4_kph
int_vector_4_kph:					    ; DATA XREF: ROM:FFE6o

; FUNCTION CHUNK AT F8BC SIZE 00000003 BYTES

			      clrb bit7, IRQLL
			      push x
			      push y
			      tbs bit5,	TAIT		    ; Timer ASR	Control
			      beq loc_F885		    ; Bad Address
							    ; Bad Address
							    ; Bad Address
							    ; Bad Address

			      clrb bit5, TAIT
			      ld d, ASR3		    ; ASR3 edge	counter	value MSB
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F885:						    ; CODE XREF: int_vector_4_kph+6j
			      ld d, unk_34		    ; Bad Address
							    ; Bad Address
							    ; Bad Address
							    ; Bad Address
			      cmp #05h,	unk_B1
			      bgt loc_F895

			      sub d, unk_F6
			      cmp d, #00FAh
			      ble loc_F8A2

			      add d, unk_F6

loc_F895:						    ; CODE XREF: int_vector_4_kph+12j
			      st d, unk_F6
			      di
			      ld a, var_kph_table
			      inc a
			      beq loc_F89F

			      st a, var_kph_table

loc_F89F:						    ; CODE XREF: int_vector_4_kph+23j
			      ei
			      clr unk_B1

loc_F8A2:						    ; CODE XREF: int_vector_4_kph+19j
			      bra loc_F8BC

; End of function int_vector_4_kph


;  S U B	R O U T	I N E 


calc_speed_kph:						    ; CODE XREF: sub_F7FA+24p
			      clr a
			      ld x, #var_kph_table
			      xch a, x + 00h
			      xch a, x + 01h
			      add a, x + 01h
			      bcc loc_F8B2

			      ld a, #0FFh

loc_F8B2:						    ; CODE XREF: calc_speed_kph+Aj
			      cmp a, #02h
			      bgt loc_F8B7

			      clr a

loc_F8B7:						    ; CODE XREF: calc_speed_kph+10j
			      xch a, var_speed_kph
			      st a, var_speed_kph_2
			      ret

; End of function calc_speed_kph

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
; START	OF FUNCTION CHUNK FOR int_vector_4_kph

loc_F8BC:						    ; CODE XREF: int_vector_4_kph:loc_F8A2j
			      pull y
			      pull x
			      reti

; END OF FUNCTION CHUNK	FOR int_vector_4_kph
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

			      ;	public int_vector_1_serial_rx
int_vector_1_serial_rx:					    ; DATA XREF: ROM:FFE0o
			      clrb bit3, IRQLL
			      push x
			      push y
			      tbbs bit6, SSD, loc_F8D5	    ; Serial Status Data Register

			      ld a, SIDR_SODR		    ; Serial Input/Output Data Register
			      setb bit1, SSD
			      ld #80h, SIDR_SODR	    ; Serial Input/Output Data Register
			      ld b, #0Dh

loc_F8CF:						    ; CODE XREF: ROM:F8D3j
			      tbbs bit7, SSD, loc_F8DB	    ; Serial Status Data Register

			      dec b
			      bne loc_F8CF


loc_F8D5:						    ; CODE XREF: ROM:F8C3j
							    ; ROM:F8DDj
			      ld b, SIDR_SODR		    ; Serial Input/Output Data Register
			      ld a, #0FFh
			      bra loc_F8F9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F8DB:						    ; CODE XREF: ROM:loc_F8CFj
			      clrb bit3, IRQLL
			      tbbs bit6, SSD, loc_F8D5	    ; Serial Status Data Register

			      ld b, SIDR_SODR		    ; Serial Input/Output Data Register
			      mov d, x
			      tbbc bit1, var_flags_42, loc_F8E9

			      tbbc bit6, var_ignition_flags, loc_F8F6


loc_F8E9:						    ; CODE XREF: ROM:F8E3j
			      cmp #18h,	unk_B4
			      bgt loc_F8F6

			      tbs bit0,	PORTA		    ; Port A Data Register
			      beq loc_F8F4

			      clrb bit0, PORTA

loc_F8F4:						    ; CODE XREF: ROM:F8F0j
			      clrb bit6, var_ignition_flags

loc_F8F6:						    ; CODE XREF: ROM:F8E6j
							    ; ROM:F8ECj
			      ld a, var_dac_command

loc_F8F9:						    ; CODE XREF: ROM:F8D9j
			      push a
			      tbbc bit1, var_flags_42, loc_F904

			      ld b, var_adc_index
			      and b, #03h
			      bne loc_F909


loc_F904:						    ; CODE XREF: ROM:F8FAj
			      push x
			      jsr sub_F9E5

			      pull x

loc_F909:						    ; CODE XREF: ROM:F902j
			      tbbs bit1, var_flags_42, loc_F919

			      clr a
			      ld b, var_dac_command
			      inc b
			      cmp b, #0Ch
			      bne loc_F949

			      setb bit1, var_flags_42
			      bra loc_F991

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F919:						    ; CODE XREF: ROM:loc_F909j
			      ld a, var_adc_index
			      inc a
			      and a, #7Fh
			      mov a, b
			      and b, #07h
			      ld y, #byte_F9C2
			      tbbs bit1, unk_46, loc_F92E

			      tbbs bit0, unk_40, loc_F92E

			      ld y, #byte_F9CA

loc_F92E:						    ; CODE XREF: ROM:F925j
							    ; ROM:F928j
			      add y, b
			      ld b, y +	00h
			      bpz loc_F949

			      cmp b, #81h
			      beq loc_F93D

			      cmp b, #80h
			      beq loc_F954

			      bra loc_F98E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F93D:						    ; CODE XREF: ROM:F935j
			      mov a, b
			      shr b
			      shr b
			      shr b
			      and b, #0Fh
			      ld y, #byte_F9D2
			      add y, b
			      ld b, y +	00h

loc_F949:						    ; CODE XREF: ROM:F913j
							    ; ROM:F931j
			      setb bit1, SSD
			      st b, var_dac_command
			      and b, #1Fh
			      st b, SIDR_SODR		    ; Serial Input/Output Data Register
			      bra loc_F98E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F954:						    ; CODE XREF: ROM:F939j
			      push a
                              jsr serial_diag_extended
                              bra loc_F988

			      .org 0F988h
loc_F988:						    ; CODE XREF: ROM:F96Aj
			      clrb bit3, IRQLL
			      pull a
			      inc a
			      and a, #7Fh

loc_F98E:						    ; CODE XREF: ROM:F93Bj
							    ; ROM:F952j
			      st a, var_adc_index

loc_F991:						    ; CODE XREF: ROM:F917j
			      pull b
			      cmp b, #0FFh
			      bne loc_F999

			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F999:						    ; CODE XREF: ROM:F994j
			      shl b
			      and b, #1Eh
			      ld y, #off_F9A6
			      add y, b
			      ld y, y +	00h
			      mov x, d
			      mov a, b
			      jmp y + 00h

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
off_F9A6:		      .dw adc_handler_pim, loc_FB97 ; DATA XREF: ROM:F99Co
			      .dw adc_handler_unk_FB5F,	adc_handler_battery
			      .dw adc_handler_ect, adc_handler_tha
			      .dw loc_FD82, loc_FD86
			      .dw loc_FD8B, loc_FD9B
			      .dw loc_FDA0, adc_handler_complete
			      .dw adc_handler_complete,	adc_handler_complete
byte_F9C2:		      .db 82h, 02h, 81h, 80h	    ; DATA XREF: ROM:F922o
			      .db 82h, 0Ch, 01h, 80h
byte_F9CA:		      .db 82h, 03h, 81h, 80h	    ; DATA XREF: ROM:F92Bo
			      .db 82h, 0Ch, 01h, 80h
byte_F9D2:		      .db 04h, 05h, 03h, 06h	    ; DATA XREF: ROM:F943o
			      .db 04h, 09h, 03h, 07h
			      .db 04h, 05h, 03h, 06h
			      .db 04h, 0Ah, 03h, 08h
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

adc_complete:						    ; CODE XREF: ROM:F996j
							    ; ROM:loc_FB5Cj ...
			      pull y
			      pull x
			      reti


;  S U B	R O U T	I N E 


sub_F9E5:						    ; CODE XREF: ROM:F905p
			      ld a, SSD			    ; Serial Status Data Register
			      ld a, SIDR_SODR		    ; Serial Input/Output Data Register
			      clrb bit3, PORTA
			      ld b, #0Dh

loc_F9ED:						    ; CODE XREF: sub_F9E5+Cj
			      tbbs bit7, SSD, loc_F9FD	    ; Serial Status Data Register

			      dec b
			      bne loc_F9ED

			      ld a, SSD			    ; Serial Status Data Register

loc_F9F5:						    ; CODE XREF: sub_F9E5+1Aj
			      ld a, SIDR_SODR		    ; Serial Input/Output Data Register
			      clrb bit3, IRQLL
			      setb bit3, PORTA
			      bra locret_FA51

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_F9FD:						    ; CODE XREF: sub_F9E5:loc_F9EDj
			      clrb bit3, IRQLL
			      tbbs bit6, SSD, loc_F9F5	    ; Serial Status Data Register

			      ld a, SIDR_SODR		    ; Serial Input/Output Data Register
			      ld b, SSD			    ; Serial Status Data Register
			      push b
			      setb bit3, PORTA
			      xor a, #8Ah
			      ld x, #var_io_input1
			      ld y, #unk_10C
			      bsr io_deglitch

			      ld b, y +	00h
			      cmpb b, #01h
			      beq loc_FA21

			      tbbs bit6, unk_4D, loc_FA23

			      setb bit6, unk_4D
			      clr unk_C1
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FA21:						    ; CODE XREF: sub_F9E5+32j
			      clrb bit6, unk_4D

loc_FA23:						    ; CODE XREF: sub_F9E5+34j
			      clr a
			      pull b
			      cmpb b, #01h
			      bne loc_FA2B

			      or a, #01h

loc_FA2B:						    ; CODE XREF: sub_F9E5+42j
			      tbbc bit1, PORTC,	loc_FA30    ; Port C Data Register

			      or a, #02h

loc_FA30:						    ; CODE XREF: sub_F9E5:loc_FA2Bj
			      tbbs bit4, PBCS, loc_FA35	    ; Port B Control Register

			      or a, #20h

loc_FA35:						    ; CODE XREF: sub_F9E5:loc_FA30j
			      tbbc bit7, PORTC,	loc_FA3A    ; Port C Data Register

			      or a, #80h

loc_FA3A:						    ; CODE XREF: sub_F9E5:loc_FA35j
			      tbbs bit4, PORTC,	loc_FA3F    ; Port C Data Register

			      or a, #40h

loc_FA3F:						    ; CODE XREF: sub_F9E5:loc_FA3Aj
			      ld x, #unk_4A
			      ld y, #unk_10D
; End of function sub_F9E5


;  S U B	R O U T	I N E 


io_deglitch:						    ; CODE XREF: sub_F9E5+2Cp
			      mov a, b
			      xor a, x + 00h
			      and a, y + 00h
			      st b, y +	00h
			      and b, x + 00h
			      add a, b
			      st a, x +	00h

locret_FA51:						    ; CODE XREF: sub_F9E5+16j
			      ret

; End of function io_deglitch

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

adc_handler_pim:					    ; DATA XREF: ROM:off_F9A6o
			      ld y, #unk_C69F
			      jsr y + 0Ch

			      ld a, var_flags_19A
			      bcc loc_FA7B

			      ld x, #6666h
			      tbbc bit2, unk_46, loc_FA66

			      setb bit5, var_error_flags1
			      setb bit5, var_diag_errors_5

loc_FA66:						    ; CODE XREF: ROM:FA5Fj
			      cmpb a, #01h
			      bne loc_FA70

			      or a, #01h
			      clr var_cnt_sensor_error
			      bra loc_FA84

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FA70:						    ; CODE XREF: ROM:FA68j
			      cmp #0Fh,	var_cnt_sensor_error
			      bcs loc_FA77

			      setb bit5, var_error_flags1

loc_FA77:						    ; CODE XREF: ROM:FA73j
			      setb bit3, unk_4D
			      bra loc_FA84

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FA7B:						    ; CODE XREF: ROM:FA5Aj
			      and a, #0FEh
			      tbbs bit2, unk_46, loc_FA82

			      clrb bit5, var_error_flags1

loc_FA82:						    ; CODE XREF: ROM:FA7Dj
			      clrb bit3, unk_4D

loc_FA84:						    ; CODE XREF: ROM:FA6Ej
							    ; ROM:FA79j
			      st a, var_flags_19A
			      mov x, d
			      sub d, #1EC0h
			      bcc loc_FA8F

			      clr a
			      clr b

loc_FA8F:						    ; CODE XREF: ROM:FA8Bj
			      tbbs bit0, unk_40, loc_FADF

			      tbbs bit1, var_diag_errors_4, loc_FAA5

			      cmp #0Ch,	TIMER		    ; Timer MSB	(bit11~bit18)
			      bcs loc_FADF

			      setb bit1, var_diag_errors_4
			      st a, unk_FF
			      tbbc bit0, var_io_input1,	loc_FADF


loc_FAA1:						    ; CODE XREF: ROM:FABAj
			      setb bit2, var_diag_errors_4
			      bra loc_FADF

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FAA5:						    ; CODE XREF: ROM:FA92j
			      sub d, var_pim
			      rorc a
			      rorc b
			      jsr divide_rD_2_signed

			      add d, var_pim
			      mov d, y
			      tbbs bit2, var_diag_errors_4, loc_FAC8

			      sub a, unk_FF
			      bcc loc_FAB7

			      neg a

loc_FAB7:						    ; CODE XREF: ROM:FAB4j
			      cmp a, #01h
			      mov y, d
			      bgt loc_FAA1

			      tbbc bit0, var_io_input1,	loc_FAC8

			      setb bit2, var_diag_errors_4
			      cmp #0FFh, var_cnt_C3
			      bcs loc_FAC8

			      setb bit0, var_diag_errors_4

loc_FAC8:						    ; CODE XREF: ROM:FAAFj
							    ; ROM:FABCj ...
			      tbbc bit0, var_diag_errors_4, loc_FADF

			      tbbc bit5, RAMST,	loc_FADF    ; Built-in RAM status

			      push d
			      ld b, unk_FF
			      ld y, #unk_C699
			      jsr y + 12h

			      ld x, #0098h
			      jsr sub_D341

			      clrb bit0, var_diag_errors_4
			      pull d

loc_FADF:						    ; CODE XREF: ROM:loc_FA8Fj
							    ; ROM:FA98j ...
			      st d, var_pim
			      jmp loc_FB5C


;  S U B	R O U T	I N E 


sub_FAE4:						    ; CODE XREF: __RESET+198Bp
			      ld b, #9Ch
			      tbbs bit0, unk_40, loc_FB2B

			      cmp #80h,	var_rpm_div_25
			      bcc locret_FB3C

			      cmp #18h,	var_rpm_div_25
			      bcs locret_FB3C

			      cmp #0Ah,	var_speed_kph
			      bcs locret_FB3C

			      ld a, unk_154
			      bpz loc_FAFE

			      neg a

loc_FAFE:						    ; CODE XREF: sub_FAE4+17j
			      cmp a, #01h
			      bgt locret_FB3C

			      ld b, unk_98
			      ld a, unk_153
			      cmp a, #8Fh
			      bcs loc_FB25

			      clrb bit0, var_diag_errors_5
			      ld a, unk_139
			      ld b, var_pim
			      cmp a, b
			      bcc loc_FB18

			      setb bit0, var_diag_errors_5
			      xch a, b

loc_FB18:						    ; CODE XREF: sub_FAE4+2Fj
			      sub a, b
			      ld b, unk_98
			      cmp a, #01h
			      bcs loc_FB25

			      tbbc bit0, var_diag_errors_5, loc_FB24

			      inc b
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  41h ; A
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FB24:						    ; CODE XREF: sub_FAE4+3Bj
			      dec b

loc_FB25:						    ; CODE XREF: sub_FAE4+25j
							    ; sub_FAE4+39j
			      ld a, var_pim
			      cmp a, b
			      ble loc_FB2B

			      mov a, b

loc_FB2B:						    ; CODE XREF: sub_FAE4+2j
							    ; sub_FAE4+44j
			      cmp b, unk_98
			      beq locret_FB3C

			      ld y, #unk_C699
			      jsr y + 12h

			      ld x, #0098h
			      jsr sub_D341

			      st a, unk_FF

locret_FB3C:						    ; CODE XREF: sub_FAE4+8j
							    ; sub_FAE4+Dj ...
			      ret

; End of function sub_FAE4


;  S U B	R O U T	I N E 


sub_FB3D:						    ; CODE XREF: __RESET+3A5p
			      ld b, unk_98
			      ld y, #unk_C699
			      jsr y + 12h

			      bcc loc_FB49

			      jsr sub_CA81


loc_FB49:						    ; CODE XREF: sub_FB3D+7j
			      ld a, unk_98
			      tbbs bit0, var_flags_42, loc_FB50

			      ld a, #80h

loc_FB50:						    ; CODE XREF: sub_FB3D+Ej
			      clr b
			      shr d
			      div d, #9Ch
			      bcc loc_FB58

			      ld b, #0FFh

loc_FB58:						    ; CODE XREF: sub_FB3D+17j
			      st b, unk_152
			      ret

; End of function sub_FB3D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FB5C:						    ; CODE XREF: ROM:FAE1j
			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

adc_handler_unk_FB5F:					    ; DATA XREF: ROM:off_F9A6o
			      mov x, d
			      shl d
			      bcs loc_FB66

			      shl d
			      bcc loc_FB68


loc_FB66:						    ; CODE XREF: ROM:FB61j
			      ld a, #0FFh

loc_FB68:						    ; CODE XREF: ROM:FB64j
			      st a, unk_194
			      ld b, unk_5F
			      ld y, #unk_C3C7
			      tbbs bit4, unk_40, loc_FB7A

			      inc y
			      ld a, unk_10B
			      and a, #03h
			      add y, a

loc_FB7A:						    ; CODE XREF: ROM:FB70j
			      cmp x, #170Ah
			      bcs loc_FB88

			      ld a, y +	05h
			      dec b
			      bmi loc_FB91

			      beq loc_FB8F

			      bra loc_FB92

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FB88:						    ; CODE XREF: ROM:FB7Dj
			      ld a, y +	00h
			      inc b
			      bmi loc_FB92

			      bne loc_FB91


loc_FB8F:						    ; CODE XREF: ROM:FB84j
			      setb bit4, unk_44

loc_FB91:						    ; CODE XREF: ROM:FB82j
							    ; ROM:FB8Dj
			      mov a, b

loc_FB92:						    ; CODE XREF: ROM:FB86j
							    ; ROM:FB8Bj
			      st b, unk_5F
			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FB97:						    ; DATA XREF: ROM:off_F9A6o
			      st b, unk_15E
			      ld y, #unk_C6A5
			      jsr y + 06h

			      ld a, var_flags_19A
			      bcc loc_FBC8

			      cmpb a, #08h
			      bne loc_FBAC

			      or a, #08h
			      clr var_cnt_sensor_error

loc_FBAC:						    ; CODE XREF: ROM:FBA6j
			      tbbs bit2, unk_46, loc_FBB5

			      cmp #0Fh,	var_cnt_sensor_error
			      bcs loc_FBB9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FBB5:						    ; CODE XREF: ROM:loc_FBACj
			      setb bit5, var_diag_errors_5
			      setb bit1, unk_4C

loc_FBB9:						    ; CODE XREF: ROM:FBB2j
			      setb bit7, unk_40
			      ld b, #10h
			      st b, unk_106

loc_FBC0:						    ; CODE XREF: ROM:FBD2j
							    ; ROM:FBDAj
			      clr b
			      st b, unk_192

loc_FBC4:						    ; CODE XREF: ROM:FBE5j
			      clrb bit6, unk_40
			      bra loc_FBE9

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FBC8:						    ; CODE XREF: ROM:FBA2j
			      and a, #0F7h
			      tbbs bit2, unk_46, loc_FBCF

			      clrb bit1, unk_4C

loc_FBCF:						    ; CODE XREF: ROM:FBCAj
			      tbbc bit7, unk_40, loc_FBE9

			      tbbc bit5, unk_4A, loc_FBC0

			      ld y, #unk_C6A7
			      jsr y + 04h

			      bcs loc_FBC0

			      ld b, unk_192
			      inc b
			      st b, unk_192
			      cmp b, #02h
			      bcs loc_FBC4

			      clrb bit7, unk_40

loc_FBE9:						    ; CODE XREF: ROM:FBC6j
							    ; ROM:loc_FBCFj
			      st a, var_flags_19A
			      tbbc bit7, unk_40, loc_FBF9

			      clr unk_F0
			      ld d, #0000h
			      st d, unk_52
			      jmp loc_FC7E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FBF9:						    ; CODE XREF: ROM:FBECj
			      tbbs bit5, unk_4A, loc_FBFE

			      clr unk_F0

loc_FBFE:						    ; CODE XREF: ROM:loc_FBF9j
			      ld a, unk_300
			      ld b, #0AEh
			      tbbs bit0, unk_40, loc_FC5D

			      tbbc bit1, var_flags_42, loc_FC5D

			      tbbc bit0, var_flags_42, loc_FC5D

			      tbs bit3,	unk_44
			      bne loc_FC18

			      add a, #08h
			      bcc loc_FC16

			      ld a, #0FFh

loc_FC16:						    ; CODE XREF: ROM:FC12j
			      bra loc_FC4D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FC18:						    ; CODE XREF: ROM:FC0Ej
			      ld b, unk_F0

loc_FC1A:						    ; CODE XREF: ROM:FC20j
			      cmp b, #40h
			      bcs loc_FC22

			      sub b, #40h
			      bra loc_FC1A

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FC22:						    ; CODE XREF: ROM:FC1Cj
			      cmp b, #0Ah
			      bne loc_FC30

			      add a, #01h
			      bcc loc_FC2C

			      ld a, #0FFh

loc_FC2C:						    ; CODE XREF: ROM:FC28j
			      inc unk_F0
			      bra loc_FC4D

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FC30:						    ; CODE XREF: ROM:FC24j
			      cmp #02h,	unk_F0
			      bcs loc_FC5E

			      push a
			      mov x, d
			      jsr divide_rD_64_saturate

			      add b, #01h
			      bcc loc_FC40

			      ld b, #0FFh

loc_FC40:						    ; CODE XREF: ROM:FC3Cj
			      pull a
			      cmp a, b
			      ble loc_FC5E

			      tbs bit5,	unk_46
			      beq loc_FC60

			      sub a, #01h
			      bcc loc_FC4D

			      clr a

loc_FC4D:						    ; CODE XREF: ROM:loc_FC16j
							    ; ROM:FC2Ej ...
			      mov a, b
			      ld y, #unk_C6A9
			      jsr y + 02h

			      push x
			      ld x, #0300h
			      jsr sub_D341

			      pull x
			      bra loc_FC60

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FC5D:						    ; CODE XREF: ROM:FC03j
							    ; ROM:FC06j ...
			      mov b, a

loc_FC5E:						    ; CODE XREF: ROM:FC33j
							    ; ROM:FC42j
			      clrb bit5, unk_46

loc_FC60:						    ; CODE XREF: ROM:FC46j
							    ; ROM:FC5Bj
			      clr b
			      shr d
			      shr d
			      push d
			      mov x, d
			      mov s, x
			      sub d, x + 00h
			      bcc loc_FC6C

			      clr a
			      clr b

loc_FC6C:						    ; CODE XREF: ROM:FC68j
			      st d, unk_52
			      pull x
			      ld b, #56h
			      tbbs bit6, unk_40, loc_FC76

			      ld b, #5Ch

loc_FC76:						    ; CODE XREF: ROM:FC71j
			      cmp a, b
			      bcs loc_FC7C

			      setb bit6, unk_40
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FC7C:						    ; CODE XREF: ROM:FC77j
			      clrb bit6, unk_40

loc_FC7E:						    ; CODE XREF: ROM:FBF6j
			      tbbc bit7, unk_40, loc_FC8A

			      clr a
			      st a, var_tps_delta
			      clrb bit6, var_diag_errors_4
			      setb bit7, var_diag_errors_4
			      bra loc_FCE6

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FC8A:						    ; CODE XREF: ROM:loc_FC7Ej
			      ld x, unk_104
			      ld d, unk_52
			      push x
			      mov s, x
			      sub d, x + 00h
			      pull x
			      bcc loc_FCAD

			      neg a
			      neg b
			      subc a, #00h
			      cmp d, #3D71h
			      bcs loc_FCA1

			      setb bit7, var_diag_errors_4

loc_FCA1:						    ; CODE XREF: ROM:FC9Dj
			      cmpb a, #0E0h
			      bne loc_FCA9

			      shl d
			      shl d
			      neg a
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FCA9:						    ; CODE XREF: ROM:FCA3j
			      ld a, #80h
			      bra loc_FCBC

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FCAD:						    ; CODE XREF: ROM:FC94j
			      cmp a, #33h
			      bcs loc_FCB3

			      setb bit7, var_limit_flags

loc_FCB3:						    ; CODE XREF: ROM:FCAFj
			      cmpb a, #0E0h
			      bne loc_FCBA

			      shl d
			      shl d
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FCBA:						    ; CODE XREF: ROM:FCB5j
			      ld a, #7Fh

loc_FCBC:						    ; CODE XREF: ROM:FCABj
			      ld b, unk_154
			      bpz loc_FCC2

			      neg b

loc_FCC2:						    ; CODE XREF: ROM:FCBFj
			      cmp b, #01h
			      bcc loc_FCC8

			      clrb bit7, var_diag_errors_4

loc_FCC8:						    ; CODE XREF: ROM:FCC4j
			      ld b, var_tps_delta
			      st a, var_tps_delta
			      tbbs bit4, unk_40, loc_FCE4

			      cmp #0A0h, var_rpm_div_25
			      bcc loc_FCE4

			      add a, b
			      bvs loc_FCE1

			      cmpz a
			      beq loc_FCE4

			      bpz loc_FCDD

			      neg a

loc_FCDD:						    ; CODE XREF: ROM:FCDAj
			      cmp a, #02h
			      bcs loc_FCE6


loc_FCE1:						    ; CODE XREF: ROM:FCD5j
			      setb bit6, var_diag_errors_4
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FCE4:						    ; CODE XREF: ROM:FCCCj
							    ; ROM:FCD2j ...
			      clrb bit6, var_diag_errors_4

loc_FCE6:						    ; CODE XREF: ROM:FC88j
							    ; ROM:FCDFj
			      ld d, unk_52
			      st d, unk_104
			      jsr sub_CC05

			      jsr transient_throttle_inject

			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

adc_handler_tha:					    ; DATA XREF: ROM:off_F9A6o
			      ld y, #unk_C6A1
			      jsr y + 0Ah

			      ld a, var_flags_19A
			      bcc loc_FD17

			      cmpb a, #04h
			      bne loc_FD06

			      or a, #04h
			      clr var_cnt_sensor_error

loc_FD06:						    ; CODE XREF: ROM:FD00j
			      tbbs bit2, unk_46, loc_FD0F

			      cmp #0Fh,	var_cnt_sensor_error
			      bcs loc_FD13

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD0F:						    ; CODE XREF: ROM:loc_FD06j
			      setb bit5, var_diag_errors_5
			      setb bit4, var_error_flags1

loc_FD13:						    ; CODE XREF: ROM:FD0Cj
			      ld b, #79h		    ; 79h ^ 0FFh = 86h - Default to 20 deg
			      bra loc_FD1E

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD17:						    ; CODE XREF: ROM:FCFCj
			      tbbs bit2, unk_46, loc_FD1C

			      clrb bit4, var_error_flags1

loc_FD1C:						    ; CODE XREF: ROM:loc_FD17j
			      and a, #0FBh

loc_FD1E:						    ; CODE XREF: ROM:FD15j
			      st a, var_flags_19A
			      xor b, #0FFh
			      st b, var_tha
			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

adc_handler_battery:					    ; DATA XREF: ROM:off_F9A6o
			      st b, var_adc_battery
			      tbbc bit5, RAMST,	adc_handler_batt_calc_inj ; Built-in RAM status

			      cmp b, #53h
			      bcs adc_handler_batt_calc_inj

			      tbs bit6,	unk_44
			      beq adc_handler_batt_calc_inj

			      setb bit0, PORTD_ASRIN	    ; Release Knock MCU	reset

; Calculate injector dead time from battery voltage

adc_handler_batt_calc_inj:				    ; CODE XREF: ROM:FD2Aj
							    ; ROM:FD2Fj ...
			      ld b, var_adc_battery
			      ld y, #table_inj_battery_adjust
			      jsr table_rB_fixed_32_interpolate

			      jsr divide_rD_64

			      st d, var_inj_battery_adjust
			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

adc_handler_ect:					    ; DATA XREF: ROM:off_F9A6o
			      ld y, #unk_C6A3
			      jsr y + 08h

			      ld a, var_flags_19A
			      bcc loc_FD6C

			      cmpb a, #02h
			      bne loc_FD5A

			      or a, #02h
			      clr var_cnt_sensor_error

loc_FD5A:						    ; CODE XREF: ROM:FD54j
			      tbbs bit2, unk_46, loc_FD63

			      cmp #0Fh,	var_cnt_sensor_error
			      bcs loc_FD67

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
			      .db  8Ch ; 
; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD63:						    ; CODE XREF: ROM:loc_FD5Aj
			      setb bit5, var_diag_errors_5
			      setb bit3, var_error_flags1

loc_FD67:						    ; CODE XREF: ROM:FD60j
			      ld x, #1B00h		    ; Default to 82 deg
			      bra loc_FD73

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD6C:						    ; CODE XREF: ROM:FD50j
			      tbbs bit2, unk_46, loc_FD71

			      clrb bit3, var_error_flags1

loc_FD71:						    ; CODE XREF: ROM:loc_FD6Cj
			      and a, #0FDh

loc_FD73:						    ; CODE XREF: ROM:FD6Aj
			      st a, var_flags_19A
			      mov x, d
			      xor a, #0FFh
			      xor b, #0FFh
			      and b, #0C0h
			      st d, var_ect
			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD82:						    ; DATA XREF: ROM:off_F9A6o
			      st b, unk_54
			      bra adc_handler_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD86:						    ; DATA XREF: ROM:off_F9A6o
			      st b, unk_107
			      bra adc_handler_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD8B:						    ; DATA XREF: ROM:off_F9A6o
			      st b, unk_108
			      and b, #0C0h
			      shr b
			      shr b
			      shr b
			      shr b
			      shr b
			      shr b
			      st b, unk_10B
			      bra adc_handler_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FD9B:						    ; DATA XREF: ROM:off_F9A6o
			      st b, unk_109
			      bra adc_handler_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

loc_FDA0:						    ; DATA XREF: ROM:off_F9A6o
			      st b, unk_10A
			      bra adc_handler_complete

adc_handler_complete:					    ; CODE XREF: ROM:FD84j
							    ; ROM:FD89j ...
			      jmp adc_complete

; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

			      .org 0FFDAh
			      
			      .db  70h ; p
			      .db  9Ch ; 

unk_FFDC:		      .db  82h ; 		    ; DATA XREF: ROM:F977o
			      .db  90h ; 
			      .dw IVf			    ; External interrupt 0
			      .dw int_vector_1_serial_rx    ; External interrupt 1
			      .dw IVf			    ; External interrupt 2
			      .dw IVf			    ; External interrupt 3
			      .dw int_vector_4_kph	    ; External interrupt 4
			      .dw IVf			    ; External interrupt 5
			      .dw int_vector_6_sw_int	    ; External interrupt 6
			      .dw IVf			    ; External interrupt 7
			      .dw IVf			    ; External interrupt 8
			      .dw int_vector_9_ignition	    ; External interrupt 9
			      .dw IVf			    ; External interrupt a
			      .dw IVf			    ; External interrupt b
			      .dw int_watchdog		    ; External interrupt c
			      .dw IVf			    ; External interrupt d
			      .dw int_vector_e_ne	    ; External interrupt e
			      .dw IVf			    ; External interrupt f
			      .dw __RESET		    ; Processor	reset
; end of 'ROM'


			      .end
